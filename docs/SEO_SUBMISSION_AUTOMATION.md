# SEO Submission Automation

This guide covers automating sitemap submissions to search engines.

## ‚úÖ What's Automated

### 1. Automatic Sitemap Ping (Simple Method) - 100% FREE, No API Keys

**Workflow**: `.github/workflows/seo-submission.yml`

**How it works:**
- Runs weekly (Tuesdays 9 AM UTC) or manually
- Pings search engines when sitemap updates
- **No authentication required**
- **No API keys needed**
- **Completely free forever**
- Works immediately

**Cost:** $0 (free forever, no limits)

**Supported Search Engines:**
- ‚úÖ Google (via ping endpoint)
- ‚úÖ Bing (via ping endpoint)
- ‚úÖ Yandex (via ping endpoint)

**How to use:**
1. Workflow runs automatically after deployments
2. Or trigger manually: GitHub Actions ‚Üí "SEO Sitemap Submission" ‚Üí Run workflow

### 2. Manual Submission Script

**Script**: `scripts/submit-sitemap.sh`

**Usage:**
```bash
# Default (uses https://sruja.ai)
./scripts/submit-sitemap.sh

# Custom URL
./scripts/submit-sitemap.sh https://your-site.com
```

## üîß Setup Options

### Option 1: Simple Ping (Current - Works Now)

**What it does:**
- Pings search engines about sitemap updates
- No authentication needed
- Search engines will crawl and index

**Status**: ‚úÖ Already configured and working

**Limitations:**
- Doesn't guarantee immediate indexing
- No confirmation from search engines
- Basic notification only

### Option 2: Google Search Console API (Advanced - Also FREE)

**Cost:** ‚úÖ Free (no credit card required)

For full automation with Google Search Console, you need:

#### A. Enable Google Search Console API

1. **Go to Google Cloud Console**: https://console.cloud.google.com/
2. **Create/Select Project**
3. **Enable Search Console API**:
   - APIs & Services ‚Üí Enable APIs
   - Search for "Google Search Console API"
   - Enable it

#### B. Create Service Account

1. **Create Service Account**:
   - APIs & Services ‚Üí Credentials
   - Create Credentials ‚Üí Service Account
   - Name: "sitemap-automation"
   - Create and download JSON key

2. **Grant Access**:
   - Go to Google Search Console
   - Settings ‚Üí Users and permissions
   - Add the service account email (from JSON)
   - Grant "Owner" or "Full" access

#### C. Add to GitHub Secrets

Add these secrets to your repository:
- `GOOGLE_SERVICE_ACCOUNT_KEY`: Contents of the JSON key file
- `GOOGLE_SEARCH_CONSOLE_SITE_URL`: `https://sruja.ai` (or your site)

#### D. Update Workflow

The workflow would use the Google API to:
- Submit sitemap directly
- Get submission status
- Request indexing for specific URLs
- View submission history

**Note**: This requires additional setup. The ping method works well for most cases.

## üìã What Gets Submitted

### Sitemap Location
- URL: `https://sruja.ai/sitemap.xml`
- Generated by Hugo automatically
- Contains all pages from your site

### When It Runs

1. **Automatic (Weekly)**:
   - Every Tuesday at 9 AM UTC
   - Scheduled in `.github/workflows/seo-submission.yml`

2. **After Deployments**:
   - Can be triggered after successful deployments
   - Add as a step in `deploy-learn-app.yml` if needed

3. **Manual**:
   - Via GitHub Actions UI
   - Or run `./scripts/submit-sitemap.sh` locally

## üîç How Search Engines Handle It

### Google
- Receives ping about sitemap update
- Crawls sitemap.xml within 1-2 days
- Indexes new/updated pages
- You can verify in Search Console

### Bing
- Receives ping about sitemap update
- Processes sitemap automatically
- Indexes pages as they're crawled

### Yandex
- Receives ping
- Crawls and indexes (mainly for Russian/Eastern Europe traffic)

## üìä Monitoring

### Check Submission Status

**Google Search Console:**
1. Go to: https://search.google.com/search-console
2. Select your property
3. Sitemaps ‚Üí See submitted sitemaps
4. Check status and last read date

**Bing Webmaster Tools:**
1. Go to: https://www.bing.com/webmasters
2. Sitemaps ‚Üí View submitted sitemaps

### Verify Indexing

```bash
# Check if pages are indexed (example)
curl -s "https://www.google.com/search?q=site:sruja.ai" | grep -o "About.*results"
```

## üöÄ Integration with Deploy

### Option 1: Run After Deploy (Recommended)

Add to `.github/workflows/deploy-learn-app.yml`:

```yaml
      - name: Submit sitemap to search engines
        if: github.ref == 'refs/heads/main'
        run: |
          ./scripts/submit-sitemap.sh https://sruja.ai
```

### Option 2: Separate Workflow (Current)

- Runs weekly automatically
- Can be triggered manually
- Doesn't block deployments

## üéØ Best Practices

### 1. Submit After Major Updates
- New content published
- Site structure changes
- Significant page additions

### 2. Don't Over-Submit
- Once per day is enough
- Weekly is fine for most sites
- Search engines crawl sitemaps regularly anyway

### 3. Monitor Results
- Check Search Console weekly
- See what pages are indexed
- Fix any crawl errors

### 4. Keep Sitemap Updated
- Hugo generates sitemap automatically ‚úì
- Ensure all important pages are included
- Check `public/sitemap.xml` after builds

## üîß Advanced: Full Search Console Integration

If you want full automation with Google Search Console API:

### Setup Script (Python)

Create `scripts/search-console-submit.py`:

```python
#!/usr/bin/env python3
"""Submit sitemap to Google Search Console via API"""
import json
import os
from google.oauth2 import service_account
from googleapiclient.discovery import build

SCOPES = ['https://www.googleapis.com/auth/webmasters']
SITE_URL = os.environ.get('GOOGLE_SEARCH_CONSOLE_SITE_URL', 'https://sruja.ai')
SITEMAP_URL = f"{SITE_URL}/sitemap.xml"

def submit_sitemap():
    credentials = service_account.Credentials.from_service_account_file(
        'service-account-key.json', scopes=SCOPES
    )
    
    service = build('searchconsole', 'v1', credentials=credentials)
    
    try:
        request = service.sitemaps().submit(
            siteUrl=SITE_URL,
            feedpath=SITEMAP_URL
        )
        request.execute()
        print(f"‚úÖ Successfully submitted {SITEMAP_URL}")
    except Exception as e:
        print(f"‚ùå Error: {e}")

if __name__ == '__main__':
    submit_sitemap()
```

Then update workflow to use Python script.

## üìù Current Status

‚úÖ **Configured and Working:**
- Automatic weekly sitemap submission
- Manual submission script
- Pings to Google, Bing, Yandex

‚ö†Ô∏è **Optional Enhancement:**
- Full Search Console API integration (requires setup)
- Bing Webmaster Tools API (requires setup)

## üîó Resources

- **Google Search Console**: https://search.google.com/search-console
- **Bing Webmaster Tools**: https://www.bing.com/webmasters
- **Sitemap Protocol**: https://www.sitemaps.org/
- **Google Search Console API**: https://developers.google.com/webmaster-tools/

## ‚úÖ Quick Start

**To enable automatic submissions:**
1. ‚úÖ Already configured! Workflow runs weekly
2. Manual trigger: GitHub Actions ‚Üí "SEO Sitemap Submission"
3. Or run locally: `./scripts/submit-sitemap.sh`

**To verify it's working:**
1. Check GitHub Actions for workflow runs
2. Verify in Search Console (sitemap shows as submitted)
3. Check indexing status after a few days

## üéâ Summary

**Current Setup:**
- ‚úÖ Automatic weekly submissions
- ‚úÖ Manual script available
- ‚úÖ No additional configuration needed
- ‚úÖ Works immediately

**Future Enhancement (Optional):**
- Full API integration for status tracking
- Automated indexing requests
- Detailed submission history

The current ping-based approach works well for most sites and requires no additional setup!

