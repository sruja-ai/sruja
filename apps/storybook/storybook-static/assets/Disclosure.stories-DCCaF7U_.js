import{R as b,a as o,j as r}from"./iframe-CLHqt8sP.js";import{$ as Z,a as ee}from"./useFocusRing-4vPDgUpM.js";import{w as te,e as ne}from"./use-resolve-button-type-DhPqIc8n.js";import{Y as B,y as R,T as re,b as oe,o as D,K as F,u as N,V as U,A as W}from"./use-sync-refs-v6ctzwoA.js";import{n as A,l as se,i as Y,o as I}from"./keyboard-DOqIamXD.js";import{c as le,i as k,u as ae,N as ie,x as ce,s as ue}from"./open-closed-B--VY9yg.js";import{C as de}from"./close-provider-CmZQmh2t.js";import{s as pe}from"./bugs-ByA1MTr8.js";import"./preload-helper-PPVm8Dsz.js";var X;let me=(X=b.startTransition)!=null?X:function(e){e()};var fe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fe||{}),he=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(he||{});let ye={0:e=>({...e,disclosureState:N(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},L=o.createContext(null);L.displayName="DisclosureContext";function V(e){let t=o.useContext(L);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,V),l}return t}let _=o.createContext(null);_.displayName="DisclosureAPIContext";function G(e){let t=o.useContext(_);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,G),l}return t}let K=o.createContext(null);K.displayName="DisclosurePanelContext";function be(){return o.useContext(K)}function xe(e,t){return N(t.type,ye,e,t)}let ge=o.Fragment;function De(e,t){let{defaultOpen:l=!1,...d}=e,u=o.useRef(null),p=R(t,re(i=>{u.current=i},e.as===void 0||oe(e.as))),m=o.useReducer(xe,{disclosureState:l?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:n,buttonId:s},x]=m,a=D(i=>{x({type:1});let h=se(u.current);if(!h||!s)return;let y=i?Y(i)?i:"current"in i&&Y(i.current)?i.current:h.getElementById(s):h.getElementById(s);y?.focus()}),E=o.useMemo(()=>({close:a}),[a]),f=A({open:n===0,close:a}),g={ref:p},S=F();return b.createElement(L.Provider,{value:m},b.createElement(_.Provider,{value:E},b.createElement(de,{value:a},b.createElement(le,{value:N(n,{0:k.Open,1:k.Closed})},S({ourProps:g,theirProps:d,slot:f,defaultTag:ge,name:"Disclosure"})))))}let Ee="button";function Se(e,t){let l=o.useId(),{id:d=`headlessui-disclosure-button-${l}`,disabled:u=!1,autoFocus:p=!1,...m}=e,[n,s]=V("Disclosure.Button"),x=be(),a=x===null?!1:x===n.panelId,E=o.useRef(null),f=R(E,t,D(c=>{if(!a)return s({type:4,element:c})}));o.useEffect(()=>{if(!a)return s({type:2,buttonId:d}),()=>{s({type:2,buttonId:null})}},[d,s,a]);let g=D(c=>{var v;if(a){if(n.disclosureState===1)return;switch(c.key){case I.Space:case I.Enter:c.preventDefault(),c.stopPropagation(),s({type:0}),(v=n.buttonElement)==null||v.focus();break}}else switch(c.key){case I.Space:case I.Enter:c.preventDefault(),c.stopPropagation(),s({type:0});break}}),S=D(c=>{switch(c.key){case I.Space:c.preventDefault();break}}),i=D(c=>{var v;pe(c.currentTarget)||u||(a?(s({type:0}),(v=n.buttonElement)==null||v.focus()):s({type:0}))}),{isFocusVisible:h,focusProps:y}=Z({autoFocus:p}),{isHovered:w,hoverProps:M}=ee({isDisabled:u}),{pressed:J,pressProps:q}=te({disabled:u}),z=A({open:n.disclosureState===0,hover:w,active:J,disabled:u,focus:h,autofocus:p}),H=ne(e,n.buttonElement),Q=a?U({ref:f,type:H,disabled:u||void 0,autoFocus:p,onKeyDown:g,onClick:i},y,M,q):U({ref:f,id:d,type:H,"aria-expanded":n.disclosureState===0,"aria-controls":n.panelElement?n.panelId:void 0,disabled:u||void 0,autoFocus:p,onKeyDown:g,onKeyUp:S,onClick:i},y,M,q);return F()({ourProps:Q,theirProps:m,slot:z,defaultTag:Ee,name:"Disclosure.Button"})}let ve="div",Ie=W.RenderStrategy|W.Static;function Ce(e,t){let l=o.useId(),{id:d=`headlessui-disclosure-panel-${l}`,transition:u=!1,...p}=e,[m,n]=V("Disclosure.Panel"),{close:s}=G("Disclosure.Panel"),[x,a]=o.useState(null),E=R(t,D(w=>{me(()=>n({type:5,element:w}))}),a);o.useEffect(()=>(n({type:3,panelId:d}),()=>{n({type:3,panelId:null})}),[d,n]);let f=ae(),[g,S]=ie(u,x,f!==null?(f&k.Open)===k.Open:m.disclosureState===0),i=A({open:m.disclosureState===0,close:s}),h={ref:E,id:d,...ce(S)},y=F();return b.createElement(ue,null,b.createElement(K.Provider,{value:m.panelId},y({ourProps:h,theirProps:p,slot:i,defaultTag:ve,features:Ie,visible:g,name:"Disclosure.Panel"})))}let Te=B(De),$e=B(Se),Pe=B(Ce),O=Object.assign(Te,{Button:$e,Panel:Pe});function C({title:e,children:t,defaultOpen:l}){return r.jsx(O,{defaultOpen:l,children:()=>r.jsxs("div",{className:"border border-[var(--color-border)] rounded-md",children:[r.jsx(O.Button,{className:"w-full text-left px-3.5 py-2.5 bg-[var(--color-background)]",children:r.jsx("span",{className:"text-[var(--color-text-primary)] font-medium",children:e})}),r.jsx(O.Panel,{className:"px-3.5 py-2.5 bg-[var(--color-surface)]",children:t})]})})}C.__docgenInfo={description:"",methods:[],displayName:"Disclosure",props:{title:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"any"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:""}}};const Le={title:"Components/Disclosure",component:C,tags:["autodocs"],parameters:{docs:{description:{component:"A collapsible disclosure component for showing and hiding content. Built on Headless UI."}}},argTypes:{title:{control:{type:"text"},description:"Title text for the disclosure button"},defaultOpen:{control:{type:"boolean"},description:"Whether the disclosure is open by default",table:{defaultValue:{summary:"false"}}}}},T={args:{title:"Click to expand",children:"This is the hidden content that appears when you click the disclosure button."}},$={args:{title:"Already expanded",defaultOpen:!0,children:"This content is visible by default."}},P={args:{title:"Long content example",children:r.jsxs("div",{children:[r.jsx("p",{children:"This disclosure contains multiple paragraphs of content."}),r.jsx("p",{children:"You can put any React content here, including lists, code blocks, and more."}),r.jsxs("ul",{children:[r.jsx("li",{children:"Item one"}),r.jsx("li",{children:"Item two"}),r.jsx("li",{children:"Item three"})]})]})}},j={render:()=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[r.jsx(C,{title:"First section",children:"Content for the first section"}),r.jsx(C,{title:"Second section",defaultOpen:!0,children:"Content for the second section (open by default)"}),r.jsx(C,{title:"Third section",children:"Content for the third section"})]})};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  args: {
    title: 'Click to expand',
    children: 'This is the hidden content that appears when you click the disclosure button.'
  }
}`,...T.parameters?.docs?.source}}};$.parameters={...$.parameters,docs:{...$.parameters?.docs,source:{originalSource:`{
  args: {
    title: 'Already expanded',
    defaultOpen: true,
    children: 'This content is visible by default.'
  }
}`,...$.parameters?.docs?.source}}};P.parameters={...P.parameters,docs:{...P.parameters?.docs,source:{originalSource:`{
  args: {
    title: 'Long content example',
    children: <div>
        <p>This disclosure contains multiple paragraphs of content.</p>
        <p>You can put any React content here, including lists, code blocks, and more.</p>
        <ul>
          <li>Item one</li>
          <li>Item two</li>
          <li>Item three</li>
        </ul>
      </div>
  }
}`,...P.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  render: () => <div style={{
    display: 'flex',
    flexDirection: 'column',
    gap: '0.5rem'
  }}>
      <Disclosure title="First section">
        Content for the first section
      </Disclosure>
      <Disclosure title="Second section" defaultOpen>
        Content for the second section (open by default)
      </Disclosure>
      <Disclosure title="Third section">
        Content for the third section
      </Disclosure>
    </div>
}`,...j.parameters?.docs?.source}}};const Ve=["Default","DefaultOpen","WithLongContent","Multiple"];export{T as Default,$ as DefaultOpen,j as Multiple,P as WithLongContent,Ve as __namedExportsOrder,Le as default};
