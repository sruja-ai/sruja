import{c as Ft,g as Gs,a as Gt,j as kv}from"./iframe-CLHqt8sP.js";import{c as Ht}from"./cytoscape.esm-BnkdMOzK.js";import{c as Us,r as Bv,E as Vv}from"./elk.bundled-BsTYLubE.js";import{l as rt}from"./logger-CfJbYVt4.js";var Yt={exports:{}},pr,fu;function Xv(){if(fu)return pr;fu=1;function e(){this.__data__=[],this.size=0}return pr=e,pr}var yr,lu;function wt(){if(lu)return yr;lu=1;function e(o,i){return o===i||o!==o&&i!==i}return yr=e,yr}var mr,hu;function zt(){if(hu)return mr;hu=1;var e=wt();function o(i,u){for(var r=i.length;r--;)if(e(i[r][0],u))return r;return-1}return mr=o,mr}var br,cu;function Wv(){if(cu)return br;cu=1;var e=zt(),o=Array.prototype,i=o.splice;function u(r){var n=this.__data__,a=e(n,r);if(a<0)return!1;var t=n.length-1;return a==t?n.pop():i.call(n,a,1),--this.size,!0}return br=u,br}var Er,du;function zv(){if(du)return Er;du=1;var e=zt();function o(i){var u=this.__data__,r=e(u,i);return r<0?void 0:u[r][1]}return Er=o,Er}var wr,vu;function $v(){if(vu)return wr;vu=1;var e=zt();function o(i){return e(this.__data__,i)>-1}return wr=o,wr}var Tr,gu;function jv(){if(gu)return Tr;gu=1;var e=zt();function o(i,u){var r=this.__data__,n=e(r,i);return n<0?(++this.size,r.push([i,u])):r[n][1]=u,this}return Tr=o,Tr}var Cr,pu;function $t(){if(pu)return Cr;pu=1;var e=Xv(),o=Wv(),i=zv(),u=$v(),r=jv();function n(a){var t=-1,s=a==null?0:a.length;for(this.clear();++t<s;){var f=a[t];this.set(f[0],f[1])}}return n.prototype.clear=e,n.prototype.delete=o,n.prototype.get=i,n.prototype.has=u,n.prototype.set=r,Cr=n,Cr}var xr,yu;function Kv(){if(yu)return xr;yu=1;var e=$t();function o(){this.__data__=new e,this.size=0}return xr=o,xr}var Nr,mu;function Zv(){if(mu)return Nr;mu=1;function e(o){var i=this.__data__,u=i.delete(o);return this.size=i.size,u}return Nr=e,Nr}var _r,bu;function Qv(){if(bu)return _r;bu=1;function e(o){return this.__data__.get(o)}return _r=e,_r}var Rr,Eu;function Jv(){if(Eu)return Rr;Eu=1;function e(o){return this.__data__.has(o)}return Rr=e,Rr}var Ar,wu;function Hd(){if(wu)return Ar;wu=1;var e=typeof Ft=="object"&&Ft&&Ft.Object===Object&&Ft;return Ar=e,Ar}var Lr,Tu;function et(){if(Tu)return Lr;Tu=1;var e=Hd(),o=typeof self=="object"&&self&&self.Object===Object&&self,i=e||o||Function("return this")();return Lr=i,Lr}var Or,Cu;function Tt(){if(Cu)return Or;Cu=1;var e=et(),o=e.Symbol;return Or=o,Or}var Mr,xu;function eg(){if(xu)return Mr;xu=1;var e=Tt(),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,r=e?e.toStringTag:void 0;function n(a){var t=i.call(a,r),s=a[r];try{a[r]=void 0;var f=!0}catch{}var h=u.call(a);return f&&(t?a[r]=s:delete a[r]),h}return Mr=n,Mr}var Ir,Nu;function tg(){if(Nu)return Ir;Nu=1;var e=Object.prototype,o=e.toString;function i(u){return o.call(u)}return Ir=i,Ir}var Sr,_u;function ct(){if(_u)return Sr;_u=1;var e=Tt(),o=eg(),i=tg(),u="[object Null]",r="[object Undefined]",n=e?e.toStringTag:void 0;function a(t){return t==null?t===void 0?r:u:n&&n in Object(t)?o(t):i(t)}return Sr=a,Sr}var qr,Ru;function Ze(){if(Ru)return qr;Ru=1;function e(o){var i=typeof o;return o!=null&&(i=="object"||i=="function")}return qr=e,qr}var Dr,Au;function Ot(){if(Au)return Dr;Au=1;var e=ct(),o=Ze(),i="[object AsyncFunction]",u="[object Function]",r="[object GeneratorFunction]",n="[object Proxy]";function a(t){if(!o(t))return!1;var s=e(t);return s==u||s==r||s==i||s==n}return Dr=a,Dr}var Pr,Lu;function rg(){if(Lu)return Pr;Lu=1;var e=et(),o=e["__core-js_shared__"];return Pr=o,Pr}var Fr,Ou;function ng(){if(Ou)return Fr;Ou=1;var e=rg(),o=(function(){var u=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""})();function i(u){return!!o&&o in u}return Fr=i,Fr}var Gr,Mu;function Yd(){if(Mu)return Gr;Mu=1;var e=Function.prototype,o=e.toString;function i(u){if(u!=null){try{return o.call(u)}catch{}try{return u+""}catch{}}return""}return Gr=i,Gr}var Ur,Iu;function ag(){if(Iu)return Ur;Iu=1;var e=Ot(),o=ng(),i=Ze(),u=Yd(),r=/[\\^$.*+?()[\]{}|]/g,n=/^\[object .+?Constructor\]$/,a=Function.prototype,t=Object.prototype,s=a.toString,f=t.hasOwnProperty,h=RegExp("^"+s.call(f).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(d){if(!i(d)||o(d))return!1;var c=e(d)?h:n;return c.test(u(d))}return Ur=l,Ur}var Hr,Su;function ig(){if(Su)return Hr;Su=1;function e(o,i){return o?.[i]}return Hr=e,Hr}var Yr,qu;function dt(){if(qu)return Yr;qu=1;var e=ag(),o=ig();function i(u,r){var n=o(u,r);return e(n)?n:void 0}return Yr=i,Yr}var kr,Du;function Hs(){if(Du)return kr;Du=1;var e=dt(),o=et(),i=e(o,"Map");return kr=i,kr}var Br,Pu;function jt(){if(Pu)return Br;Pu=1;var e=dt(),o=e(Object,"create");return Br=o,Br}var Vr,Fu;function og(){if(Fu)return Vr;Fu=1;var e=jt();function o(){this.__data__=e?e(null):{},this.size=0}return Vr=o,Vr}var Xr,Gu;function sg(){if(Gu)return Xr;Gu=1;function e(o){var i=this.has(o)&&delete this.__data__[o];return this.size-=i?1:0,i}return Xr=e,Xr}var Wr,Uu;function ug(){if(Uu)return Wr;Uu=1;var e=jt(),o="__lodash_hash_undefined__",i=Object.prototype,u=i.hasOwnProperty;function r(n){var a=this.__data__;if(e){var t=a[n];return t===o?void 0:t}return u.call(a,n)?a[n]:void 0}return Wr=r,Wr}var zr,Hu;function fg(){if(Hu)return zr;Hu=1;var e=jt(),o=Object.prototype,i=o.hasOwnProperty;function u(r){var n=this.__data__;return e?n[r]!==void 0:i.call(n,r)}return zr=u,zr}var $r,Yu;function lg(){if(Yu)return $r;Yu=1;var e=jt(),o="__lodash_hash_undefined__";function i(u,r){var n=this.__data__;return this.size+=this.has(u)?0:1,n[u]=e&&r===void 0?o:r,this}return $r=i,$r}var jr,ku;function hg(){if(ku)return jr;ku=1;var e=og(),o=sg(),i=ug(),u=fg(),r=lg();function n(a){var t=-1,s=a==null?0:a.length;for(this.clear();++t<s;){var f=a[t];this.set(f[0],f[1])}}return n.prototype.clear=e,n.prototype.delete=o,n.prototype.get=i,n.prototype.has=u,n.prototype.set=r,jr=n,jr}var Kr,Bu;function cg(){if(Bu)return Kr;Bu=1;var e=hg(),o=$t(),i=Hs();function u(){this.size=0,this.__data__={hash:new e,map:new(i||o),string:new e}}return Kr=u,Kr}var Zr,Vu;function dg(){if(Vu)return Zr;Vu=1;function e(o){var i=typeof o;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null}return Zr=e,Zr}var Qr,Xu;function Kt(){if(Xu)return Qr;Xu=1;var e=dg();function o(i,u){var r=i.__data__;return e(u)?r[typeof u=="string"?"string":"hash"]:r.map}return Qr=o,Qr}var Jr,Wu;function vg(){if(Wu)return Jr;Wu=1;var e=Kt();function o(i){var u=e(this,i).delete(i);return this.size-=u?1:0,u}return Jr=o,Jr}var en,zu;function gg(){if(zu)return en;zu=1;var e=Kt();function o(i){return e(this,i).get(i)}return en=o,en}var tn,$u;function pg(){if($u)return tn;$u=1;var e=Kt();function o(i){return e(this,i).has(i)}return tn=o,tn}var rn,ju;function yg(){if(ju)return rn;ju=1;var e=Kt();function o(i,u){var r=e(this,i),n=r.size;return r.set(i,u),this.size+=r.size==n?0:1,this}return rn=o,rn}var nn,Ku;function Ys(){if(Ku)return nn;Ku=1;var e=cg(),o=vg(),i=gg(),u=pg(),r=yg();function n(a){var t=-1,s=a==null?0:a.length;for(this.clear();++t<s;){var f=a[t];this.set(f[0],f[1])}}return n.prototype.clear=e,n.prototype.delete=o,n.prototype.get=i,n.prototype.has=u,n.prototype.set=r,nn=n,nn}var an,Zu;function mg(){if(Zu)return an;Zu=1;var e=$t(),o=Hs(),i=Ys(),u=200;function r(n,a){var t=this.__data__;if(t instanceof e){var s=t.__data__;if(!o||s.length<u-1)return s.push([n,a]),this.size=++t.size,this;t=this.__data__=new i(s)}return t.set(n,a),this.size=t.size,this}return an=r,an}var on,Qu;function Zt(){if(Qu)return on;Qu=1;var e=$t(),o=Kv(),i=Zv(),u=Qv(),r=Jv(),n=mg();function a(t){var s=this.__data__=new e(t);this.size=s.size}return a.prototype.clear=o,a.prototype.delete=i,a.prototype.get=u,a.prototype.has=r,a.prototype.set=n,on=a,on}var sn,Ju;function ks(){if(Ju)return sn;Ju=1;function e(o,i){for(var u=-1,r=o==null?0:o.length;++u<r&&i(o[u],u,o)!==!1;);return o}return sn=e,sn}var un,ef;function kd(){if(ef)return un;ef=1;var e=dt(),o=(function(){try{var i=e(Object,"defineProperty");return i({},"",{}),i}catch{}})();return un=o,un}var fn,tf;function Qt(){if(tf)return fn;tf=1;var e=kd();function o(i,u,r){u=="__proto__"&&e?e(i,u,{configurable:!0,enumerable:!0,value:r,writable:!0}):i[u]=r}return fn=o,fn}var ln,rf;function Jt(){if(rf)return ln;rf=1;var e=Qt(),o=wt(),i=Object.prototype,u=i.hasOwnProperty;function r(n,a,t){var s=n[a];(!(u.call(n,a)&&o(s,t))||t===void 0&&!(a in n))&&e(n,a,t)}return ln=r,ln}var hn,nf;function Mt(){if(nf)return hn;nf=1;var e=Jt(),o=Qt();function i(u,r,n,a){var t=!n;n||(n={});for(var s=-1,f=r.length;++s<f;){var h=r[s],l=a?a(n[h],u[h],h,n,u):void 0;l===void 0&&(l=u[h]),t?o(n,h,l):e(n,h,l)}return n}return hn=i,hn}var cn,af;function bg(){if(af)return cn;af=1;function e(o,i){for(var u=-1,r=Array(o);++u<o;)r[u]=i(u);return r}return cn=e,cn}var dn,of;function nt(){if(of)return dn;of=1;function e(o){return o!=null&&typeof o=="object"}return dn=e,dn}var vn,sf;function Eg(){if(sf)return vn;sf=1;var e=ct(),o=nt(),i="[object Arguments]";function u(r){return o(r)&&e(r)==i}return vn=u,vn}var gn,uf;function It(){if(uf)return gn;uf=1;var e=Eg(),o=nt(),i=Object.prototype,u=i.hasOwnProperty,r=i.propertyIsEnumerable,n=e((function(){return arguments})())?e:function(a){return o(a)&&u.call(a,"callee")&&!r.call(a,"callee")};return gn=n,gn}var pn,ff;function Ue(){if(ff)return pn;ff=1;var e=Array.isArray;return pn=e,pn}var _t={exports:{}},yn,lf;function wg(){if(lf)return yn;lf=1;function e(){return!1}return yn=e,yn}_t.exports;var hf;function Ct(){return hf||(hf=1,(function(e,o){var i=et(),u=wg(),r=o&&!o.nodeType&&o,n=r&&!0&&e&&!e.nodeType&&e,a=n&&n.exports===r,t=a?i.Buffer:void 0,s=t?t.isBuffer:void 0,f=s||u;e.exports=f})(_t,_t.exports)),_t.exports}var mn,cf;function er(){if(cf)return mn;cf=1;var e=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function i(u,r){var n=typeof u;return r=r??e,!!r&&(n=="number"||n!="symbol"&&o.test(u))&&u>-1&&u%1==0&&u<r}return mn=i,mn}var bn,df;function Bs(){if(df)return bn;df=1;var e=9007199254740991;function o(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=e}return bn=o,bn}var En,vf;function Tg(){if(vf)return En;vf=1;var e=ct(),o=Bs(),i=nt(),u="[object Arguments]",r="[object Array]",n="[object Boolean]",a="[object Date]",t="[object Error]",s="[object Function]",f="[object Map]",h="[object Number]",l="[object Object]",d="[object RegExp]",c="[object Set]",p="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",m="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",N="[object Uint8Array]",q="[object Uint8ClampedArray]",S="[object Uint16Array]",L="[object Uint32Array]",D={};D[w]=D[m]=D[E]=D[T]=D[A]=D[N]=D[q]=D[S]=D[L]=!0,D[u]=D[r]=D[y]=D[n]=D[v]=D[a]=D[t]=D[s]=D[f]=D[h]=D[l]=D[d]=D[c]=D[p]=D[g]=!1;function O(U){return i(U)&&o(U.length)&&!!D[e(U)]}return En=O,En}var wn,gf;function tr(){if(gf)return wn;gf=1;function e(o){return function(i){return o(i)}}return wn=e,wn}var Rt={exports:{}};Rt.exports;var pf;function Vs(){return pf||(pf=1,(function(e,o){var i=Hd(),u=o&&!o.nodeType&&o,r=u&&!0&&e&&!e.nodeType&&e,n=r&&r.exports===u,a=n&&i.process,t=(function(){try{var s=r&&r.require&&r.require("util").types;return s||a&&a.binding&&a.binding("util")}catch{}})();e.exports=t})(Rt,Rt.exports)),Rt.exports}var Tn,yf;function St(){if(yf)return Tn;yf=1;var e=Tg(),o=tr(),i=Vs(),u=i&&i.isTypedArray,r=u?o(u):e;return Tn=r,Tn}var Cn,mf;function Bd(){if(mf)return Cn;mf=1;var e=bg(),o=It(),i=Ue(),u=Ct(),r=er(),n=St(),a=Object.prototype,t=a.hasOwnProperty;function s(f,h){var l=i(f),d=!l&&o(f),c=!l&&!d&&u(f),p=!l&&!d&&!c&&n(f),g=l||d||c||p,y=g?e(f.length,String):[],v=y.length;for(var w in f)(h||t.call(f,w))&&!(g&&(w=="length"||c&&(w=="offset"||w=="parent")||p&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||r(w,v)))&&y.push(w);return y}return Cn=s,Cn}var xn,bf;function rr(){if(bf)return xn;bf=1;var e=Object.prototype;function o(i){var u=i&&i.constructor,r=typeof u=="function"&&u.prototype||e;return i===r}return xn=o,xn}var Nn,Ef;function Vd(){if(Ef)return Nn;Ef=1;function e(o,i){return function(u){return o(i(u))}}return Nn=e,Nn}var _n,wf;function Cg(){if(wf)return _n;wf=1;var e=Vd(),o=e(Object.keys,Object);return _n=o,_n}var Rn,Tf;function Xs(){if(Tf)return Rn;Tf=1;var e=rr(),o=Cg(),i=Object.prototype,u=i.hasOwnProperty;function r(n){if(!e(n))return o(n);var a=[];for(var t in Object(n))u.call(n,t)&&t!="constructor"&&a.push(t);return a}return Rn=r,Rn}var An,Cf;function at(){if(Cf)return An;Cf=1;var e=Ot(),o=Bs();function i(u){return u!=null&&o(u.length)&&!e(u)}return An=i,An}var Ln,xf;function ft(){if(xf)return Ln;xf=1;var e=Bd(),o=Xs(),i=at();function u(r){return i(r)?e(r):o(r)}return Ln=u,Ln}var On,Nf;function xg(){if(Nf)return On;Nf=1;var e=Mt(),o=ft();function i(u,r){return u&&e(r,o(r),u)}return On=i,On}var Mn,_f;function Ng(){if(_f)return Mn;_f=1;function e(o){var i=[];if(o!=null)for(var u in Object(o))i.push(u);return i}return Mn=e,Mn}var In,Rf;function _g(){if(Rf)return In;Rf=1;var e=Ze(),o=rr(),i=Ng(),u=Object.prototype,r=u.hasOwnProperty;function n(a){if(!e(a))return i(a);var t=o(a),s=[];for(var f in a)f=="constructor"&&(t||!r.call(a,f))||s.push(f);return s}return In=n,In}var Sn,Af;function vt(){if(Af)return Sn;Af=1;var e=Bd(),o=_g(),i=at();function u(r){return i(r)?e(r,!0):o(r)}return Sn=u,Sn}var qn,Lf;function Rg(){if(Lf)return qn;Lf=1;var e=Mt(),o=vt();function i(u,r){return u&&e(r,o(r),u)}return qn=i,qn}var At={exports:{}};At.exports;var Of;function Xd(){return Of||(Of=1,(function(e,o){var i=et(),u=o&&!o.nodeType&&o,r=u&&!0&&e&&!e.nodeType&&e,n=r&&r.exports===u,a=n?i.Buffer:void 0,t=a?a.allocUnsafe:void 0;function s(f,h){if(h)return f.slice();var l=f.length,d=t?t(l):new f.constructor(l);return f.copy(d),d}e.exports=s})(At,At.exports)),At.exports}var Dn,Mf;function Wd(){if(Mf)return Dn;Mf=1;function e(o,i){var u=-1,r=o.length;for(i||(i=Array(r));++u<r;)i[u]=o[u];return i}return Dn=e,Dn}var Pn,If;function zd(){if(If)return Pn;If=1;function e(o,i){for(var u=-1,r=o==null?0:o.length,n=0,a=[];++u<r;){var t=o[u];i(t,u,o)&&(a[n++]=t)}return a}return Pn=e,Pn}var Fn,Sf;function $d(){if(Sf)return Fn;Sf=1;function e(){return[]}return Fn=e,Fn}var Gn,qf;function Ws(){if(qf)return Gn;qf=1;var e=zd(),o=$d(),i=Object.prototype,u=i.propertyIsEnumerable,r=Object.getOwnPropertySymbols,n=r?function(a){return a==null?[]:(a=Object(a),e(r(a),function(t){return u.call(a,t)}))}:o;return Gn=n,Gn}var Un,Df;function Ag(){if(Df)return Un;Df=1;var e=Mt(),o=Ws();function i(u,r){return e(u,o(u),r)}return Un=i,Un}var Hn,Pf;function zs(){if(Pf)return Hn;Pf=1;function e(o,i){for(var u=-1,r=i.length,n=o.length;++u<r;)o[n+u]=i[u];return o}return Hn=e,Hn}var Yn,Ff;function nr(){if(Ff)return Yn;Ff=1;var e=Vd(),o=e(Object.getPrototypeOf,Object);return Yn=o,Yn}var kn,Gf;function jd(){if(Gf)return kn;Gf=1;var e=zs(),o=nr(),i=Ws(),u=$d(),r=Object.getOwnPropertySymbols,n=r?function(a){for(var t=[];a;)e(t,i(a)),a=o(a);return t}:u;return kn=n,kn}var Bn,Uf;function Lg(){if(Uf)return Bn;Uf=1;var e=Mt(),o=jd();function i(u,r){return e(u,o(u),r)}return Bn=i,Bn}var Vn,Hf;function Kd(){if(Hf)return Vn;Hf=1;var e=zs(),o=Ue();function i(u,r,n){var a=r(u);return o(u)?a:e(a,n(u))}return Vn=i,Vn}var Xn,Yf;function Zd(){if(Yf)return Xn;Yf=1;var e=Kd(),o=Ws(),i=ft();function u(r){return e(r,i,o)}return Xn=u,Xn}var Wn,kf;function Og(){if(kf)return Wn;kf=1;var e=Kd(),o=jd(),i=vt();function u(r){return e(r,i,o)}return Wn=u,Wn}var zn,Bf;function Mg(){if(Bf)return zn;Bf=1;var e=dt(),o=et(),i=e(o,"DataView");return zn=i,zn}var $n,Vf;function Ig(){if(Vf)return $n;Vf=1;var e=dt(),o=et(),i=e(o,"Promise");return $n=i,$n}var jn,Xf;function Qd(){if(Xf)return jn;Xf=1;var e=dt(),o=et(),i=e(o,"Set");return jn=i,jn}var Kn,Wf;function Sg(){if(Wf)return Kn;Wf=1;var e=dt(),o=et(),i=e(o,"WeakMap");return Kn=i,Kn}var Zn,zf;function xt(){if(zf)return Zn;zf=1;var e=Mg(),o=Hs(),i=Ig(),u=Qd(),r=Sg(),n=ct(),a=Yd(),t="[object Map]",s="[object Object]",f="[object Promise]",h="[object Set]",l="[object WeakMap]",d="[object DataView]",c=a(e),p=a(o),g=a(i),y=a(u),v=a(r),w=n;return(e&&w(new e(new ArrayBuffer(1)))!=d||o&&w(new o)!=t||i&&w(i.resolve())!=f||u&&w(new u)!=h||r&&w(new r)!=l)&&(w=function(m){var E=n(m),T=E==s?m.constructor:void 0,A=T?a(T):"";if(A)switch(A){case c:return d;case p:return t;case g:return f;case y:return h;case v:return l}return E}),Zn=w,Zn}var Qn,$f;function qg(){if($f)return Qn;$f=1;var e=Object.prototype,o=e.hasOwnProperty;function i(u){var r=u.length,n=new u.constructor(r);return r&&typeof u[0]=="string"&&o.call(u,"index")&&(n.index=u.index,n.input=u.input),n}return Qn=i,Qn}var Jn,jf;function Jd(){if(jf)return Jn;jf=1;var e=et(),o=e.Uint8Array;return Jn=o,Jn}var ea,Kf;function $s(){if(Kf)return ea;Kf=1;var e=Jd();function o(i){var u=new i.constructor(i.byteLength);return new e(u).set(new e(i)),u}return ea=o,ea}var ta,Zf;function Dg(){if(Zf)return ta;Zf=1;var e=$s();function o(i,u){var r=u?e(i.buffer):i.buffer;return new i.constructor(r,i.byteOffset,i.byteLength)}return ta=o,ta}var ra,Qf;function Pg(){if(Qf)return ra;Qf=1;var e=/\w*$/;function o(i){var u=new i.constructor(i.source,e.exec(i));return u.lastIndex=i.lastIndex,u}return ra=o,ra}var na,Jf;function Fg(){if(Jf)return na;Jf=1;var e=Tt(),o=e?e.prototype:void 0,i=o?o.valueOf:void 0;function u(r){return i?Object(i.call(r)):{}}return na=u,na}var aa,el;function ev(){if(el)return aa;el=1;var e=$s();function o(i,u){var r=u?e(i.buffer):i.buffer;return new i.constructor(r,i.byteOffset,i.length)}return aa=o,aa}var ia,tl;function Gg(){if(tl)return ia;tl=1;var e=$s(),o=Dg(),i=Pg(),u=Fg(),r=ev(),n="[object Boolean]",a="[object Date]",t="[object Map]",s="[object Number]",f="[object RegExp]",h="[object Set]",l="[object String]",d="[object Symbol]",c="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",m="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",A="[object Uint16Array]",N="[object Uint32Array]";function q(S,L,D){var O=S.constructor;switch(L){case c:return e(S);case n:case a:return new O(+S);case p:return o(S,D);case g:case y:case v:case w:case m:case E:case T:case A:case N:return r(S,D);case t:return new O;case s:case l:return new O(S);case f:return i(S);case h:return new O;case d:return u(S)}}return ia=q,ia}var oa,rl;function tv(){if(rl)return oa;rl=1;var e=Ze(),o=Object.create,i=(function(){function u(){}return function(r){if(!e(r))return{};if(o)return o(r);u.prototype=r;var n=new u;return u.prototype=void 0,n}})();return oa=i,oa}var sa,nl;function rv(){if(nl)return sa;nl=1;var e=tv(),o=nr(),i=rr();function u(r){return typeof r.constructor=="function"&&!i(r)?e(o(r)):{}}return sa=u,sa}var ua,al;function Ug(){if(al)return ua;al=1;var e=xt(),o=nt(),i="[object Map]";function u(r){return o(r)&&e(r)==i}return ua=u,ua}var fa,il;function Hg(){if(il)return fa;il=1;var e=Ug(),o=tr(),i=Vs(),u=i&&i.isMap,r=u?o(u):e;return fa=r,fa}var la,ol;function Yg(){if(ol)return la;ol=1;var e=xt(),o=nt(),i="[object Set]";function u(r){return o(r)&&e(r)==i}return la=u,la}var ha,sl;function kg(){if(sl)return ha;sl=1;var e=Yg(),o=tr(),i=Vs(),u=i&&i.isSet,r=u?o(u):e;return ha=r,ha}var ca,ul;function nv(){if(ul)return ca;ul=1;var e=Zt(),o=ks(),i=Jt(),u=xg(),r=Rg(),n=Xd(),a=Wd(),t=Ag(),s=Lg(),f=Zd(),h=Og(),l=xt(),d=qg(),c=Gg(),p=rv(),g=Ue(),y=Ct(),v=Hg(),w=Ze(),m=kg(),E=ft(),T=vt(),A=1,N=2,q=4,S="[object Arguments]",L="[object Array]",D="[object Boolean]",O="[object Date]",U="[object Error]",b="[object Function]",_="[object GeneratorFunction]",x="[object Map]",R="[object Number]",C="[object Object]",V="[object RegExp]",G="[object Set]",H="[object String]",$="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",Y="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",X="[object Int32Array]",j="[object Uint8Array]",J="[object Uint8ClampedArray]",ie="[object Uint16Array]",K="[object Uint32Array]",se={};se[S]=se[L]=se[M]=se[I]=se[D]=se[O]=se[P]=se[Y]=se[B]=se[F]=se[X]=se[x]=se[R]=se[C]=se[V]=se[G]=se[H]=se[$]=se[j]=se[J]=se[ie]=se[K]=!0,se[U]=se[b]=se[k]=!1;function ye(te,ne,he,me,we,Te){var le,Re=ne&A,Ae=ne&N,Be=ne&q;if(he&&(le=we?he(te,me,we,Te):he(te)),le!==void 0)return le;if(!w(te))return te;var He=g(te);if(He){if(le=d(te),!Re)return a(te,le)}else{var qe=l(te),Pe=qe==b||qe==_;if(y(te))return n(te,Re);if(qe==C||qe==S||Pe&&!we){if(le=Ae||Pe?{}:p(te),!Re)return Ae?s(te,r(le,te)):t(te,u(le,te))}else{if(!se[qe])return we?te:{};le=c(te,qe,Re)}}Te||(Te=new e);var Ye=Te.get(te);if(Ye)return Ye;Te.set(te,le),m(te)?te.forEach(function(z){le.add(ye(z,ne,he,z,te,Te))}):v(te)&&te.forEach(function(z,Z){le.set(Z,ye(z,ne,he,Z,te,Te))});var We=Be?Ae?h:f:Ae?T:E,W=He?void 0:We(te);return o(W||te,function(z,Z){W&&(Z=z,z=te[Z]),i(le,Z,ye(z,ne,he,Z,te,Te))}),le}return ca=ye,ca}var da,fl;function Bg(){if(fl)return da;fl=1;var e=nv(),o=4;function i(u){return e(u,o)}return da=i,da}var va,ll;function js(){if(ll)return va;ll=1;function e(o){return function(){return o}}return va=e,va}var ga,hl;function Vg(){if(hl)return ga;hl=1;function e(o){return function(i,u,r){for(var n=-1,a=Object(i),t=r(i),s=t.length;s--;){var f=t[o?s:++n];if(u(a[f],f,a)===!1)break}return i}}return ga=e,ga}var pa,cl;function Ks(){if(cl)return pa;cl=1;var e=Vg(),o=e();return pa=o,pa}var ya,dl;function Zs(){if(dl)return ya;dl=1;var e=Ks(),o=ft();function i(u,r){return u&&e(u,r,o)}return ya=i,ya}var ma,vl;function Xg(){if(vl)return ma;vl=1;var e=at();function o(i,u){return function(r,n){if(r==null)return r;if(!e(r))return i(r,n);for(var a=r.length,t=u?a:-1,s=Object(r);(u?t--:++t<a)&&n(s[t],t,s)!==!1;);return r}}return ma=o,ma}var ba,gl;function ar(){if(gl)return ba;gl=1;var e=Zs(),o=Xg(),i=o(e);return ba=i,ba}var Ea,pl;function gt(){if(pl)return Ea;pl=1;function e(o){return o}return Ea=e,Ea}var wa,yl;function av(){if(yl)return wa;yl=1;var e=gt();function o(i){return typeof i=="function"?i:e}return wa=o,wa}var Ta,ml;function iv(){if(ml)return Ta;ml=1;var e=ks(),o=ar(),i=av(),u=Ue();function r(n,a){var t=u(n)?e:o;return t(n,i(a))}return Ta=r,Ta}var Ca,bl;function ov(){return bl||(bl=1,Ca=iv()),Ca}var xa,El;function Wg(){if(El)return xa;El=1;var e=ar();function o(i,u){var r=[];return e(i,function(n,a,t){u(n,a,t)&&r.push(n)}),r}return xa=o,xa}var Na,wl;function zg(){if(wl)return Na;wl=1;var e="__lodash_hash_undefined__";function o(i){return this.__data__.set(i,e),this}return Na=o,Na}var _a,Tl;function $g(){if(Tl)return _a;Tl=1;function e(o){return this.__data__.has(o)}return _a=e,_a}var Ra,Cl;function sv(){if(Cl)return Ra;Cl=1;var e=Ys(),o=zg(),i=$g();function u(r){var n=-1,a=r==null?0:r.length;for(this.__data__=new e;++n<a;)this.add(r[n])}return u.prototype.add=u.prototype.push=o,u.prototype.has=i,Ra=u,Ra}var Aa,xl;function jg(){if(xl)return Aa;xl=1;function e(o,i){for(var u=-1,r=o==null?0:o.length;++u<r;)if(i(o[u],u,o))return!0;return!1}return Aa=e,Aa}var La,Nl;function uv(){if(Nl)return La;Nl=1;function e(o,i){return o.has(i)}return La=e,La}var Oa,_l;function fv(){if(_l)return Oa;_l=1;var e=sv(),o=jg(),i=uv(),u=1,r=2;function n(a,t,s,f,h,l){var d=s&u,c=a.length,p=t.length;if(c!=p&&!(d&&p>c))return!1;var g=l.get(a),y=l.get(t);if(g&&y)return g==t&&y==a;var v=-1,w=!0,m=s&r?new e:void 0;for(l.set(a,t),l.set(t,a);++v<c;){var E=a[v],T=t[v];if(f)var A=d?f(T,E,v,t,a,l):f(E,T,v,a,t,l);if(A!==void 0){if(A)continue;w=!1;break}if(m){if(!o(t,function(N,q){if(!i(m,q)&&(E===N||h(E,N,s,f,l)))return m.push(q)})){w=!1;break}}else if(!(E===T||h(E,T,s,f,l))){w=!1;break}}return l.delete(a),l.delete(t),w}return Oa=n,Oa}var Ma,Rl;function Kg(){if(Rl)return Ma;Rl=1;function e(o){var i=-1,u=Array(o.size);return o.forEach(function(r,n){u[++i]=[n,r]}),u}return Ma=e,Ma}var Ia,Al;function Qs(){if(Al)return Ia;Al=1;function e(o){var i=-1,u=Array(o.size);return o.forEach(function(r){u[++i]=r}),u}return Ia=e,Ia}var Sa,Ll;function Zg(){if(Ll)return Sa;Ll=1;var e=Tt(),o=Jd(),i=wt(),u=fv(),r=Kg(),n=Qs(),a=1,t=2,s="[object Boolean]",f="[object Date]",h="[object Error]",l="[object Map]",d="[object Number]",c="[object RegExp]",p="[object Set]",g="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",m=e?e.prototype:void 0,E=m?m.valueOf:void 0;function T(A,N,q,S,L,D,O){switch(q){case w:if(A.byteLength!=N.byteLength||A.byteOffset!=N.byteOffset)return!1;A=A.buffer,N=N.buffer;case v:return!(A.byteLength!=N.byteLength||!D(new o(A),new o(N)));case s:case f:case d:return i(+A,+N);case h:return A.name==N.name&&A.message==N.message;case c:case g:return A==N+"";case l:var U=r;case p:var b=S&a;if(U||(U=n),A.size!=N.size&&!b)return!1;var _=O.get(A);if(_)return _==N;S|=t,O.set(A,N);var x=u(U(A),U(N),S,L,D,O);return O.delete(A),x;case y:if(E)return E.call(A)==E.call(N)}return!1}return Sa=T,Sa}var qa,Ol;function Qg(){if(Ol)return qa;Ol=1;var e=Zd(),o=1,i=Object.prototype,u=i.hasOwnProperty;function r(n,a,t,s,f,h){var l=t&o,d=e(n),c=d.length,p=e(a),g=p.length;if(c!=g&&!l)return!1;for(var y=c;y--;){var v=d[y];if(!(l?v in a:u.call(a,v)))return!1}var w=h.get(n),m=h.get(a);if(w&&m)return w==a&&m==n;var E=!0;h.set(n,a),h.set(a,n);for(var T=l;++y<c;){v=d[y];var A=n[v],N=a[v];if(s)var q=l?s(N,A,v,a,n,h):s(A,N,v,n,a,h);if(!(q===void 0?A===N||f(A,N,t,s,h):q)){E=!1;break}T||(T=v=="constructor")}if(E&&!T){var S=n.constructor,L=a.constructor;S!=L&&"constructor"in n&&"constructor"in a&&!(typeof S=="function"&&S instanceof S&&typeof L=="function"&&L instanceof L)&&(E=!1)}return h.delete(n),h.delete(a),E}return qa=r,qa}var Da,Ml;function Jg(){if(Ml)return Da;Ml=1;var e=Zt(),o=fv(),i=Zg(),u=Qg(),r=xt(),n=Ue(),a=Ct(),t=St(),s=1,f="[object Arguments]",h="[object Array]",l="[object Object]",d=Object.prototype,c=d.hasOwnProperty;function p(g,y,v,w,m,E){var T=n(g),A=n(y),N=T?h:r(g),q=A?h:r(y);N=N==f?l:N,q=q==f?l:q;var S=N==l,L=q==l,D=N==q;if(D&&a(g)){if(!a(y))return!1;T=!0,S=!1}if(D&&!S)return E||(E=new e),T||t(g)?o(g,y,v,w,m,E):i(g,y,N,v,w,m,E);if(!(v&s)){var O=S&&c.call(g,"__wrapped__"),U=L&&c.call(y,"__wrapped__");if(O||U){var b=O?g.value():g,_=U?y.value():y;return E||(E=new e),m(b,_,v,w,E)}}return D?(E||(E=new e),u(g,y,v,w,m,E)):!1}return Da=p,Da}var Pa,Il;function lv(){if(Il)return Pa;Il=1;var e=Jg(),o=nt();function i(u,r,n,a,t){return u===r?!0:u==null||r==null||!o(u)&&!o(r)?u!==u&&r!==r:e(u,r,n,a,i,t)}return Pa=i,Pa}var Fa,Sl;function ep(){if(Sl)return Fa;Sl=1;var e=Zt(),o=lv(),i=1,u=2;function r(n,a,t,s){var f=t.length,h=f,l=!s;if(n==null)return!h;for(n=Object(n);f--;){var d=t[f];if(l&&d[2]?d[1]!==n[d[0]]:!(d[0]in n))return!1}for(;++f<h;){d=t[f];var c=d[0],p=n[c],g=d[1];if(l&&d[2]){if(p===void 0&&!(c in n))return!1}else{var y=new e;if(s)var v=s(p,g,c,n,a,y);if(!(v===void 0?o(g,p,i|u,s,y):v))return!1}}return!0}return Fa=r,Fa}var Ga,ql;function hv(){if(ql)return Ga;ql=1;var e=Ze();function o(i){return i===i&&!e(i)}return Ga=o,Ga}var Ua,Dl;function tp(){if(Dl)return Ua;Dl=1;var e=hv(),o=ft();function i(u){for(var r=o(u),n=r.length;n--;){var a=r[n],t=u[a];r[n]=[a,t,e(t)]}return r}return Ua=i,Ua}var Ha,Pl;function cv(){if(Pl)return Ha;Pl=1;function e(o,i){return function(u){return u==null?!1:u[o]===i&&(i!==void 0||o in Object(u))}}return Ha=e,Ha}var Ya,Fl;function rp(){if(Fl)return Ya;Fl=1;var e=ep(),o=tp(),i=cv();function u(r){var n=o(r);return n.length==1&&n[0][2]?i(n[0][0],n[0][1]):function(a){return a===r||e(a,r,n)}}return Ya=u,Ya}var ka,Gl;function Nt(){if(Gl)return ka;Gl=1;var e=ct(),o=nt(),i="[object Symbol]";function u(r){return typeof r=="symbol"||o(r)&&e(r)==i}return ka=u,ka}var Ba,Ul;function Js(){if(Ul)return Ba;Ul=1;var e=Ue(),o=Nt(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;function r(n,a){if(e(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||o(n)?!0:u.test(n)||!i.test(n)||a!=null&&n in Object(a)}return Ba=r,Ba}var Va,Hl;function np(){if(Hl)return Va;Hl=1;var e=Ys(),o="Expected a function";function i(u,r){if(typeof u!="function"||r!=null&&typeof r!="function")throw new TypeError(o);var n=function(){var a=arguments,t=r?r.apply(this,a):a[0],s=n.cache;if(s.has(t))return s.get(t);var f=u.apply(this,a);return n.cache=s.set(t,f)||s,f};return n.cache=new(i.Cache||e),n}return i.Cache=e,Va=i,Va}var Xa,Yl;function ap(){if(Yl)return Xa;Yl=1;var e=np(),o=500;function i(u){var r=e(u,function(a){return n.size===o&&n.clear(),a}),n=r.cache;return r}return Xa=i,Xa}var Wa,kl;function ip(){if(kl)return Wa;kl=1;var e=ap(),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,u=e(function(r){var n=[];return r.charCodeAt(0)===46&&n.push(""),r.replace(o,function(a,t,s,f){n.push(s?f.replace(i,"$1"):t||a)}),n});return Wa=u,Wa}var za,Bl;function ir(){if(Bl)return za;Bl=1;function e(o,i){for(var u=-1,r=o==null?0:o.length,n=Array(r);++u<r;)n[u]=i(o[u],u,o);return n}return za=e,za}var $a,Vl;function op(){if(Vl)return $a;Vl=1;var e=Tt(),o=ir(),i=Ue(),u=Nt(),r=e?e.prototype:void 0,n=r?r.toString:void 0;function a(t){if(typeof t=="string")return t;if(i(t))return o(t,a)+"";if(u(t))return n?n.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}return $a=a,$a}var ja,Xl;function dv(){if(Xl)return ja;Xl=1;var e=op();function o(i){return i==null?"":e(i)}return ja=o,ja}var Ka,Wl;function or(){if(Wl)return Ka;Wl=1;var e=Ue(),o=Js(),i=ip(),u=dv();function r(n,a){return e(n)?n:o(n,a)?[n]:i(u(n))}return Ka=r,Ka}var Za,zl;function qt(){if(zl)return Za;zl=1;var e=Nt();function o(i){if(typeof i=="string"||e(i))return i;var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}return Za=o,Za}var Qa,$l;function sr(){if($l)return Qa;$l=1;var e=or(),o=qt();function i(u,r){r=e(r,u);for(var n=0,a=r.length;u!=null&&n<a;)u=u[o(r[n++])];return n&&n==a?u:void 0}return Qa=i,Qa}var Ja,jl;function sp(){if(jl)return Ja;jl=1;var e=sr();function o(i,u,r){var n=i==null?void 0:e(i,u);return n===void 0?r:n}return Ja=o,Ja}var ei,Kl;function up(){if(Kl)return ei;Kl=1;function e(o,i){return o!=null&&i in Object(o)}return ei=e,ei}var ti,Zl;function vv(){if(Zl)return ti;Zl=1;var e=or(),o=It(),i=Ue(),u=er(),r=Bs(),n=qt();function a(t,s,f){s=e(s,t);for(var h=-1,l=s.length,d=!1;++h<l;){var c=n(s[h]);if(!(d=t!=null&&f(t,c)))break;t=t[c]}return d||++h!=l?d:(l=t==null?0:t.length,!!l&&r(l)&&u(c,l)&&(i(t)||o(t)))}return ti=a,ti}var ri,Ql;function gv(){if(Ql)return ri;Ql=1;var e=up(),o=vv();function i(u,r){return u!=null&&o(u,r,e)}return ri=i,ri}var ni,Jl;function fp(){if(Jl)return ni;Jl=1;var e=lv(),o=sp(),i=gv(),u=Js(),r=hv(),n=cv(),a=qt(),t=1,s=2;function f(h,l){return u(h)&&r(l)?n(a(h),l):function(d){var c=o(d,h);return c===void 0&&c===l?i(d,h):e(l,c,t|s)}}return ni=f,ni}var ai,eh;function pv(){if(eh)return ai;eh=1;function e(o){return function(i){return i?.[o]}}return ai=e,ai}var ii,th;function lp(){if(th)return ii;th=1;var e=sr();function o(i){return function(u){return e(u,i)}}return ii=o,ii}var oi,rh;function hp(){if(rh)return oi;rh=1;var e=pv(),o=lp(),i=Js(),u=qt();function r(n){return i(n)?e(u(n)):o(n)}return oi=r,oi}var si,nh;function it(){if(nh)return si;nh=1;var e=rp(),o=fp(),i=gt(),u=Ue(),r=hp();function n(a){return typeof a=="function"?a:a==null?i:typeof a=="object"?u(a)?o(a[0],a[1]):e(a):r(a)}return si=n,si}var ui,ah;function yv(){if(ah)return ui;ah=1;var e=zd(),o=Wg(),i=it(),u=Ue();function r(n,a){var t=u(n)?e:o;return t(n,i(a,3))}return ui=r,ui}var fi,ih;function cp(){if(ih)return fi;ih=1;var e=Object.prototype,o=e.hasOwnProperty;function i(u,r){return u!=null&&o.call(u,r)}return fi=i,fi}var li,oh;function mv(){if(oh)return li;oh=1;var e=cp(),o=vv();function i(u,r){return u!=null&&o(u,r,e)}return li=i,li}var hi,sh;function dp(){if(sh)return hi;sh=1;var e=Xs(),o=xt(),i=It(),u=Ue(),r=at(),n=Ct(),a=rr(),t=St(),s="[object Map]",f="[object Set]",h=Object.prototype,l=h.hasOwnProperty;function d(c){if(c==null)return!0;if(r(c)&&(u(c)||typeof c=="string"||typeof c.splice=="function"||n(c)||t(c)||i(c)))return!c.length;var p=o(c);if(p==s||p==f)return!c.size;if(a(c))return!e(c).length;for(var g in c)if(l.call(c,g))return!1;return!0}return hi=d,hi}var ci,uh;function bv(){if(uh)return ci;uh=1;function e(o){return o===void 0}return ci=e,ci}var di,fh;function Ev(){if(fh)return di;fh=1;var e=ar(),o=at();function i(u,r){var n=-1,a=o(u)?Array(u.length):[];return e(u,function(t,s,f){a[++n]=r(t,s,f)}),a}return di=i,di}var vi,lh;function wv(){if(lh)return vi;lh=1;var e=ir(),o=it(),i=Ev(),u=Ue();function r(n,a){var t=u(n)?e:i;return t(n,o(a,3))}return vi=r,vi}var gi,hh;function vp(){if(hh)return gi;hh=1;function e(o,i,u,r){var n=-1,a=o==null?0:o.length;for(r&&a&&(u=o[++n]);++n<a;)u=i(u,o[n],n,o);return u}return gi=e,gi}var pi,ch;function gp(){if(ch)return pi;ch=1;function e(o,i,u,r,n){return n(o,function(a,t,s){u=r?(r=!1,a):i(u,a,t,s)}),u}return pi=e,pi}var yi,dh;function Tv(){if(dh)return yi;dh=1;var e=vp(),o=ar(),i=it(),u=gp(),r=Ue();function n(a,t,s){var f=r(a)?e:u,h=arguments.length<3;return f(a,i(t,4),s,h,o)}return yi=n,yi}var mi,vh;function pp(){if(vh)return mi;vh=1;var e=ct(),o=Ue(),i=nt(),u="[object String]";function r(n){return typeof n=="string"||!o(n)&&i(n)&&e(n)==u}return mi=r,mi}var bi,gh;function yp(){if(gh)return bi;gh=1;var e=pv(),o=e("length");return bi=o,bi}var Ei,ph;function mp(){if(ph)return Ei;ph=1;var e="\\ud800-\\udfff",o="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",r=o+i+u,n="\\ufe0e\\ufe0f",a="\\u200d",t=RegExp("["+a+e+r+n+"]");function s(f){return t.test(f)}return Ei=s,Ei}var wi,yh;function bp(){if(yh)return wi;yh=1;var e="\\ud800-\\udfff",o="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",r=o+i+u,n="\\ufe0e\\ufe0f",a="["+e+"]",t="["+r+"]",s="\\ud83c[\\udffb-\\udfff]",f="(?:"+t+"|"+s+")",h="[^"+e+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",c="\\u200d",p=f+"?",g="["+n+"]?",y="(?:"+c+"(?:"+[h,l,d].join("|")+")"+g+p+")*",v=g+p+y,w="(?:"+[h+t+"?",t,l,d,a].join("|")+")",m=RegExp(s+"(?="+s+")|"+w+v,"g");function E(T){for(var A=m.lastIndex=0;m.test(T);)++A;return A}return wi=E,wi}var Ti,mh;function Ep(){if(mh)return Ti;mh=1;var e=yp(),o=mp(),i=bp();function u(r){return o(r)?i(r):e(r)}return Ti=u,Ti}var Ci,bh;function wp(){if(bh)return Ci;bh=1;var e=Xs(),o=xt(),i=at(),u=pp(),r=Ep(),n="[object Map]",a="[object Set]";function t(s){if(s==null)return 0;if(i(s))return u(s)?r(s):s.length;var f=o(s);return f==n||f==a?s.size:e(s).length}return Ci=t,Ci}var xi,Eh;function Tp(){if(Eh)return xi;Eh=1;var e=ks(),o=tv(),i=Zs(),u=it(),r=nr(),n=Ue(),a=Ct(),t=Ot(),s=Ze(),f=St();function h(l,d,c){var p=n(l),g=p||a(l)||f(l);if(d=u(d,4),c==null){var y=l&&l.constructor;g?c=p?new y:[]:s(l)?c=t(y)?o(r(l)):{}:c={}}return(g?e:i)(l,function(v,w,m){return d(c,v,w,m)}),c}return xi=h,xi}var Ni,wh;function Cp(){if(wh)return Ni;wh=1;var e=Tt(),o=It(),i=Ue(),u=e?e.isConcatSpreadable:void 0;function r(n){return i(n)||o(n)||!!(u&&n&&n[u])}return Ni=r,Ni}var _i,Th;function eu(){if(Th)return _i;Th=1;var e=zs(),o=Cp();function i(u,r,n,a,t){var s=-1,f=u.length;for(n||(n=o),t||(t=[]);++s<f;){var h=u[s];r>0&&n(h)?r>1?i(h,r-1,n,a,t):e(t,h):a||(t[t.length]=h)}return t}return _i=i,_i}var Ri,Ch;function xp(){if(Ch)return Ri;Ch=1;function e(o,i,u){switch(u.length){case 0:return o.call(i);case 1:return o.call(i,u[0]);case 2:return o.call(i,u[0],u[1]);case 3:return o.call(i,u[0],u[1],u[2])}return o.apply(i,u)}return Ri=e,Ri}var Ai,xh;function Cv(){if(xh)return Ai;xh=1;var e=xp(),o=Math.max;function i(u,r,n){return r=o(r===void 0?u.length-1:r,0),function(){for(var a=arguments,t=-1,s=o(a.length-r,0),f=Array(s);++t<s;)f[t]=a[r+t];t=-1;for(var h=Array(r+1);++t<r;)h[t]=a[t];return h[r]=n(f),e(u,this,h)}}return Ai=i,Ai}var Li,Nh;function Np(){if(Nh)return Li;Nh=1;var e=js(),o=kd(),i=gt(),u=o?function(r,n){return o(r,"toString",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:i;return Li=u,Li}var Oi,_h;function _p(){if(_h)return Oi;_h=1;var e=800,o=16,i=Date.now;function u(r){var n=0,a=0;return function(){var t=i(),s=o-(t-a);if(a=t,s>0){if(++n>=e)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}return Oi=u,Oi}var Mi,Rh;function xv(){if(Rh)return Mi;Rh=1;var e=Np(),o=_p(),i=o(e);return Mi=i,Mi}var Ii,Ah;function ur(){if(Ah)return Ii;Ah=1;var e=gt(),o=Cv(),i=xv();function u(r,n){return i(o(r,n,e),r+"")}return Ii=u,Ii}var Si,Lh;function Nv(){if(Lh)return Si;Lh=1;function e(o,i,u,r){for(var n=o.length,a=u+(r?1:-1);r?a--:++a<n;)if(i(o[a],a,o))return a;return-1}return Si=e,Si}var qi,Oh;function Rp(){if(Oh)return qi;Oh=1;function e(o){return o!==o}return qi=e,qi}var Di,Mh;function Ap(){if(Mh)return Di;Mh=1;function e(o,i,u){for(var r=u-1,n=o.length;++r<n;)if(o[r]===i)return r;return-1}return Di=e,Di}var Pi,Ih;function Lp(){if(Ih)return Pi;Ih=1;var e=Nv(),o=Rp(),i=Ap();function u(r,n,a){return n===n?i(r,n,a):e(r,o,a)}return Pi=u,Pi}var Fi,Sh;function Op(){if(Sh)return Fi;Sh=1;var e=Lp();function o(i,u){var r=i==null?0:i.length;return!!r&&e(i,u,0)>-1}return Fi=o,Fi}var Gi,qh;function Mp(){if(qh)return Gi;qh=1;function e(o,i,u){for(var r=-1,n=o==null?0:o.length;++r<n;)if(u(i,o[r]))return!0;return!1}return Gi=e,Gi}var Ui,Dh;function Ip(){if(Dh)return Ui;Dh=1;function e(){}return Ui=e,Ui}var Hi,Ph;function Sp(){if(Ph)return Hi;Ph=1;var e=Qd(),o=Ip(),i=Qs(),u=1/0,r=e&&1/i(new e([,-0]))[1]==u?function(n){return new e(n)}:o;return Hi=r,Hi}var Yi,Fh;function qp(){if(Fh)return Yi;Fh=1;var e=sv(),o=Op(),i=Mp(),u=uv(),r=Sp(),n=Qs(),a=200;function t(s,f,h){var l=-1,d=o,c=s.length,p=!0,g=[],y=g;if(h)p=!1,d=i;else if(c>=a){var v=f?null:r(s);if(v)return n(v);p=!1,d=u,y=new e}else y=f?[]:g;e:for(;++l<c;){var w=s[l],m=f?f(w):w;if(w=h||w!==0?w:0,p&&m===m){for(var E=y.length;E--;)if(y[E]===m)continue e;f&&y.push(m),g.push(w)}else d(y,m,h)||(y!==g&&y.push(m),g.push(w))}return g}return Yi=t,Yi}var ki,Gh;function _v(){if(Gh)return ki;Gh=1;var e=at(),o=nt();function i(u){return o(u)&&e(u)}return ki=i,ki}var Bi,Uh;function Dp(){if(Uh)return Bi;Uh=1;var e=eu(),o=ur(),i=qp(),u=_v(),r=o(function(n){return i(e(n,1,u,!0))});return Bi=r,Bi}var Vi,Hh;function Pp(){if(Hh)return Vi;Hh=1;var e=ir();function o(i,u){return e(u,function(r){return i[r]})}return Vi=o,Vi}var Xi,Yh;function Rv(){if(Yh)return Xi;Yh=1;var e=Pp(),o=ft();function i(u){return u==null?[]:e(u,o(u))}return Xi=i,Xi}var Wi,kh;function Qe(){if(kh)return Wi;kh=1;var e;if(typeof Us=="function")try{e={clone:Bg(),constant:js(),each:ov(),filter:yv(),has:mv(),isArray:Ue(),isEmpty:dp(),isFunction:Ot(),isUndefined:bv(),keys:ft(),map:wv(),reduce:Tv(),size:wp(),transform:Tp(),union:Dp(),values:Rv()}}catch{}return e||(e=window._),Wi=e,Wi}var zi,Bh;function tu(){if(Bh)return zi;Bh=1;var e=Qe();zi=r;var o="\0",i="\0",u="";function r(h){this._isDirected=e.has(h,"directed")?h.directed:!0,this._isMultigraph=e.has(h,"multigraph")?h.multigraph:!1,this._isCompound=e.has(h,"compound")?h.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(h){return this._label=h,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(h){return e.isFunction(h)||(h=e.constant(h)),this._defaultNodeLabelFn=h,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return e.keys(this._nodes)},r.prototype.sources=function(){var h=this;return e.filter(this.nodes(),function(l){return e.isEmpty(h._in[l])})},r.prototype.sinks=function(){var h=this;return e.filter(this.nodes(),function(l){return e.isEmpty(h._out[l])})},r.prototype.setNodes=function(h,l){var d=arguments,c=this;return e.each(h,function(p){d.length>1?c.setNode(p,l):c.setNode(p)}),this},r.prototype.setNode=function(h,l){return e.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=l),this):(this._nodes[h]=arguments.length>1?l:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=i,this._children[h]={},this._children[i][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},r.prototype.node=function(h){return this._nodes[h]},r.prototype.hasNode=function(h){return e.has(this._nodes,h)},r.prototype.removeNode=function(h){var l=this;if(e.has(this._nodes,h)){var d=function(c){l.removeEdge(l._edgeObjs[c])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],e.each(this.children(h),function(c){l.setParent(c)}),delete this._children[h]),e.each(e.keys(this._in[h]),d),delete this._in[h],delete this._preds[h],e.each(e.keys(this._out[h]),d),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},r.prototype.setParent=function(h,l){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(l))l=i;else{l+="";for(var d=l;!e.isUndefined(d);d=this.parent(d))if(d===h)throw new Error("Setting "+l+" as parent of "+h+" would create a cycle");this.setNode(l)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=l,this._children[l][h]=!0,this},r.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},r.prototype.parent=function(h){if(this._isCompound){var l=this._parent[h];if(l!==i)return l}},r.prototype.children=function(h){if(e.isUndefined(h)&&(h=i),this._isCompound){var l=this._children[h];if(l)return e.keys(l)}else{if(h===i)return this.nodes();if(this.hasNode(h))return[]}},r.prototype.predecessors=function(h){var l=this._preds[h];if(l)return e.keys(l)},r.prototype.successors=function(h){var l=this._sucs[h];if(l)return e.keys(l)},r.prototype.neighbors=function(h){var l=this.predecessors(h);if(l)return e.union(l,this.successors(h))},r.prototype.isLeaf=function(h){var l;return this.isDirected()?l=this.successors(h):l=this.neighbors(h),l.length===0},r.prototype.filterNodes=function(h){var l=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});l.setGraph(this.graph());var d=this;e.each(this._nodes,function(g,y){h(y)&&l.setNode(y,g)}),e.each(this._edgeObjs,function(g){l.hasNode(g.v)&&l.hasNode(g.w)&&l.setEdge(g,d.edge(g))});var c={};function p(g){var y=d.parent(g);return y===void 0||l.hasNode(y)?(c[g]=y,y):y in c?c[y]:p(y)}return this._isCompound&&e.each(l.nodes(),function(g){l.setParent(g,p(g))}),l},r.prototype.setDefaultEdgeLabel=function(h){return e.isFunction(h)||(h=e.constant(h)),this._defaultEdgeLabelFn=h,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return e.values(this._edgeObjs)},r.prototype.setPath=function(h,l){var d=this,c=arguments;return e.reduce(h,function(p,g){return c.length>1?d.setEdge(p,g,l):d.setEdge(p,g),g}),this},r.prototype.setEdge=function(){var h,l,d,c,p=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(h=g.v,l=g.w,d=g.name,arguments.length===2&&(c=arguments[1],p=!0)):(h=g,l=arguments[1],d=arguments[3],arguments.length>2&&(c=arguments[2],p=!0)),h=""+h,l=""+l,e.isUndefined(d)||(d=""+d);var y=t(this._isDirected,h,l,d);if(e.has(this._edgeLabels,y))return p&&(this._edgeLabels[y]=c),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(l),this._edgeLabels[y]=p?c:this._defaultEdgeLabelFn(h,l,d);var v=s(this._isDirected,h,l,d);return h=v.v,l=v.w,Object.freeze(v),this._edgeObjs[y]=v,n(this._preds[l],h),n(this._sucs[h],l),this._in[l][y]=v,this._out[h][y]=v,this._edgeCount++,this},r.prototype.edge=function(h,l,d){var c=arguments.length===1?f(this._isDirected,arguments[0]):t(this._isDirected,h,l,d);return this._edgeLabels[c]},r.prototype.hasEdge=function(h,l,d){var c=arguments.length===1?f(this._isDirected,arguments[0]):t(this._isDirected,h,l,d);return e.has(this._edgeLabels,c)},r.prototype.removeEdge=function(h,l,d){var c=arguments.length===1?f(this._isDirected,arguments[0]):t(this._isDirected,h,l,d),p=this._edgeObjs[c];return p&&(h=p.v,l=p.w,delete this._edgeLabels[c],delete this._edgeObjs[c],a(this._preds[l],h),a(this._sucs[h],l),delete this._in[l][c],delete this._out[h][c],this._edgeCount--),this},r.prototype.inEdges=function(h,l){var d=this._in[h];if(d){var c=e.values(d);return l?e.filter(c,function(p){return p.v===l}):c}},r.prototype.outEdges=function(h,l){var d=this._out[h];if(d){var c=e.values(d);return l?e.filter(c,function(p){return p.w===l}):c}},r.prototype.nodeEdges=function(h,l){var d=this.inEdges(h,l);if(d)return d.concat(this.outEdges(h,l))};function n(h,l){h[l]?h[l]++:h[l]=1}function a(h,l){--h[l]||delete h[l]}function t(h,l,d,c){var p=""+l,g=""+d;if(!h&&p>g){var y=p;p=g,g=y}return p+u+g+u+(e.isUndefined(c)?o:c)}function s(h,l,d,c){var p=""+l,g=""+d;if(!h&&p>g){var y=p;p=g,g=y}var v={v:p,w:g};return c&&(v.name=c),v}function f(h,l){return t(h,l.v,l.w,l.name)}return zi}var $i,Vh;function Fp(){return Vh||(Vh=1,$i="2.1.8"),$i}var ji,Xh;function Gp(){return Xh||(Xh=1,ji={Graph:tu(),version:Fp()}),ji}var Ki,Wh;function Up(){if(Wh)return Ki;Wh=1;var e=Qe(),o=tu();Ki={write:i,read:n};function i(a){var t={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:u(a),edges:r(a)};return e.isUndefined(a.graph())||(t.value=e.clone(a.graph())),t}function u(a){return e.map(a.nodes(),function(t){var s=a.node(t),f=a.parent(t),h={v:t};return e.isUndefined(s)||(h.value=s),e.isUndefined(f)||(h.parent=f),h})}function r(a){return e.map(a.edges(),function(t){var s=a.edge(t),f={v:t.v,w:t.w};return e.isUndefined(t.name)||(f.name=t.name),e.isUndefined(s)||(f.value=s),f})}function n(a){var t=new o(a.options).setGraph(a.value);return e.each(a.nodes,function(s){t.setNode(s.v,s.value),s.parent&&t.setParent(s.v,s.parent)}),e.each(a.edges,function(s){t.setEdge({v:s.v,w:s.w,name:s.name},s.value)}),t}return Ki}var Zi,zh;function Hp(){if(zh)return Zi;zh=1;var e=Qe();Zi=o;function o(i){var u={},r=[],n;function a(t){e.has(u,t)||(u[t]=!0,n.push(t),e.each(i.successors(t),a),e.each(i.predecessors(t),a))}return e.each(i.nodes(),function(t){n=[],a(t),n.length&&r.push(n)}),r}return Zi}var Qi,$h;function Av(){if($h)return Qi;$h=1;var e=Qe();Qi=o;function o(){this._arr=[],this._keyIndices={}}return o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(i){return i.key})},o.prototype.has=function(i){return e.has(this._keyIndices,i)},o.prototype.priority=function(i){var u=this._keyIndices[i];if(u!==void 0)return this._arr[u].priority},o.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(i,u){var r=this._keyIndices;if(i=String(i),!e.has(r,i)){var n=this._arr,a=n.length;return r[i]=a,n.push({key:i,priority:u}),this._decrease(a),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var i=this._arr.pop();return delete this._keyIndices[i.key],this._heapify(0),i.key},o.prototype.decrease=function(i,u){var r=this._keyIndices[i];if(u>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+i+" Old: "+this._arr[r].priority+" New: "+u);this._arr[r].priority=u,this._decrease(r)},o.prototype._heapify=function(i){var u=this._arr,r=2*i,n=r+1,a=i;r<u.length&&(a=u[r].priority<u[a].priority?r:a,n<u.length&&(a=u[n].priority<u[a].priority?n:a),a!==i&&(this._swap(i,a),this._heapify(a)))},o.prototype._decrease=function(i){for(var u=this._arr,r=u[i].priority,n;i!==0&&(n=i>>1,!(u[n].priority<r));)this._swap(i,n),i=n},o.prototype._swap=function(i,u){var r=this._arr,n=this._keyIndices,a=r[i],t=r[u];r[i]=t,r[u]=a,n[t.key]=i,n[a.key]=u},Qi}var Ji,jh;function Lv(){if(jh)return Ji;jh=1;var e=Qe(),o=Av();Ji=u;var i=e.constant(1);function u(n,a,t,s){return r(n,String(a),t||i,s||function(f){return n.outEdges(f)})}function r(n,a,t,s){var f={},h=new o,l,d,c=function(p){var g=p.v!==l?p.v:p.w,y=f[g],v=t(p),w=d.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+v);w<y.distance&&(y.distance=w,y.predecessor=l,h.decrease(g,w))};for(n.nodes().forEach(function(p){var g=p===a?0:Number.POSITIVE_INFINITY;f[p]={distance:g},h.add(p,g)});h.size()>0&&(l=h.removeMin(),d=f[l],d.distance!==Number.POSITIVE_INFINITY);)s(l).forEach(c);return f}return Ji}var eo,Kh;function Yp(){if(Kh)return eo;Kh=1;var e=Lv(),o=Qe();eo=i;function i(u,r,n){return o.transform(u.nodes(),function(a,t){a[t]=e(u,t,r,n)},{})}return eo}var to,Zh;function Ov(){if(Zh)return to;Zh=1;var e=Qe();to=o;function o(i){var u=0,r=[],n={},a=[];function t(s){var f=n[s]={onStack:!0,lowlink:u,index:u++};if(r.push(s),i.successors(s).forEach(function(d){e.has(n,d)?n[d].onStack&&(f.lowlink=Math.min(f.lowlink,n[d].index)):(t(d),f.lowlink=Math.min(f.lowlink,n[d].lowlink))}),f.lowlink===f.index){var h=[],l;do l=r.pop(),n[l].onStack=!1,h.push(l);while(s!==l);a.push(h)}}return i.nodes().forEach(function(s){e.has(n,s)||t(s)}),a}return to}var ro,Qh;function kp(){if(Qh)return ro;Qh=1;var e=Qe(),o=Ov();ro=i;function i(u){return e.filter(o(u),function(r){return r.length>1||r.length===1&&u.hasEdge(r[0],r[0])})}return ro}var no,Jh;function Bp(){if(Jh)return no;Jh=1;var e=Qe();no=i;var o=e.constant(1);function i(r,n,a){return u(r,n||o,a||function(t){return r.outEdges(t)})}function u(r,n,a){var t={},s=r.nodes();return s.forEach(function(f){t[f]={},t[f][f]={distance:0},s.forEach(function(h){f!==h&&(t[f][h]={distance:Number.POSITIVE_INFINITY})}),a(f).forEach(function(h){var l=h.v===f?h.w:h.v,d=n(h);t[f][l]={distance:d,predecessor:f}})}),s.forEach(function(f){var h=t[f];s.forEach(function(l){var d=t[l];s.forEach(function(c){var p=d[f],g=h[c],y=d[c],v=p.distance+g.distance;v<y.distance&&(y.distance=v,y.predecessor=g.predecessor)})})}),t}return no}var ao,ec;function Mv(){if(ec)return ao;ec=1;var e=Qe();ao=o,o.CycleException=i;function o(u){var r={},n={},a=[];function t(s){if(e.has(n,s))throw new i;e.has(r,s)||(n[s]=!0,r[s]=!0,e.each(u.predecessors(s),t),delete n[s],a.push(s))}if(e.each(u.sinks(),t),e.size(r)!==u.nodeCount())throw new i;return a}function i(){}return i.prototype=new Error,ao}var io,tc;function Vp(){if(tc)return io;tc=1;var e=Mv();io=o;function o(i){try{e(i)}catch(u){if(u instanceof e.CycleException)return!1;throw u}return!0}return io}var oo,rc;function Iv(){if(rc)return oo;rc=1;var e=Qe();oo=o;function o(u,r,n){e.isArray(r)||(r=[r]);var a=(u.isDirected()?u.successors:u.neighbors).bind(u),t=[],s={};return e.each(r,function(f){if(!u.hasNode(f))throw new Error("Graph does not have node: "+f);i(u,f,n==="post",s,a,t)}),t}function i(u,r,n,a,t,s){e.has(a,r)||(a[r]=!0,n||s.push(r),e.each(t(r),function(f){i(u,f,n,a,t,s)}),n&&s.push(r))}return oo}var so,nc;function Xp(){if(nc)return so;nc=1;var e=Iv();so=o;function o(i,u){return e(i,u,"post")}return so}var uo,ac;function Wp(){if(ac)return uo;ac=1;var e=Iv();uo=o;function o(i,u){return e(i,u,"pre")}return uo}var fo,ic;function zp(){if(ic)return fo;ic=1;var e=Qe(),o=tu(),i=Av();fo=u;function u(r,n){var a=new o,t={},s=new i,f;function h(d){var c=d.v===f?d.w:d.v,p=s.priority(c);if(p!==void 0){var g=n(d);g<p&&(t[c]=f,s.decrease(c,g))}}if(r.nodeCount()===0)return a;e.each(r.nodes(),function(d){s.add(d,Number.POSITIVE_INFINITY),a.setNode(d)}),s.decrease(r.nodes()[0],0);for(var l=!1;s.size()>0;){if(f=s.removeMin(),e.has(t,f))a.setEdge(f,t[f]);else{if(l)throw new Error("Input graph is not connected: "+r);l=!0}r.nodeEdges(f).forEach(h)}return a}return fo}var lo,oc;function $p(){return oc||(oc=1,lo={components:Hp(),dijkstra:Lv(),dijkstraAll:Yp(),findCycles:kp(),floydWarshall:Bp(),isAcyclic:Vp(),postorder:Xp(),preorder:Wp(),prim:zp(),tarjan:Ov(),topsort:Mv()}),lo}var ho,sc;function jp(){if(sc)return ho;sc=1;var e=Gp();return ho={Graph:e.Graph,json:Up(),alg:$p(),version:e.version},ho}var co,uc;function Je(){if(uc)return co;uc=1;var e;if(typeof Us=="function")try{e=jp()}catch{}return e||(e=window.graphlib),co=e,co}var vo,fc;function Kp(){if(fc)return vo;fc=1;var e=nv(),o=1,i=4;function u(r){return e(r,o|i)}return vo=u,vo}var go,lc;function fr(){if(lc)return go;lc=1;var e=wt(),o=at(),i=er(),u=Ze();function r(n,a,t){if(!u(t))return!1;var s=typeof a;return(s=="number"?o(t)&&i(a,t.length):s=="string"&&a in t)?e(t[a],n):!1}return go=r,go}var po,hc;function Zp(){if(hc)return po;hc=1;var e=ur(),o=wt(),i=fr(),u=vt(),r=Object.prototype,n=r.hasOwnProperty,a=e(function(t,s){t=Object(t);var f=-1,h=s.length,l=h>2?s[2]:void 0;for(l&&i(s[0],s[1],l)&&(h=1);++f<h;)for(var d=s[f],c=u(d),p=-1,g=c.length;++p<g;){var y=c[p],v=t[y];(v===void 0||o(v,r[y])&&!n.call(t,y))&&(t[y]=d[y])}return t});return po=a,po}var yo,cc;function Qp(){if(cc)return yo;cc=1;var e=it(),o=at(),i=ft();function u(r){return function(n,a,t){var s=Object(n);if(!o(n)){var f=e(a,3);n=i(n),a=function(l){return f(s[l],l,s)}}var h=r(n,a,t);return h>-1?s[f?n[h]:h]:void 0}}return yo=u,yo}var mo,dc;function Jp(){if(dc)return mo;dc=1;var e=/\s/;function o(i){for(var u=i.length;u--&&e.test(i.charAt(u)););return u}return mo=o,mo}var bo,vc;function ey(){if(vc)return bo;vc=1;var e=Jp(),o=/^\s+/;function i(u){return u&&u.slice(0,e(u)+1).replace(o,"")}return bo=i,bo}var Eo,gc;function ty(){if(gc)return Eo;gc=1;var e=ey(),o=Ze(),i=Nt(),u=NaN,r=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,a=/^0o[0-7]+$/i,t=parseInt;function s(f){if(typeof f=="number")return f;if(i(f))return u;if(o(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=o(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var l=n.test(f);return l||a.test(f)?t(f.slice(2),l?2:8):r.test(f)?u:+f}return Eo=s,Eo}var wo,pc;function Sv(){if(pc)return wo;pc=1;var e=ty(),o=1/0,i=17976931348623157e292;function u(r){if(!r)return r===0?r:0;if(r=e(r),r===o||r===-o){var n=r<0?-1:1;return n*i}return r===r?r:0}return wo=u,wo}var To,yc;function ry(){if(yc)return To;yc=1;var e=Sv();function o(i){var u=e(i),r=u%1;return u===u?r?u-r:u:0}return To=o,To}var Co,mc;function ny(){if(mc)return Co;mc=1;var e=Nv(),o=it(),i=ry(),u=Math.max;function r(n,a,t){var s=n==null?0:n.length;if(!s)return-1;var f=t==null?0:i(t);return f<0&&(f=u(s+f,0)),e(n,o(a,3),f)}return Co=r,Co}var xo,bc;function ay(){if(bc)return xo;bc=1;var e=Qp(),o=ny(),i=e(o);return xo=i,xo}var No,Ec;function qv(){if(Ec)return No;Ec=1;var e=eu();function o(i){var u=i==null?0:i.length;return u?e(i,1):[]}return No=o,No}var _o,wc;function iy(){if(wc)return _o;wc=1;var e=Ks(),o=av(),i=vt();function u(r,n){return r==null?r:e(r,o(n),i)}return _o=u,_o}var Ro,Tc;function oy(){if(Tc)return Ro;Tc=1;function e(o){var i=o==null?0:o.length;return i?o[i-1]:void 0}return Ro=e,Ro}var Ao,Cc;function sy(){if(Cc)return Ao;Cc=1;var e=Qt(),o=Zs(),i=it();function u(r,n){var a={};return n=i(n,3),o(r,function(t,s,f){e(a,s,n(t,s,f))}),a}return Ao=u,Ao}var Lo,xc;function ru(){if(xc)return Lo;xc=1;var e=Nt();function o(i,u,r){for(var n=-1,a=i.length;++n<a;){var t=i[n],s=u(t);if(s!=null&&(f===void 0?s===s&&!e(s):r(s,f)))var f=s,h=t}return h}return Lo=o,Lo}var Oo,Nc;function uy(){if(Nc)return Oo;Nc=1;function e(o,i){return o>i}return Oo=e,Oo}var Mo,_c;function fy(){if(_c)return Mo;_c=1;var e=ru(),o=uy(),i=gt();function u(r){return r&&r.length?e(r,i,o):void 0}return Mo=u,Mo}var Io,Rc;function Dv(){if(Rc)return Io;Rc=1;var e=Qt(),o=wt();function i(u,r,n){(n!==void 0&&!o(u[r],n)||n===void 0&&!(r in u))&&e(u,r,n)}return Io=i,Io}var So,Ac;function ly(){if(Ac)return So;Ac=1;var e=ct(),o=nr(),i=nt(),u="[object Object]",r=Function.prototype,n=Object.prototype,a=r.toString,t=n.hasOwnProperty,s=a.call(Object);function f(h){if(!i(h)||e(h)!=u)return!1;var l=o(h);if(l===null)return!0;var d=t.call(l,"constructor")&&l.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==s}return So=f,So}var qo,Lc;function Pv(){if(Lc)return qo;Lc=1;function e(o,i){if(!(i==="constructor"&&typeof o[i]=="function")&&i!="__proto__")return o[i]}return qo=e,qo}var Do,Oc;function hy(){if(Oc)return Do;Oc=1;var e=Mt(),o=vt();function i(u){return e(u,o(u))}return Do=i,Do}var Po,Mc;function cy(){if(Mc)return Po;Mc=1;var e=Dv(),o=Xd(),i=ev(),u=Wd(),r=rv(),n=It(),a=Ue(),t=_v(),s=Ct(),f=Ot(),h=Ze(),l=ly(),d=St(),c=Pv(),p=hy();function g(y,v,w,m,E,T,A){var N=c(y,w),q=c(v,w),S=A.get(q);if(S){e(y,w,S);return}var L=T?T(N,q,w+"",y,v,A):void 0,D=L===void 0;if(D){var O=a(q),U=!O&&s(q),b=!O&&!U&&d(q);L=q,O||U||b?a(N)?L=N:t(N)?L=u(N):U?(D=!1,L=o(q,!0)):b?(D=!1,L=i(q,!0)):L=[]:l(q)||n(q)?(L=N,n(N)?L=p(N):(!h(N)||f(N))&&(L=r(q))):D=!1}D&&(A.set(q,L),E(L,q,m,T,A),A.delete(q)),e(y,w,L)}return Po=g,Po}var Fo,Ic;function dy(){if(Ic)return Fo;Ic=1;var e=Zt(),o=Dv(),i=Ks(),u=cy(),r=Ze(),n=vt(),a=Pv();function t(s,f,h,l,d){s!==f&&i(f,function(c,p){if(d||(d=new e),r(c))u(s,f,p,h,t,l,d);else{var g=l?l(a(s,p),c,p+"",s,f,d):void 0;g===void 0&&(g=c),o(s,p,g)}},n)}return Fo=t,Fo}var Go,Sc;function vy(){if(Sc)return Go;Sc=1;var e=ur(),o=fr();function i(u){return e(function(r,n){var a=-1,t=n.length,s=t>1?n[t-1]:void 0,f=t>2?n[2]:void 0;for(s=u.length>3&&typeof s=="function"?(t--,s):void 0,f&&o(n[0],n[1],f)&&(s=t<3?void 0:s,t=1),r=Object(r);++a<t;){var h=n[a];h&&u(r,h,a,s)}return r})}return Go=i,Go}var Uo,qc;function gy(){if(qc)return Uo;qc=1;var e=dy(),o=vy(),i=o(function(u,r,n){e(u,r,n)});return Uo=i,Uo}var Ho,Dc;function Fv(){if(Dc)return Ho;Dc=1;function e(o,i){return o<i}return Ho=e,Ho}var Yo,Pc;function py(){if(Pc)return Yo;Pc=1;var e=ru(),o=Fv(),i=gt();function u(r){return r&&r.length?e(r,i,o):void 0}return Yo=u,Yo}var ko,Fc;function yy(){if(Fc)return ko;Fc=1;var e=ru(),o=it(),i=Fv();function u(r,n){return r&&r.length?e(r,o(n,2),i):void 0}return ko=u,ko}var Bo,Gc;function my(){if(Gc)return Bo;Gc=1;var e=et(),o=function(){return e.Date.now()};return Bo=o,Bo}var Vo,Uc;function by(){if(Uc)return Vo;Uc=1;var e=Jt(),o=or(),i=er(),u=Ze(),r=qt();function n(a,t,s,f){if(!u(a))return a;t=o(t,a);for(var h=-1,l=t.length,d=l-1,c=a;c!=null&&++h<l;){var p=r(t[h]),g=s;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(h!=d){var y=c[p];g=f?f(y,p,c):void 0,g===void 0&&(g=u(y)?y:i(t[h+1])?[]:{})}e(c,p,g),c=c[p]}return a}return Vo=n,Vo}var Xo,Hc;function Ey(){if(Hc)return Xo;Hc=1;var e=sr(),o=by(),i=or();function u(r,n,a){for(var t=-1,s=n.length,f={};++t<s;){var h=n[t],l=e(r,h);a(l,h)&&o(f,i(h,r),l)}return f}return Xo=u,Xo}var Wo,Yc;function wy(){if(Yc)return Wo;Yc=1;var e=Ey(),o=gv();function i(u,r){return e(u,r,function(n,a){return o(u,a)})}return Wo=i,Wo}var zo,kc;function Ty(){if(kc)return zo;kc=1;var e=qv(),o=Cv(),i=xv();function u(r){return i(o(r,void 0,e),r+"")}return zo=u,zo}var $o,Bc;function Cy(){if(Bc)return $o;Bc=1;var e=wy(),o=Ty(),i=o(function(u,r){return u==null?{}:e(u,r)});return $o=i,$o}var jo,Vc;function xy(){if(Vc)return jo;Vc=1;var e=Math.ceil,o=Math.max;function i(u,r,n,a){for(var t=-1,s=o(e((r-u)/(n||1)),0),f=Array(s);s--;)f[a?s:++t]=u,u+=n;return f}return jo=i,jo}var Ko,Xc;function Ny(){if(Xc)return Ko;Xc=1;var e=xy(),o=fr(),i=Sv();function u(r){return function(n,a,t){return t&&typeof t!="number"&&o(n,a,t)&&(a=t=void 0),n=i(n),a===void 0?(a=n,n=0):a=i(a),t=t===void 0?n<a?1:-1:i(t),e(n,a,t,r)}}return Ko=u,Ko}var Zo,Wc;function _y(){if(Wc)return Zo;Wc=1;var e=Ny(),o=e();return Zo=o,Zo}var Qo,zc;function Ry(){if(zc)return Qo;zc=1;function e(o,i){var u=o.length;for(o.sort(i);u--;)o[u]=o[u].value;return o}return Qo=e,Qo}var Jo,$c;function Ay(){if($c)return Jo;$c=1;var e=Nt();function o(i,u){if(i!==u){var r=i!==void 0,n=i===null,a=i===i,t=e(i),s=u!==void 0,f=u===null,h=u===u,l=e(u);if(!f&&!l&&!t&&i>u||t&&s&&h&&!f&&!l||n&&s&&h||!r&&h||!a)return 1;if(!n&&!t&&!l&&i<u||l&&r&&a&&!n&&!t||f&&r&&a||!s&&a||!h)return-1}return 0}return Jo=o,Jo}var es,jc;function Ly(){if(jc)return es;jc=1;var e=Ay();function o(i,u,r){for(var n=-1,a=i.criteria,t=u.criteria,s=a.length,f=r.length;++n<s;){var h=e(a[n],t[n]);if(h){if(n>=f)return h;var l=r[n];return h*(l=="desc"?-1:1)}}return i.index-u.index}return es=o,es}var ts,Kc;function Oy(){if(Kc)return ts;Kc=1;var e=ir(),o=sr(),i=it(),u=Ev(),r=Ry(),n=tr(),a=Ly(),t=gt(),s=Ue();function f(h,l,d){l.length?l=e(l,function(g){return s(g)?function(y){return o(y,g.length===1?g[0]:g)}:g}):l=[t];var c=-1;l=e(l,n(i));var p=u(h,function(g,y,v){var w=e(l,function(m){return m(g)});return{criteria:w,index:++c,value:g}});return r(p,function(g,y){return a(g,y,d)})}return ts=f,ts}var rs,Zc;function My(){if(Zc)return rs;Zc=1;var e=eu(),o=Oy(),i=ur(),u=fr(),r=i(function(n,a){if(n==null)return[];var t=a.length;return t>1&&u(n,a[0],a[1])?a=[]:t>2&&u(a[0],a[1],a[2])&&(a=[a[0]]),o(n,e(a,1),[])});return rs=r,rs}var ns,Qc;function Iy(){if(Qc)return ns;Qc=1;var e=dv(),o=0;function i(u){var r=++o;return e(u)+r}return ns=i,ns}var as,Jc;function Sy(){if(Jc)return as;Jc=1;function e(o,i,u){for(var r=-1,n=o.length,a=i.length,t={};++r<n;){var s=r<a?i[r]:void 0;u(t,o[r],s)}return t}return as=e,as}var is,ed;function qy(){if(ed)return is;ed=1;var e=Jt(),o=Sy();function i(u,r){return o(u||[],r||[],e)}return is=i,is}var os,td;function De(){if(td)return os;td=1;var e;if(typeof Us=="function")try{e={cloneDeep:Kp(),constant:js(),defaults:Zp(),each:ov(),filter:yv(),find:ay(),flatten:qv(),forEach:iv(),forIn:iy(),has:mv(),isUndefined:bv(),last:oy(),map:wv(),mapValues:sy(),max:fy(),merge:gy(),min:py(),minBy:yy(),now:my(),pick:Cy(),range:_y(),reduce:Tv(),sortBy:My(),uniqueId:Iy(),values:Rv(),zipObject:qy()}}catch{}return e||(e=window._),os=e,os}var ss,rd;function Dy(){if(rd)return ss;rd=1,ss=e;function e(){var u={};u._next=u._prev=u,this._sentinel=u}e.prototype.dequeue=function(){var u=this._sentinel,r=u._prev;if(r!==u)return o(r),r},e.prototype.enqueue=function(u){var r=this._sentinel;u._prev&&u._next&&o(u),u._next=r._next,r._next._prev=u,r._next=u,u._prev=r},e.prototype.toString=function(){for(var u=[],r=this._sentinel,n=r._prev;n!==r;)u.push(JSON.stringify(n,i)),n=n._prev;return"["+u.join(", ")+"]"};function o(u){u._prev._next=u._next,u._next._prev=u._prev,delete u._next,delete u._prev}function i(u,r){if(u!=="_next"&&u!=="_prev")return r}return ss}var us,nd;function Py(){if(nd)return us;nd=1;var e=De(),o=Je().Graph,i=Dy();us=r;var u=e.constant(1);function r(f,h){if(f.nodeCount()<=1)return[];var l=t(f,h||u),d=n(l.graph,l.buckets,l.zeroIdx);return e.flatten(e.map(d,function(c){return f.outEdges(c.v,c.w)}),!0)}function n(f,h,l){for(var d=[],c=h[h.length-1],p=h[0],g;f.nodeCount();){for(;g=p.dequeue();)a(f,h,l,g);for(;g=c.dequeue();)a(f,h,l,g);if(f.nodeCount()){for(var y=h.length-2;y>0;--y)if(g=h[y].dequeue(),g){d=d.concat(a(f,h,l,g,!0));break}}}return d}function a(f,h,l,d,c){var p=c?[]:void 0;return e.forEach(f.inEdges(d.v),function(g){var y=f.edge(g),v=f.node(g.v);c&&p.push({v:g.v,w:g.w}),v.out-=y,s(h,l,v)}),e.forEach(f.outEdges(d.v),function(g){var y=f.edge(g),v=g.w,w=f.node(v);w.in-=y,s(h,l,w)}),f.removeNode(d.v),p}function t(f,h){var l=new o,d=0,c=0;e.forEach(f.nodes(),function(y){l.setNode(y,{v:y,in:0,out:0})}),e.forEach(f.edges(),function(y){var v=l.edge(y.v,y.w)||0,w=h(y),m=v+w;l.setEdge(y.v,y.w,m),c=Math.max(c,l.node(y.v).out+=w),d=Math.max(d,l.node(y.w).in+=w)});var p=e.range(c+d+3).map(function(){return new i}),g=d+1;return e.forEach(l.nodes(),function(y){s(p,g,l.node(y))}),{graph:l,buckets:p,zeroIdx:g}}function s(f,h,l){l.out?l.in?f[l.out-l.in+h].enqueue(l):f[f.length-1].enqueue(l):f[0].enqueue(l)}return us}var fs,ad;function Fy(){if(ad)return fs;ad=1;var e=De(),o=Py();fs={run:i,undo:r};function i(n){var a=n.graph().acyclicer==="greedy"?o(n,t(n)):u(n);e.forEach(a,function(s){var f=n.edge(s);n.removeEdge(s),f.forwardName=s.name,f.reversed=!0,n.setEdge(s.w,s.v,f,e.uniqueId("rev"))});function t(s){return function(f){return s.edge(f).weight}}}function u(n){var a=[],t={},s={};function f(h){e.has(s,h)||(s[h]=!0,t[h]=!0,e.forEach(n.outEdges(h),function(l){e.has(t,l.w)?a.push(l):f(l.w)}),delete t[h])}return e.forEach(n.nodes(),f),a}function r(n){e.forEach(n.edges(),function(a){var t=n.edge(a);if(t.reversed){n.removeEdge(a);var s=t.forwardName;delete t.reversed,delete t.forwardName,n.setEdge(a.w,a.v,t,s)}})}return fs}var ls,id;function ze(){if(id)return ls;id=1;var e=De(),o=Je().Graph;ls={addDummyNode:i,simplify:u,asNonCompoundGraph:r,successorWeights:n,predecessorWeights:a,intersectRect:t,buildLayerMatrix:s,normalizeRanks:f,removeEmptyRanks:h,addBorderNode:l,maxRank:d,partition:c,time:p,notime:g};function i(y,v,w,m){var E;do E=e.uniqueId(m);while(y.hasNode(E));return w.dummy=v,y.setNode(E,w),E}function u(y){var v=new o().setGraph(y.graph());return e.forEach(y.nodes(),function(w){v.setNode(w,y.node(w))}),e.forEach(y.edges(),function(w){var m=v.edge(w.v,w.w)||{weight:0,minlen:1},E=y.edge(w);v.setEdge(w.v,w.w,{weight:m.weight+E.weight,minlen:Math.max(m.minlen,E.minlen)})}),v}function r(y){var v=new o({multigraph:y.isMultigraph()}).setGraph(y.graph());return e.forEach(y.nodes(),function(w){y.children(w).length||v.setNode(w,y.node(w))}),e.forEach(y.edges(),function(w){v.setEdge(w,y.edge(w))}),v}function n(y){var v=e.map(y.nodes(),function(w){var m={};return e.forEach(y.outEdges(w),function(E){m[E.w]=(m[E.w]||0)+y.edge(E).weight}),m});return e.zipObject(y.nodes(),v)}function a(y){var v=e.map(y.nodes(),function(w){var m={};return e.forEach(y.inEdges(w),function(E){m[E.v]=(m[E.v]||0)+y.edge(E).weight}),m});return e.zipObject(y.nodes(),v)}function t(y,v){var w=y.x,m=y.y,E=v.x-w,T=v.y-m,A=y.width/2,N=y.height/2;if(!E&&!T)throw new Error("Not possible to find intersection inside of the rectangle");var q,S;return Math.abs(T)*A>Math.abs(E)*N?(T<0&&(N=-N),q=N*E/T,S=N):(E<0&&(A=-A),q=A,S=A*T/E),{x:w+q,y:m+S}}function s(y){var v=e.map(e.range(d(y)+1),function(){return[]});return e.forEach(y.nodes(),function(w){var m=y.node(w),E=m.rank;e.isUndefined(E)||(v[E][m.order]=w)}),v}function f(y){var v=e.min(e.map(y.nodes(),function(w){return y.node(w).rank}));e.forEach(y.nodes(),function(w){var m=y.node(w);e.has(m,"rank")&&(m.rank-=v)})}function h(y){var v=e.min(e.map(y.nodes(),function(T){return y.node(T).rank})),w=[];e.forEach(y.nodes(),function(T){var A=y.node(T).rank-v;w[A]||(w[A]=[]),w[A].push(T)});var m=0,E=y.graph().nodeRankFactor;e.forEach(w,function(T,A){e.isUndefined(T)&&A%E!==0?--m:m&&e.forEach(T,function(N){y.node(N).rank+=m})})}function l(y,v,w,m){var E={width:0,height:0};return arguments.length>=4&&(E.rank=w,E.order=m),i(y,"border",E,v)}function d(y){return e.max(e.map(y.nodes(),function(v){var w=y.node(v).rank;if(!e.isUndefined(w))return w}))}function c(y,v){var w={lhs:[],rhs:[]};return e.forEach(y,function(m){v(m)?w.lhs.push(m):w.rhs.push(m)}),w}function p(y,v){var w=e.now();try{return v()}finally{console.log(y+" time: "+(e.now()-w)+"ms")}}function g(y,v){return v()}return ls}var hs,od;function Gy(){if(od)return hs;od=1;var e=De(),o=ze();hs={run:i,undo:r};function i(n){n.graph().dummyChains=[],e.forEach(n.edges(),function(a){u(n,a)})}function u(n,a){var t=a.v,s=n.node(t).rank,f=a.w,h=n.node(f).rank,l=a.name,d=n.edge(a),c=d.labelRank;if(h!==s+1){n.removeEdge(a);var p,g,y;for(y=0,++s;s<h;++y,++s)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:a,rank:s},p=o.addDummyNode(n,"edge",g,"_d"),s===c&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),n.setEdge(t,p,{weight:d.weight},l),y===0&&n.graph().dummyChains.push(p),t=p;n.setEdge(t,f,{weight:d.weight},l)}}function r(n){e.forEach(n.graph().dummyChains,function(a){var t=n.node(a),s=t.edgeLabel,f;for(n.setEdge(t.edgeObj,s);t.dummy;)f=n.successors(a)[0],n.removeNode(a),s.points.push({x:t.x,y:t.y}),t.dummy==="edge-label"&&(s.x=t.x,s.y=t.y,s.width=t.width,s.height=t.height),a=f,t=n.node(a)})}return hs}var cs,sd;function Wt(){if(sd)return cs;sd=1;var e=De();cs={longestPath:o,slack:i};function o(u){var r={};function n(a){var t=u.node(a);if(e.has(r,a))return t.rank;r[a]=!0;var s=e.min(e.map(u.outEdges(a),function(f){return n(f.w)-u.edge(f).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),t.rank=s}e.forEach(u.sources(),n)}function i(u,r){return u.node(r.w).rank-u.node(r.v).rank-u.edge(r).minlen}return cs}var ds,ud;function Gv(){if(ud)return ds;ud=1;var e=De(),o=Je().Graph,i=Wt().slack;ds=u;function u(t){var s=new o({directed:!1}),f=t.nodes()[0],h=t.nodeCount();s.setNode(f,{});for(var l,d;r(s,t)<h;)l=n(s,t),d=s.hasNode(l.v)?i(t,l):-i(t,l),a(s,t,d);return s}function r(t,s){function f(h){e.forEach(s.nodeEdges(h),function(l){var d=l.v,c=h===d?l.w:d;!t.hasNode(c)&&!i(s,l)&&(t.setNode(c,{}),t.setEdge(h,c,{}),f(c))})}return e.forEach(t.nodes(),f),t.nodeCount()}function n(t,s){return e.minBy(s.edges(),function(f){if(t.hasNode(f.v)!==t.hasNode(f.w))return i(s,f)})}function a(t,s,f){e.forEach(t.nodes(),function(h){s.node(h).rank+=f})}return ds}var vs,fd;function Uy(){if(fd)return vs;fd=1;var e=De(),o=Gv(),i=Wt().slack,u=Wt().longestPath,r=Je().alg.preorder,n=Je().alg.postorder,a=ze().simplify;vs=t,t.initLowLimValues=l,t.initCutValues=s,t.calcCutValue=h,t.leaveEdge=c,t.enterEdge=p,t.exchangeEdges=g;function t(m){m=a(m),u(m);var E=o(m);l(E),s(E,m);for(var T,A;T=c(E);)A=p(E,m,T),g(E,m,T,A)}function s(m,E){var T=n(m,m.nodes());T=T.slice(0,T.length-1),e.forEach(T,function(A){f(m,E,A)})}function f(m,E,T){var A=m.node(T),N=A.parent;m.edge(T,N).cutvalue=h(m,E,T)}function h(m,E,T){var A=m.node(T),N=A.parent,q=!0,S=E.edge(T,N),L=0;return S||(q=!1,S=E.edge(N,T)),L=S.weight,e.forEach(E.nodeEdges(T),function(D){var O=D.v===T,U=O?D.w:D.v;if(U!==N){var b=O===q,_=E.edge(D).weight;if(L+=b?_:-_,v(m,T,U)){var x=m.edge(T,U).cutvalue;L+=b?-x:x}}}),L}function l(m,E){arguments.length<2&&(E=m.nodes()[0]),d(m,{},1,E)}function d(m,E,T,A,N){var q=T,S=m.node(A);return E[A]=!0,e.forEach(m.neighbors(A),function(L){e.has(E,L)||(T=d(m,E,T,L,A))}),S.low=q,S.lim=T++,N?S.parent=N:delete S.parent,T}function c(m){return e.find(m.edges(),function(E){return m.edge(E).cutvalue<0})}function p(m,E,T){var A=T.v,N=T.w;E.hasEdge(A,N)||(A=T.w,N=T.v);var q=m.node(A),S=m.node(N),L=q,D=!1;q.lim>S.lim&&(L=S,D=!0);var O=e.filter(E.edges(),function(U){return D===w(m,m.node(U.v),L)&&D!==w(m,m.node(U.w),L)});return e.minBy(O,function(U){return i(E,U)})}function g(m,E,T,A){var N=T.v,q=T.w;m.removeEdge(N,q),m.setEdge(A.v,A.w,{}),l(m),s(m,E),y(m,E)}function y(m,E){var T=e.find(m.nodes(),function(N){return!E.node(N).parent}),A=r(m,T);A=A.slice(1),e.forEach(A,function(N){var q=m.node(N).parent,S=E.edge(N,q),L=!1;S||(S=E.edge(q,N),L=!0),E.node(N).rank=E.node(q).rank+(L?S.minlen:-S.minlen)})}function v(m,E,T){return m.hasEdge(E,T)}function w(m,E,T){return T.low<=E.lim&&E.lim<=T.lim}return vs}var gs,ld;function Hy(){if(ld)return gs;ld=1;var e=Wt(),o=e.longestPath,i=Gv(),u=Uy();gs=r;function r(s){switch(s.graph().ranker){case"network-simplex":t(s);break;case"tight-tree":a(s);break;case"longest-path":n(s);break;default:t(s)}}var n=o;function a(s){o(s),i(s)}function t(s){u(s)}return gs}var ps,hd;function Yy(){if(hd)return ps;hd=1;var e=De();ps=o;function o(r){var n=u(r);e.forEach(r.graph().dummyChains,function(a){for(var t=r.node(a),s=t.edgeObj,f=i(r,n,s.v,s.w),h=f.path,l=f.lca,d=0,c=h[d],p=!0;a!==s.w;){if(t=r.node(a),p){for(;(c=h[d])!==l&&r.node(c).maxRank<t.rank;)d++;c===l&&(p=!1)}if(!p){for(;d<h.length-1&&r.node(c=h[d+1]).minRank<=t.rank;)d++;c=h[d]}r.setParent(a,c),a=r.successors(a)[0]}})}function i(r,n,a,t){var s=[],f=[],h=Math.min(n[a].low,n[t].low),l=Math.max(n[a].lim,n[t].lim),d,c;d=a;do d=r.parent(d),s.push(d);while(d&&(n[d].low>h||l>n[d].lim));for(c=d,d=t;(d=r.parent(d))!==c;)f.push(d);return{path:s.concat(f.reverse()),lca:c}}function u(r){var n={},a=0;function t(s){var f=a;e.forEach(r.children(s),t),n[s]={low:f,lim:a++}}return e.forEach(r.children(),t),n}return ps}var ys,cd;function ky(){if(cd)return ys;cd=1;var e=De(),o=ze();ys={run:i,cleanup:a};function i(t){var s=o.addDummyNode(t,"root",{},"_root"),f=r(t),h=e.max(e.values(f))-1,l=2*h+1;t.graph().nestingRoot=s,e.forEach(t.edges(),function(c){t.edge(c).minlen*=l});var d=n(t)+1;e.forEach(t.children(),function(c){u(t,s,l,d,h,f,c)}),t.graph().nodeRankFactor=l}function u(t,s,f,h,l,d,c){var p=t.children(c);if(!p.length){c!==s&&t.setEdge(s,c,{weight:0,minlen:f});return}var g=o.addBorderNode(t,"_bt"),y=o.addBorderNode(t,"_bb"),v=t.node(c);t.setParent(g,c),v.borderTop=g,t.setParent(y,c),v.borderBottom=y,e.forEach(p,function(w){u(t,s,f,h,l,d,w);var m=t.node(w),E=m.borderTop?m.borderTop:w,T=m.borderBottom?m.borderBottom:w,A=m.borderTop?h:2*h,N=E!==T?1:l-d[c]+1;t.setEdge(g,E,{weight:A,minlen:N,nestingEdge:!0}),t.setEdge(T,y,{weight:A,minlen:N,nestingEdge:!0})}),t.parent(c)||t.setEdge(s,g,{weight:0,minlen:l+d[c]})}function r(t){var s={};function f(h,l){var d=t.children(h);d&&d.length&&e.forEach(d,function(c){f(c,l+1)}),s[h]=l}return e.forEach(t.children(),function(h){f(h,1)}),s}function n(t){return e.reduce(t.edges(),function(s,f){return s+t.edge(f).weight},0)}function a(t){var s=t.graph();t.removeNode(s.nestingRoot),delete s.nestingRoot,e.forEach(t.edges(),function(f){var h=t.edge(f);h.nestingEdge&&t.removeEdge(f)})}return ys}var ms,dd;function By(){if(dd)return ms;dd=1;var e=De(),o=ze();ms=i;function i(r){function n(a){var t=r.children(a),s=r.node(a);if(t.length&&e.forEach(t,n),e.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var f=s.minRank,h=s.maxRank+1;f<h;++f)u(r,"borderLeft","_bl",a,s,f),u(r,"borderRight","_br",a,s,f)}}e.forEach(r.children(),n)}function u(r,n,a,t,s,f){var h={width:0,height:0,rank:f,borderType:n},l=s[n][f-1],d=o.addDummyNode(r,"border",h,a);s[n][f]=d,r.setParent(d,t),l&&r.setEdge(l,d,{weight:1})}return ms}var bs,vd;function Vy(){if(vd)return bs;vd=1;var e=De();bs={adjust:o,undo:i};function o(f){var h=f.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&u(f)}function i(f){var h=f.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&n(f),(h==="lr"||h==="rl")&&(t(f),u(f))}function u(f){e.forEach(f.nodes(),function(h){r(f.node(h))}),e.forEach(f.edges(),function(h){r(f.edge(h))})}function r(f){var h=f.width;f.width=f.height,f.height=h}function n(f){e.forEach(f.nodes(),function(h){a(f.node(h))}),e.forEach(f.edges(),function(h){var l=f.edge(h);e.forEach(l.points,a),e.has(l,"y")&&a(l)})}function a(f){f.y=-f.y}function t(f){e.forEach(f.nodes(),function(h){s(f.node(h))}),e.forEach(f.edges(),function(h){var l=f.edge(h);e.forEach(l.points,s),e.has(l,"x")&&s(l)})}function s(f){var h=f.x;f.x=f.y,f.y=h}return bs}var Es,gd;function Xy(){if(gd)return Es;gd=1;var e=De();Es=o;function o(i){var u={},r=e.filter(i.nodes(),function(f){return!i.children(f).length}),n=e.max(e.map(r,function(f){return i.node(f).rank})),a=e.map(e.range(n+1),function(){return[]});function t(f){if(!e.has(u,f)){u[f]=!0;var h=i.node(f);a[h.rank].push(f),e.forEach(i.successors(f),t)}}var s=e.sortBy(r,function(f){return i.node(f).rank});return e.forEach(s,t),a}return Es}var ws,pd;function Wy(){if(pd)return ws;pd=1;var e=De();ws=o;function o(u,r){for(var n=0,a=1;a<r.length;++a)n+=i(u,r[a-1],r[a]);return n}function i(u,r,n){for(var a=e.zipObject(n,e.map(n,function(d,c){return c})),t=e.flatten(e.map(r,function(d){return e.sortBy(e.map(u.outEdges(d),function(c){return{pos:a[c.w],weight:u.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var f=2*s-1;s-=1;var h=e.map(new Array(f),function(){return 0}),l=0;return e.forEach(t.forEach(function(d){var c=d.pos+s;h[c]+=d.weight;for(var p=0;c>0;)c%2&&(p+=h[c+1]),c=c-1>>1,h[c]+=d.weight;l+=d.weight*p})),l}return ws}var Ts,yd;function zy(){if(yd)return Ts;yd=1;var e=De();Ts=o;function o(i,u){return e.map(u,function(r){var n=i.inEdges(r);if(n.length){var a=e.reduce(n,function(t,s){var f=i.edge(s),h=i.node(s.v);return{sum:t.sum+f.weight*h.order,weight:t.weight+f.weight}},{sum:0,weight:0});return{v:r,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:r}})}return Ts}var Cs,md;function $y(){if(md)return Cs;md=1;var e=De();Cs=o;function o(r,n){var a={};e.forEach(r,function(s,f){var h=a[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:f};e.isUndefined(s.barycenter)||(h.barycenter=s.barycenter,h.weight=s.weight)}),e.forEach(n.edges(),function(s){var f=a[s.v],h=a[s.w];!e.isUndefined(f)&&!e.isUndefined(h)&&(h.indegree++,f.out.push(a[s.w]))});var t=e.filter(a,function(s){return!s.indegree});return i(t)}function i(r){var n=[];function a(f){return function(h){h.merged||(e.isUndefined(h.barycenter)||e.isUndefined(f.barycenter)||h.barycenter>=f.barycenter)&&u(f,h)}}function t(f){return function(h){h.in.push(f),--h.indegree===0&&r.push(h)}}for(;r.length;){var s=r.pop();n.push(s),e.forEach(s.in.reverse(),a(s)),e.forEach(s.out,t(s))}return e.map(e.filter(n,function(f){return!f.merged}),function(f){return e.pick(f,["vs","i","barycenter","weight"])})}function u(r,n){var a=0,t=0;r.weight&&(a+=r.barycenter*r.weight,t+=r.weight),n.weight&&(a+=n.barycenter*n.weight,t+=n.weight),r.vs=n.vs.concat(r.vs),r.barycenter=a/t,r.weight=t,r.i=Math.min(n.i,r.i),n.merged=!0}return Cs}var xs,bd;function jy(){if(bd)return xs;bd=1;var e=De(),o=ze();xs=i;function i(n,a){var t=o.partition(n,function(g){return e.has(g,"barycenter")}),s=t.lhs,f=e.sortBy(t.rhs,function(g){return-g.i}),h=[],l=0,d=0,c=0;s.sort(r(!!a)),c=u(h,f,c),e.forEach(s,function(g){c+=g.vs.length,h.push(g.vs),l+=g.barycenter*g.weight,d+=g.weight,c=u(h,f,c)});var p={vs:e.flatten(h,!0)};return d&&(p.barycenter=l/d,p.weight=d),p}function u(n,a,t){for(var s;a.length&&(s=e.last(a)).i<=t;)a.pop(),n.push(s.vs),t++;return t}function r(n){return function(a,t){return a.barycenter<t.barycenter?-1:a.barycenter>t.barycenter?1:n?t.i-a.i:a.i-t.i}}return xs}var Ns,Ed;function Ky(){if(Ed)return Ns;Ed=1;var e=De(),o=zy(),i=$y(),u=jy();Ns=r;function r(t,s,f,h){var l=t.children(s),d=t.node(s),c=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,g={};c&&(l=e.filter(l,function(T){return T!==c&&T!==p}));var y=o(t,l);e.forEach(y,function(T){if(t.children(T.v).length){var A=r(t,T.v,f,h);g[T.v]=A,e.has(A,"barycenter")&&a(T,A)}});var v=i(y,f);n(v,g);var w=u(v,h);if(c&&(w.vs=e.flatten([c,w.vs,p],!0),t.predecessors(c).length)){var m=t.node(t.predecessors(c)[0]),E=t.node(t.predecessors(p)[0]);e.has(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+m.order+E.order)/(w.weight+2),w.weight+=2}return w}function n(t,s){e.forEach(t,function(f){f.vs=e.flatten(f.vs.map(function(h){return s[h]?s[h].vs:h}),!0)})}function a(t,s){e.isUndefined(t.barycenter)?(t.barycenter=s.barycenter,t.weight=s.weight):(t.barycenter=(t.barycenter*t.weight+s.barycenter*s.weight)/(t.weight+s.weight),t.weight+=s.weight)}return Ns}var _s,wd;function Zy(){if(wd)return _s;wd=1;var e=De(),o=Je().Graph;_s=i;function i(r,n,a){var t=u(r),s=new o({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(f){return r.node(f)});return e.forEach(r.nodes(),function(f){var h=r.node(f),l=r.parent(f);(h.rank===n||h.minRank<=n&&n<=h.maxRank)&&(s.setNode(f),s.setParent(f,l||t),e.forEach(r[a](f),function(d){var c=d.v===f?d.w:d.v,p=s.edge(c,f),g=e.isUndefined(p)?0:p.weight;s.setEdge(c,f,{weight:r.edge(d).weight+g})}),e.has(h,"minRank")&&s.setNode(f,{borderLeft:h.borderLeft[n],borderRight:h.borderRight[n]}))}),s}function u(r){for(var n;r.hasNode(n=e.uniqueId("_root")););return n}return _s}var Rs,Td;function Qy(){if(Td)return Rs;Td=1;var e=De();Rs=o;function o(i,u,r){var n={},a;e.forEach(r,function(t){for(var s=i.parent(t),f,h;s;){if(f=i.parent(s),f?(h=n[f],n[f]=s):(h=a,a=s),h&&h!==s){u.setEdge(h,s);return}s=f}})}return Rs}var As,Cd;function Jy(){if(Cd)return As;Cd=1;var e=De(),o=Xy(),i=Wy(),u=Ky(),r=Zy(),n=Qy(),a=Je().Graph,t=ze();As=s;function s(d){var c=t.maxRank(d),p=f(d,e.range(1,c+1),"inEdges"),g=f(d,e.range(c-1,-1,-1),"outEdges"),y=o(d);l(d,y);for(var v=Number.POSITIVE_INFINITY,w,m=0,E=0;E<4;++m,++E){h(m%2?p:g,m%4>=2),y=t.buildLayerMatrix(d);var T=i(d,y);T<v&&(E=0,w=e.cloneDeep(y),v=T)}l(d,w)}function f(d,c,p){return e.map(c,function(g){return r(d,g,p)})}function h(d,c){var p=new a;e.forEach(d,function(g){var y=g.graph().root,v=u(g,y,p,c);e.forEach(v.vs,function(w,m){g.node(w).order=m}),n(g,p,v.vs)})}function l(d,c){e.forEach(c,function(p){e.forEach(p,function(g,y){d.node(g).order=y})})}return As}var Ls,xd;function em(){if(xd)return Ls;xd=1;var e=De(),o=Je().Graph,i=ze();Ls={positionX:p,findType1Conflicts:u,findType2Conflicts:r,addConflict:a,hasConflict:t,verticalAlignment:s,horizontalCompaction:f,alignCoordinates:d,findSmallestWidthAlignment:l,balance:c};function u(v,w){var m={};function E(T,A){var N=0,q=0,S=T.length,L=e.last(A);return e.forEach(A,function(D,O){var U=n(v,D),b=U?v.node(U).order:S;(U||D===L)&&(e.forEach(A.slice(q,O+1),function(_){e.forEach(v.predecessors(_),function(x){var R=v.node(x),C=R.order;(C<N||b<C)&&!(R.dummy&&v.node(_).dummy)&&a(m,x,_)})}),q=O+1,N=b)}),A}return e.reduce(w,E),m}function r(v,w){var m={};function E(A,N,q,S,L){var D;e.forEach(e.range(N,q),function(O){D=A[O],v.node(D).dummy&&e.forEach(v.predecessors(D),function(U){var b=v.node(U);b.dummy&&(b.order<S||b.order>L)&&a(m,U,D)})})}function T(A,N){var q=-1,S,L=0;return e.forEach(N,function(D,O){if(v.node(D).dummy==="border"){var U=v.predecessors(D);U.length&&(S=v.node(U[0]).order,E(N,L,O,q,S),L=O,q=S)}E(N,L,N.length,S,A.length)}),N}return e.reduce(w,T),m}function n(v,w){if(v.node(w).dummy)return e.find(v.predecessors(w),function(m){return v.node(m).dummy})}function a(v,w,m){if(w>m){var E=w;w=m,m=E}var T=v[w];T||(v[w]=T={}),T[m]=!0}function t(v,w,m){if(w>m){var E=w;w=m,m=E}return e.has(v[w],m)}function s(v,w,m,E){var T={},A={},N={};return e.forEach(w,function(q){e.forEach(q,function(S,L){T[S]=S,A[S]=S,N[S]=L})}),e.forEach(w,function(q){var S=-1;e.forEach(q,function(L){var D=E(L);if(D.length){D=e.sortBy(D,function(x){return N[x]});for(var O=(D.length-1)/2,U=Math.floor(O),b=Math.ceil(O);U<=b;++U){var _=D[U];A[L]===L&&S<N[_]&&!t(m,L,_)&&(A[_]=L,A[L]=T[L]=T[_],S=N[_])}}})}),{root:T,align:A}}function f(v,w,m,E,T){var A={},N=h(v,w,m,T),q=T?"borderLeft":"borderRight";function S(O,U){for(var b=N.nodes(),_=b.pop(),x={};_;)x[_]?O(_):(x[_]=!0,b.push(_),b=b.concat(U(_))),_=b.pop()}function L(O){A[O]=N.inEdges(O).reduce(function(U,b){return Math.max(U,A[b.v]+N.edge(b))},0)}function D(O){var U=N.outEdges(O).reduce(function(_,x){return Math.min(_,A[x.w]-N.edge(x))},Number.POSITIVE_INFINITY),b=v.node(O);U!==Number.POSITIVE_INFINITY&&b.borderType!==q&&(A[O]=Math.max(A[O],U))}return S(L,N.predecessors.bind(N)),S(D,N.successors.bind(N)),e.forEach(E,function(O){A[O]=A[m[O]]}),A}function h(v,w,m,E){var T=new o,A=v.graph(),N=g(A.nodesep,A.edgesep,E);return e.forEach(w,function(q){var S;e.forEach(q,function(L){var D=m[L];if(T.setNode(D),S){var O=m[S],U=T.edge(O,D);T.setEdge(O,D,Math.max(N(v,L,S),U||0))}S=L})}),T}function l(v,w){return e.minBy(e.values(w),function(m){var E=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;return e.forIn(m,function(A,N){var q=y(v,N)/2;E=Math.max(A+q,E),T=Math.min(A-q,T)}),E-T})}function d(v,w){var m=e.values(w),E=e.min(m),T=e.max(m);e.forEach(["u","d"],function(A){e.forEach(["l","r"],function(N){var q=A+N,S=v[q],L;if(S!==w){var D=e.values(S);L=N==="l"?E-e.min(D):T-e.max(D),L&&(v[q]=e.mapValues(S,function(O){return O+L}))}})})}function c(v,w){return e.mapValues(v.ul,function(m,E){if(w)return v[w.toLowerCase()][E];var T=e.sortBy(e.map(v,E));return(T[1]+T[2])/2})}function p(v){var w=i.buildLayerMatrix(v),m=e.merge(u(v,w),r(v,w)),E={},T;e.forEach(["u","d"],function(N){T=N==="u"?w:e.values(w).reverse(),e.forEach(["l","r"],function(q){q==="r"&&(T=e.map(T,function(O){return e.values(O).reverse()}));var S=(N==="u"?v.predecessors:v.successors).bind(v),L=s(v,T,m,S),D=f(v,T,L.root,L.align,q==="r");q==="r"&&(D=e.mapValues(D,function(O){return-O})),E[N+q]=D})});var A=l(v,E);return d(E,A),c(E,v.graph().align)}function g(v,w,m){return function(E,T,A){var N=E.node(T),q=E.node(A),S=0,L;if(S+=N.width/2,e.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":L=-N.width/2;break;case"r":L=N.width/2;break}if(L&&(S+=m?L:-L),L=0,S+=(N.dummy?w:v)/2,S+=(q.dummy?w:v)/2,S+=q.width/2,e.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":L=q.width/2;break;case"r":L=-q.width/2;break}return L&&(S+=m?L:-L),L=0,S}}function y(v,w){return v.node(w).width}return Ls}var Os,Nd;function tm(){if(Nd)return Os;Nd=1;var e=De(),o=ze(),i=em().positionX;Os=u;function u(n){n=o.asNonCompoundGraph(n),r(n),e.forEach(i(n),function(a,t){n.node(t).x=a})}function r(n){var a=o.buildLayerMatrix(n),t=n.graph().ranksep,s=0;e.forEach(a,function(f){var h=e.max(e.map(f,function(l){return n.node(l).height}));e.forEach(f,function(l){n.node(l).y=s+h/2}),s+=h+t})}return Os}var Ms,_d;function rm(){if(_d)return Ms;_d=1;var e=De(),o=Fy(),i=Gy(),u=Hy(),r=ze().normalizeRanks,n=Yy(),a=ze().removeEmptyRanks,t=ky(),s=By(),f=Vy(),h=Jy(),l=tm(),d=ze(),c=Je().Graph;Ms=p;function p(M,I){var P=I&&I.debugTiming?d.time:d.notime;P("layout",function(){var Y=P("  buildLayoutGraph",function(){return S(M)});P("  runLayout",function(){g(Y,P)}),P("  updateInputGraph",function(){y(M,Y)})})}function g(M,I){I("    makeSpaceForEdgeLabels",function(){L(M)}),I("    removeSelfEdges",function(){V(M)}),I("    acyclic",function(){o.run(M)}),I("    nestingGraph.run",function(){t.run(M)}),I("    rank",function(){u(d.asNonCompoundGraph(M))}),I("    injectEdgeLabelProxies",function(){D(M)}),I("    removeEmptyRanks",function(){a(M)}),I("    nestingGraph.cleanup",function(){t.cleanup(M)}),I("    normalizeRanks",function(){r(M)}),I("    assignRankMinMax",function(){O(M)}),I("    removeEdgeLabelProxies",function(){U(M)}),I("    normalize.run",function(){i.run(M)}),I("    parentDummyChains",function(){n(M)}),I("    addBorderSegments",function(){s(M)}),I("    order",function(){h(M)}),I("    insertSelfEdges",function(){G(M)}),I("    adjustCoordinateSystem",function(){f.adjust(M)}),I("    position",function(){l(M)}),I("    positionSelfEdges",function(){H(M)}),I("    removeBorderNodes",function(){C(M)}),I("    normalize.undo",function(){i.undo(M)}),I("    fixupEdgeLabelCoords",function(){x(M)}),I("    undoCoordinateSystem",function(){f.undo(M)}),I("    translateGraph",function(){b(M)}),I("    assignNodeIntersects",function(){_(M)}),I("    reversePoints",function(){R(M)}),I("    acyclic.undo",function(){o.undo(M)})}function y(M,I){e.forEach(M.nodes(),function(P){var Y=M.node(P),B=I.node(P);Y&&(Y.x=B.x,Y.y=B.y,I.children(P).length&&(Y.width=B.width,Y.height=B.height))}),e.forEach(M.edges(),function(P){var Y=M.edge(P),B=I.edge(P);Y.points=B.points,e.has(B,"x")&&(Y.x=B.x,Y.y=B.y)}),M.graph().width=I.graph().width,M.graph().height=I.graph().height}var v=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],E=["width","height"],T={width:0,height:0},A=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},q=["labelpos"];function S(M){var I=new c({multigraph:!0,compound:!0}),P=k(M.graph());return I.setGraph(e.merge({},w,$(P,v),e.pick(P,m))),e.forEach(M.nodes(),function(Y){var B=k(M.node(Y));I.setNode(Y,e.defaults($(B,E),T)),I.setParent(Y,M.parent(Y))}),e.forEach(M.edges(),function(Y){var B=k(M.edge(Y));I.setEdge(Y,e.merge({},N,$(B,A),e.pick(B,q)))}),I}function L(M){var I=M.graph();I.ranksep/=2,e.forEach(M.edges(),function(P){var Y=M.edge(P);Y.minlen*=2,Y.labelpos.toLowerCase()!=="c"&&(I.rankdir==="TB"||I.rankdir==="BT"?Y.width+=Y.labeloffset:Y.height+=Y.labeloffset)})}function D(M){e.forEach(M.edges(),function(I){var P=M.edge(I);if(P.width&&P.height){var Y=M.node(I.v),B=M.node(I.w),F={rank:(B.rank-Y.rank)/2+Y.rank,e:I};d.addDummyNode(M,"edge-proxy",F,"_ep")}})}function O(M){var I=0;e.forEach(M.nodes(),function(P){var Y=M.node(P);Y.borderTop&&(Y.minRank=M.node(Y.borderTop).rank,Y.maxRank=M.node(Y.borderBottom).rank,I=e.max(I,Y.maxRank))}),M.graph().maxRank=I}function U(M){e.forEach(M.nodes(),function(I){var P=M.node(I);P.dummy==="edge-proxy"&&(M.edge(P.e).labelRank=P.rank,M.removeNode(I))})}function b(M){var I=Number.POSITIVE_INFINITY,P=0,Y=Number.POSITIVE_INFINITY,B=0,F=M.graph(),X=F.marginx||0,j=F.marginy||0;function J(ie){var K=ie.x,se=ie.y,ye=ie.width,te=ie.height;I=Math.min(I,K-ye/2),P=Math.max(P,K+ye/2),Y=Math.min(Y,se-te/2),B=Math.max(B,se+te/2)}e.forEach(M.nodes(),function(ie){J(M.node(ie))}),e.forEach(M.edges(),function(ie){var K=M.edge(ie);e.has(K,"x")&&J(K)}),I-=X,Y-=j,e.forEach(M.nodes(),function(ie){var K=M.node(ie);K.x-=I,K.y-=Y}),e.forEach(M.edges(),function(ie){var K=M.edge(ie);e.forEach(K.points,function(se){se.x-=I,se.y-=Y}),e.has(K,"x")&&(K.x-=I),e.has(K,"y")&&(K.y-=Y)}),F.width=P-I+X,F.height=B-Y+j}function _(M){e.forEach(M.edges(),function(I){var P=M.edge(I),Y=M.node(I.v),B=M.node(I.w),F,X;P.points?(F=P.points[0],X=P.points[P.points.length-1]):(P.points=[],F=B,X=Y),P.points.unshift(d.intersectRect(Y,F)),P.points.push(d.intersectRect(B,X))})}function x(M){e.forEach(M.edges(),function(I){var P=M.edge(I);if(e.has(P,"x"))switch((P.labelpos==="l"||P.labelpos==="r")&&(P.width-=P.labeloffset),P.labelpos){case"l":P.x-=P.width/2+P.labeloffset;break;case"r":P.x+=P.width/2+P.labeloffset;break}})}function R(M){e.forEach(M.edges(),function(I){var P=M.edge(I);P.reversed&&P.points.reverse()})}function C(M){e.forEach(M.nodes(),function(I){if(M.children(I).length){var P=M.node(I),Y=M.node(P.borderTop),B=M.node(P.borderBottom),F=M.node(e.last(P.borderLeft)),X=M.node(e.last(P.borderRight));P.width=Math.abs(X.x-F.x),P.height=Math.abs(B.y-Y.y),P.x=F.x+P.width/2,P.y=Y.y+P.height/2}}),e.forEach(M.nodes(),function(I){M.node(I).dummy==="border"&&M.removeNode(I)})}function V(M){e.forEach(M.edges(),function(I){if(I.v===I.w){var P=M.node(I.v);P.selfEdges||(P.selfEdges=[]),P.selfEdges.push({e:I,label:M.edge(I)}),M.removeEdge(I)}})}function G(M){var I=d.buildLayerMatrix(M);e.forEach(I,function(P){var Y=0;e.forEach(P,function(B,F){var X=M.node(B);X.order=F+Y,e.forEach(X.selfEdges,function(j){d.addDummyNode(M,"selfedge",{width:j.label.width,height:j.label.height,rank:X.rank,order:F+ ++Y,e:j.e,label:j.label},"_se")}),delete X.selfEdges})})}function H(M){e.forEach(M.nodes(),function(I){var P=M.node(I);if(P.dummy==="selfedge"){var Y=M.node(P.e.v),B=Y.x+Y.width/2,F=Y.y,X=P.x-B,j=Y.height/2;M.setEdge(P.e,P.label),M.removeNode(I),P.label.points=[{x:B+2*X/3,y:F-j},{x:B+5*X/6,y:F-j},{x:B+X,y:F},{x:B+5*X/6,y:F+j},{x:B+2*X/3,y:F+j}],P.label.x=P.x,P.label.y=P.y}})}function $(M,I){return e.mapValues(e.pick(M,I),Number)}function k(M){var I={};return e.forEach(M,function(P,Y){I[Y.toLowerCase()]=P}),I}return Ms}var Is,Rd;function nm(){if(Rd)return Is;Rd=1;var e=De(),o=ze(),i=Je().Graph;Is={debugOrdering:u};function u(r){var n=o.buildLayerMatrix(r),a=new i({compound:!0,multigraph:!0}).setGraph({});return e.forEach(r.nodes(),function(t){a.setNode(t,{label:t}),a.setParent(t,"layer"+r.node(t).rank)}),e.forEach(r.edges(),function(t){a.setEdge(t.v,t.w,{},t.name)}),e.forEach(n,function(t,s){var f="layer"+s;a.setNode(f,{rank:"same"}),e.reduce(t,function(h,l){return a.setEdge(h,l,{style:"invis"}),l})}),a}return Is}var Ss,Ad;function am(){return Ad||(Ad=1,Ss="0.8.5"),Ss}var qs,Ld;function im(){return Ld||(Ld=1,qs={graphlib:Je(),layout:rm(),debug:nm(),util:{time:ze().time,notime:ze().notime},version:am()}),qs}var om=Yt.exports,Od;function sm(){return Od||(Od=1,(function(e,o){(function(u,r){e.exports=r(im())})(om,function(i){return(function(u){var r={};function n(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return u[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=u,n.c=r,n.d=function(a,t,s){n.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:s})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,t){if(t&1&&(a=n(a)),t&8||t&4&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),t&2&&typeof a!="string")for(var f in a)n.d(s,f,(function(h){return a[h]}).bind(null,f));return s},n.n=function(a){var t=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(t,"a",t),t},n.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},n.p="",n(n.s=0)})([(function(u,r,n){var a=n(1),t=function(f){f&&f("layout","dagre",a)};typeof cytoscape<"u"&&t(cytoscape),u.exports=t}),(function(u,r,n){function a(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(p){return typeof p}:a=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},a(d)}var t=function(c){return typeof c=="function"},s=n(2),f=n(3),h=n(4);function l(d){this.options=f({},s,d)}l.prototype.run=function(){var d=this.options,c=this,p=d.cy,g=d.eles,y=function(H,$){return t($)?$.apply(H,[H]):$},v=d.boundingBox||{x1:0,y1:0,w:p.width(),h:p.height()};v.x2===void 0&&(v.x2=v.x1+v.w),v.w===void 0&&(v.w=v.x2-v.x1),v.y2===void 0&&(v.y2=v.y1+v.h),v.h===void 0&&(v.h=v.y2-v.y1);var w=new h.graphlib.Graph({multigraph:!0,compound:!0}),m={},E=function(H,$){$!=null&&(m[H]=$)};E("nodesep",d.nodeSep),E("edgesep",d.edgeSep),E("ranksep",d.rankSep),E("rankdir",d.rankDir),E("align",d.align),E("ranker",d.ranker),E("acyclicer",d.acyclicer),w.setGraph(m),w.setDefaultEdgeLabel(function(){return{}}),w.setDefaultNodeLabel(function(){return{}});var T=g.nodes();t(d.sort)&&(T=T.sort(d.sort));for(var A=0;A<T.length;A++){var N=T[A],q=N.layoutDimensions(d);w.setNode(N.id(),{width:q.w,height:q.h,name:N.id()})}for(var S=0;S<T.length;S++){var L=T[S];L.isChild()&&w.setParent(L.id(),L.parent().id())}var D=g.edges().stdFilter(function(G){return!G.source().isParent()&&!G.target().isParent()});t(d.sort)&&(D=D.sort(d.sort));for(var O=0;O<D.length;O++){var U=D[O];w.setEdge(U.source().id(),U.target().id(),{minlen:y(U,d.minLen),weight:y(U,d.edgeWeight),name:U.id()},U.id())}h.layout(w);for(var b=w.nodes(),_=0;_<b.length;_++){var x=b[_],R=w.node(x);p.getElementById(x).scratch().dagre=R}var C;d.boundingBox?(C={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},T.forEach(function(G){var H=G.scratch().dagre;C.x1=Math.min(C.x1,H.x),C.x2=Math.max(C.x2,H.x),C.y1=Math.min(C.y1,H.y),C.y2=Math.max(C.y2,H.y)}),C.w=C.x2-C.x1,C.h=C.y2-C.y1):C=v;var V=function(H){if(d.boundingBox){var $=C.w===0?0:(H.x-C.x1)/C.w,k=C.h===0?0:(H.y-C.y1)/C.h;return{x:v.x1+$*v.w,y:v.y1+k*v.h}}else return H};return T.layoutPositions(c,d,function(G){G=a(G)==="object"?G:this;var H=G.scratch().dagre;return V({x:H.x,y:H.y})}),this},u.exports=l}),(function(u,r){var n={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(t){return 1},edgeWeight:function(t){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(t,s){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(t,s){return s},ready:function(){},sort:void 0,stop:function(){}};u.exports=n}),(function(u,r){u.exports=Object.assign!=null?Object.assign.bind(Object):function(n){for(var a=arguments.length,t=new Array(a>1?a-1:0),s=1;s<a;s++)t[s-1]=arguments[s];return t.forEach(function(f){Object.keys(f).forEach(function(h){return n[h]=f[h]})}),n}}),(function(u,r){u.exports=i})])})})(Yt)),Yt.exports}var um=sm();const fm=Gs(um);var kt={exports:{}},Bt={exports:{}},Vt={exports:{}},lm=Vt.exports,Md;function hm(){return Md||(Md=1,(function(e,o){(function(u,r){e.exports=r()})(lm,function(){return(function(i){var u={};function r(n){if(u[n])return u[n].exports;var a=u[n]={i:n,l:!1,exports:{}};return i[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=i,r.c=u,r.i=function(n){return n},r.d=function(n,a,t){r.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:t})},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=28)})([(function(i,u,r){function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,i.exports=n}),(function(i,u,r){var n=r(2),a=r(8),t=r(9);function s(h,l,d){n.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=h,this.target=l}s.prototype=Object.create(n.prototype);for(var f in n)s[f]=n[f];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(h,l){for(var d=this.getOtherEnd(h),c=l.getGraphManager().getRoot();;){if(d.getOwner()==l)return d;if(d.getOwner()==c)break;d=d.getOwner().getParent()}return null},s.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=t.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=t.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=t.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=t.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},i.exports=s}),(function(i,u,r){function n(a){this.vGraphObject=a}i.exports=n}),(function(i,u,r){var n=r(2),a=r(10),t=r(13),s=r(0),f=r(16),h=r(5);function l(c,p,g,y){g==null&&y==null&&(y=p),n.call(this,y),c.graphManager!=null&&(c=c.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=y,this.edges=[],this.graphManager=c,g!=null&&p!=null?this.rect=new t(p.x,p.y,g.width,g.height):this.rect=new t}l.prototype=Object.create(n.prototype);for(var d in n)l[d]=n[d];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(c){this.rect.width=c},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(c){this.rect.height=c},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(c,p){this.rect.x=c.x,this.rect.y=c.y,this.rect.width=p.width,this.rect.height=p.height},l.prototype.setCenter=function(c,p){this.rect.x=c-this.rect.width/2,this.rect.y=p-this.rect.height/2},l.prototype.setLocation=function(c,p){this.rect.x=c,this.rect.y=p},l.prototype.moveBy=function(c,p){this.rect.x+=c,this.rect.y+=p},l.prototype.getEdgeListToNode=function(c){var p=[],g=this;return g.edges.forEach(function(y){if(y.target==c){if(y.source!=g)throw"Incorrect edge source!";p.push(y)}}),p},l.prototype.getEdgesBetween=function(c){var p=[],g=this;return g.edges.forEach(function(y){if(!(y.source==g||y.target==g))throw"Incorrect edge source and/or target";(y.target==c||y.source==c)&&p.push(y)}),p},l.prototype.getNeighborsList=function(){var c=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)c.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";c.add(g.source)}}),c},l.prototype.withChildren=function(){var c=new Set,p,g;if(c.add(this),this.child!=null)for(var y=this.child.getNodes(),v=0;v<y.length;v++)p=y[v],g=p.withChildren(),g.forEach(function(w){c.add(w)});return c},l.prototype.getNoOfChildren=function(){var c=0,p;if(this.child==null)c=1;else for(var g=this.child.getNodes(),y=0;y<g.length;y++)p=g[y],c+=p.getNoOfChildren();return c==0&&(c=1),c},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var c,p,g=-s.INITIAL_WORLD_BOUNDARY,y=s.INITIAL_WORLD_BOUNDARY;c=s.WORLD_CENTER_X+f.nextDouble()*(y-g)+g;var v=-s.INITIAL_WORLD_BOUNDARY,w=s.INITIAL_WORLD_BOUNDARY;p=s.WORLD_CENTER_Y+f.nextDouble()*(w-v)+v,this.rect.x=c,this.rect.y=p},l.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var c=this.getChild();if(c.updateBounds(!0),this.rect.x=c.getLeft(),this.rect.y=c.getTop(),this.setWidth(c.getRight()-c.getLeft()),this.setHeight(c.getBottom()-c.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var p=c.getRight()-c.getLeft(),g=c.getBottom()-c.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(p+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>p?(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(p+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(c){var p=this.rect.x;p>s.WORLD_BOUNDARY?p=s.WORLD_BOUNDARY:p<-s.WORLD_BOUNDARY&&(p=-s.WORLD_BOUNDARY);var g=this.rect.y;g>s.WORLD_BOUNDARY?g=s.WORLD_BOUNDARY:g<-s.WORLD_BOUNDARY&&(g=-s.WORLD_BOUNDARY);var y=new h(p,g),v=c.inverseTransformPoint(y);this.setLocation(v.x,v.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},i.exports=l}),(function(i,u,r){var n=r(0);function a(){}for(var t in n)a[t]=n[t];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,i.exports=a}),(function(i,u,r){function n(a,t){a==null&&t==null?(this.x=0,this.y=0):(this.x=a,this.y=t)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(a){this.x=a},n.prototype.setY=function(a){this.y=a},n.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},i.exports=n}),(function(i,u,r){var n=r(2),a=r(10),t=r(0),s=r(7),f=r(3),h=r(1),l=r(13),d=r(12),c=r(11);function p(y,v,w){n.call(this,w),this.estimatedSize=a.MIN_VALUE,this.margin=t.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=y,v!=null&&v instanceof s?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}p.prototype=Object.create(n.prototype);for(var g in n)p[g]=n[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(y,v,w){if(v==null&&w==null){var m=y;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(m)>-1)throw"Node already in graph!";return m.owner=this,this.getNodes().push(m),m}else{var E=y;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(v.owner==w.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=w.owner?null:(E.source=v,E.target=w,E.isInterGraph=!1,this.getEdges().push(E),v.edges.push(E),w!=v&&w.edges.push(E),E)}},p.prototype.remove=function(y){var v=y;if(y instanceof f){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=v.edges.slice(),m,E=w.length,T=0;T<E;T++)m=w[T],m.isInterGraph?this.graphManager.remove(m):m.source.owner.remove(m);var A=this.nodes.indexOf(v);if(A==-1)throw"Node not in owner node list!";this.nodes.splice(A,1)}else if(y instanceof h){var m=y;if(m==null)throw"Edge is null!";if(!(m.source!=null&&m.target!=null))throw"Source and/or target is null!";if(!(m.source.owner!=null&&m.target.owner!=null&&m.source.owner==this&&m.target.owner==this))throw"Source and/or target owner is invalid!";var N=m.source.edges.indexOf(m),q=m.target.edges.indexOf(m);if(!(N>-1&&q>-1))throw"Source and/or target doesn't know this edge!";m.source.edges.splice(N,1),m.target!=m.source&&m.target.edges.splice(q,1);var A=m.source.owner.getEdges().indexOf(m);if(A==-1)throw"Not in owner's edge list!";m.source.owner.getEdges().splice(A,1)}},p.prototype.updateLeftTop=function(){for(var y=a.MAX_VALUE,v=a.MAX_VALUE,w,m,E,T=this.getNodes(),A=T.length,N=0;N<A;N++){var q=T[N];w=q.getTop(),m=q.getLeft(),y>w&&(y=w),v>m&&(v=m)}return y==a.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?E=T[0].getParent().paddingLeft:E=this.margin,this.left=v-E,this.top=y-E,new d(this.left,this.top))},p.prototype.updateBounds=function(y){for(var v=a.MAX_VALUE,w=-a.MAX_VALUE,m=a.MAX_VALUE,E=-a.MAX_VALUE,T,A,N,q,S,L=this.nodes,D=L.length,O=0;O<D;O++){var U=L[O];y&&U.child!=null&&U.updateBounds(),T=U.getLeft(),A=U.getRight(),N=U.getTop(),q=U.getBottom(),v>T&&(v=T),w<A&&(w=A),m>N&&(m=N),E<q&&(E=q)}var b=new l(v,m,w-v,E-m);v==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),L[0].getParent().paddingLeft!=null?S=L[0].getParent().paddingLeft:S=this.margin,this.left=b.x-S,this.right=b.x+b.width+S,this.top=b.y-S,this.bottom=b.y+b.height+S},p.calculateBounds=function(y){for(var v=a.MAX_VALUE,w=-a.MAX_VALUE,m=a.MAX_VALUE,E=-a.MAX_VALUE,T,A,N,q,S=y.length,L=0;L<S;L++){var D=y[L];T=D.getLeft(),A=D.getRight(),N=D.getTop(),q=D.getBottom(),v>T&&(v=T),w<A&&(w=A),m>N&&(m=N),E<q&&(E=q)}var O=new l(v,m,w-v,E-m);return O},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var y=0,v=this.nodes,w=v.length,m=0;m<w;m++){var E=v[m];y+=E.calcEstimatedSize()}return y==0?this.estimatedSize=t.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=y/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var y=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new c,w=new Set,m=this.nodes[0],E,T,A=m.withChildren();for(A.forEach(function(O){v.push(O),w.add(O)});v.length!==0;){m=v.shift(),E=m.getEdges();for(var N=E.length,q=0;q<N;q++){var S=E[q];if(T=S.getOtherEndInGraph(m,this),T!=null&&!w.has(T)){var L=T.withChildren();L.forEach(function(O){v.push(O),w.add(O)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var D=0;w.forEach(function(O){O.owner==y&&D++}),D==this.nodes.length&&(this.isConnected=!0)}},i.exports=p}),(function(i,u,r){var n,a=r(1);function t(s){n=r(6),this.layout=s,this.graphs=[],this.edges=[]}t.prototype.addRoot=function(){var s=this.layout.newGraph(),f=this.layout.newNode(null),h=this.add(s,f);return this.setRootGraph(h),this.rootGraph},t.prototype.add=function(s,f,h,l,d){if(h==null&&l==null&&d==null){if(s==null)throw"Graph is null!";if(f==null)throw"Parent node is null!";if(this.graphs.indexOf(s)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(s),s.parent!=null)throw"Already has a parent!";if(f.child!=null)throw"Already has a child!";return s.parent=f,f.child=s,s}else{d=h,l=f,h=s;var c=l.getOwner(),p=d.getOwner();if(!(c!=null&&c.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(c==p)return h.isInterGraph=!1,c.add(h,l,d);if(h.isInterGraph=!0,h.source=l,h.target=d,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},t.prototype.remove=function(s){if(s instanceof n){var f=s;if(f.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(f==this.rootGraph||f.parent!=null&&f.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(f.getEdges());for(var l,d=h.length,c=0;c<d;c++)l=h[c],f.remove(l);var p=[];p=p.concat(f.getNodes());var g;d=p.length;for(var c=0;c<d;c++)g=p[c],f.remove(g);f==this.rootGraph&&this.setRootGraph(null);var y=this.graphs.indexOf(f);this.graphs.splice(y,1),f.parent=null}else if(s instanceof a){if(l=s,l==null)throw"Edge is null!";if(!l.isInterGraph)throw"Not an inter-graph edge!";if(!(l.source!=null&&l.target!=null))throw"Source and/or target is null!";if(!(l.source.edges.indexOf(l)!=-1&&l.target.edges.indexOf(l)!=-1))throw"Source and/or target doesn't know this edge!";var y=l.source.edges.indexOf(l);if(l.source.edges.splice(y,1),y=l.target.edges.indexOf(l),l.target.edges.splice(y,1),!(l.source.owner!=null&&l.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(l.source.owner.getGraphManager().edges.indexOf(l)==-1)throw"Not in owner graph manager's edge list!";var y=l.source.owner.getGraphManager().edges.indexOf(l);l.source.owner.getGraphManager().edges.splice(y,1)}},t.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},t.prototype.getGraphs=function(){return this.graphs},t.prototype.getAllNodes=function(){if(this.allNodes==null){for(var s=[],f=this.getGraphs(),h=f.length,l=0;l<h;l++)s=s.concat(f[l].getNodes());this.allNodes=s}return this.allNodes},t.prototype.resetAllNodes=function(){this.allNodes=null},t.prototype.resetAllEdges=function(){this.allEdges=null},t.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},t.prototype.getAllEdges=function(){if(this.allEdges==null){var s=[],f=this.getGraphs();f.length;for(var h=0;h<f.length;h++)s=s.concat(f[h].getEdges());s=s.concat(this.edges),this.allEdges=s}return this.allEdges},t.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},t.prototype.setAllNodesToApplyGravitation=function(s){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=s},t.prototype.getRoot=function(){return this.rootGraph},t.prototype.setRootGraph=function(s){if(s.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=s,s.parent==null&&(s.parent=this.layout.newNode("Root node"))},t.prototype.getLayout=function(){return this.layout},t.prototype.isOneAncestorOfOther=function(s,f){if(!(s!=null&&f!=null))throw"assert failed";if(s==f)return!0;var h=s.getOwner(),l;do{if(l=h.getParent(),l==null)break;if(l==f)return!0;if(h=l.getOwner(),h==null)break}while(!0);h=f.getOwner();do{if(l=h.getParent(),l==null)break;if(l==s)return!0;if(h=l.getOwner(),h==null)break}while(!0);return!1},t.prototype.calcLowestCommonAncestors=function(){for(var s,f,h,l,d,c=this.getAllEdges(),p=c.length,g=0;g<p;g++){if(s=c[g],f=s.source,h=s.target,s.lca=null,s.sourceInLca=f,s.targetInLca=h,f==h){s.lca=f.getOwner();continue}for(l=f.getOwner();s.lca==null;){for(s.targetInLca=h,d=h.getOwner();s.lca==null;){if(d==l){s.lca=d;break}if(d==this.rootGraph)break;if(s.lca!=null)throw"assert failed";s.targetInLca=d.getParent(),d=s.targetInLca.getOwner()}if(l==this.rootGraph)break;s.lca==null&&(s.sourceInLca=l.getParent(),l=s.sourceInLca.getOwner())}if(s.lca==null)throw"assert failed"}},t.prototype.calcLowestCommonAncestor=function(s,f){if(s==f)return s.getOwner();var h=s.getOwner();do{if(h==null)break;var l=f.getOwner();do{if(l==null)break;if(l==h)return l;l=l.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},t.prototype.calcInclusionTreeDepths=function(s,f){s==null&&f==null&&(s=this.rootGraph,f=1);for(var h,l=s.getNodes(),d=l.length,c=0;c<d;c++)h=l[c],h.inclusionTreeDepth=f,h.child!=null&&this.calcInclusionTreeDepths(h.child,f+1)},t.prototype.includesInvalidEdge=function(){for(var s,f=[],h=this.edges.length,l=0;l<h;l++)s=this.edges[l],this.isOneAncestorOfOther(s.source,s.target)&&f.push(s);for(var l=0;l<f.length;l++)this.remove(f[l]);return!1},i.exports=t}),(function(i,u,r){var n=r(12);function a(){}a.calcSeparationAmount=function(t,s,f,h){if(!t.intersects(s))throw"assert failed";var l=new Array(2);this.decideDirectionsForOverlappingNodes(t,s,l),f[0]=Math.min(t.getRight(),s.getRight())-Math.max(t.x,s.x),f[1]=Math.min(t.getBottom(),s.getBottom())-Math.max(t.y,s.y),t.getX()<=s.getX()&&t.getRight()>=s.getRight()?f[0]+=Math.min(s.getX()-t.getX(),t.getRight()-s.getRight()):s.getX()<=t.getX()&&s.getRight()>=t.getRight()&&(f[0]+=Math.min(t.getX()-s.getX(),s.getRight()-t.getRight())),t.getY()<=s.getY()&&t.getBottom()>=s.getBottom()?f[1]+=Math.min(s.getY()-t.getY(),t.getBottom()-s.getBottom()):s.getY()<=t.getY()&&s.getBottom()>=t.getBottom()&&(f[1]+=Math.min(t.getY()-s.getY(),s.getBottom()-t.getBottom()));var d=Math.abs((s.getCenterY()-t.getCenterY())/(s.getCenterX()-t.getCenterX()));s.getCenterY()===t.getCenterY()&&s.getCenterX()===t.getCenterX()&&(d=1);var c=d*f[0],p=f[1]/d;f[0]<p?p=f[0]:c=f[1],f[0]=-1*l[0]*(p/2+h),f[1]=-1*l[1]*(c/2+h)},a.decideDirectionsForOverlappingNodes=function(t,s,f){t.getCenterX()<s.getCenterX()?f[0]=-1:f[0]=1,t.getCenterY()<s.getCenterY()?f[1]=-1:f[1]=1},a.getIntersection2=function(t,s,f){var h=t.getCenterX(),l=t.getCenterY(),d=s.getCenterX(),c=s.getCenterY();if(t.intersects(s))return f[0]=h,f[1]=l,f[2]=d,f[3]=c,!0;var p=t.getX(),g=t.getY(),y=t.getRight(),v=t.getX(),w=t.getBottom(),m=t.getRight(),E=t.getWidthHalf(),T=t.getHeightHalf(),A=s.getX(),N=s.getY(),q=s.getRight(),S=s.getX(),L=s.getBottom(),D=s.getRight(),O=s.getWidthHalf(),U=s.getHeightHalf(),b=!1,_=!1;if(h===d){if(l>c)return f[0]=h,f[1]=g,f[2]=d,f[3]=L,!1;if(l<c)return f[0]=h,f[1]=w,f[2]=d,f[3]=N,!1}else if(l===c){if(h>d)return f[0]=p,f[1]=l,f[2]=q,f[3]=c,!1;if(h<d)return f[0]=y,f[1]=l,f[2]=A,f[3]=c,!1}else{var x=t.height/t.width,R=s.height/s.width,C=(c-l)/(d-h),V=void 0,G=void 0,H=void 0,$=void 0,k=void 0,M=void 0;if(-x===C?h>d?(f[0]=v,f[1]=w,b=!0):(f[0]=y,f[1]=g,b=!0):x===C&&(h>d?(f[0]=p,f[1]=g,b=!0):(f[0]=m,f[1]=w,b=!0)),-R===C?d>h?(f[2]=S,f[3]=L,_=!0):(f[2]=q,f[3]=N,_=!0):R===C&&(d>h?(f[2]=A,f[3]=N,_=!0):(f[2]=D,f[3]=L,_=!0)),b&&_)return!1;if(h>d?l>c?(V=this.getCardinalDirection(x,C,4),G=this.getCardinalDirection(R,C,2)):(V=this.getCardinalDirection(-x,C,3),G=this.getCardinalDirection(-R,C,1)):l>c?(V=this.getCardinalDirection(-x,C,1),G=this.getCardinalDirection(-R,C,3)):(V=this.getCardinalDirection(x,C,2),G=this.getCardinalDirection(R,C,4)),!b)switch(V){case 1:$=g,H=h+-T/C,f[0]=H,f[1]=$;break;case 2:H=m,$=l+E*C,f[0]=H,f[1]=$;break;case 3:$=w,H=h+T/C,f[0]=H,f[1]=$;break;case 4:H=v,$=l+-E*C,f[0]=H,f[1]=$;break}if(!_)switch(G){case 1:M=N,k=d+-U/C,f[2]=k,f[3]=M;break;case 2:k=D,M=c+O*C,f[2]=k,f[3]=M;break;case 3:M=L,k=d+U/C,f[2]=k,f[3]=M;break;case 4:k=S,M=c+-O*C,f[2]=k,f[3]=M;break}}return!1},a.getCardinalDirection=function(t,s,f){return t>s?f:1+f%4},a.getIntersection=function(t,s,f,h){if(h==null)return this.getIntersection2(t,s,f);var l=t.x,d=t.y,c=s.x,p=s.y,g=f.x,y=f.y,v=h.x,w=h.y,m=void 0,E=void 0,T=void 0,A=void 0,N=void 0,q=void 0,S=void 0,L=void 0,D=void 0;return T=p-d,N=l-c,S=c*d-l*p,A=w-y,q=g-v,L=v*y-g*w,D=T*q-A*N,D===0?null:(m=(N*L-q*S)/D,E=(A*S-T*L)/D,new n(m,E))},a.angleOfVector=function(t,s,f,h){var l=void 0;return t!==f?(l=Math.atan((h-s)/(f-t)),f<t?l+=Math.PI:h<s&&(l+=this.TWO_PI)):h<s?l=this.ONE_AND_HALF_PI:l=this.HALF_PI,l},a.doIntersect=function(t,s,f,h){var l=t.x,d=t.y,c=s.x,p=s.y,g=f.x,y=f.y,v=h.x,w=h.y,m=(c-l)*(w-y)-(v-g)*(p-d);if(m===0)return!1;var E=((w-y)*(v-l)+(g-v)*(w-d))/m,T=((d-p)*(v-l)+(c-l)*(w-d))/m;return 0<E&&E<1&&0<T&&T<1},a.findCircleLineIntersections=function(t,s,f,h,l,d,c){var p=(f-t)*(f-t)+(h-s)*(h-s),g=2*((t-l)*(f-t)+(s-d)*(h-s)),y=(t-l)*(t-l)+(s-d)*(s-d)-c*c,v=g*g-4*p*y;if(v>=0){var w=(-g+Math.sqrt(g*g-4*p*y))/(2*p),m=(-g-Math.sqrt(g*g-4*p*y))/(2*p),E=null;return w>=0&&w<=1?[w]:m>=0&&m<=1?[m]:E}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,i.exports=a}),(function(i,u,r){function n(){}n.sign=function(a){return a>0?1:a<0?-1:0},n.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},n.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},i.exports=n}),(function(i,u,r){function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,i.exports=n}),(function(i,u,r){var n=(function(){function l(d,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,p){return c&&l(d.prototype,c),p&&l(d,p),d}})();function a(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var t=function(d){return{value:d,next:null,prev:null}},s=function(d,c,p,g){return d!==null?d.next=c:g.head=c,p!==null?p.prev=c:g.tail=c,c.prev=d,c.next=p,g.length++,c},f=function(d,c){var p=d.prev,g=d.next;return p!==null?p.next=g:c.head=g,g!==null?g.prev=p:c.tail=p,d.prev=d.next=null,c.length--,d},h=(function(){function l(d){var c=this;a(this,l),this.length=0,this.head=null,this.tail=null,d?.forEach(function(p){return c.push(p)})}return n(l,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(c,p){return s(p.prev,t(c),p,this)}},{key:"insertAfter",value:function(c,p){return s(p,t(c),p.next,this)}},{key:"insertNodeBefore",value:function(c,p){return s(p.prev,c,p,this)}},{key:"insertNodeAfter",value:function(c,p){return s(p,c,p.next,this)}},{key:"push",value:function(c){return s(this.tail,t(c),null,this)}},{key:"unshift",value:function(c){return s(null,t(c),this.head,this)}},{key:"remove",value:function(c){return f(c,this)}},{key:"pop",value:function(){return f(this.tail,this).value}},{key:"popNode",value:function(){return f(this.tail,this)}},{key:"shift",value:function(){return f(this.head,this).value}},{key:"shiftNode",value:function(){return f(this.head,this)}},{key:"get_object_at",value:function(c){if(c<=this.length()){for(var p=1,g=this.head;p<c;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(c,p){if(c<=this.length()){for(var g=1,y=this.head;g<c;)y=y.next,g++;y.value=p}}}]),l})();i.exports=h}),(function(i,u,r){function n(a,t,s){this.x=null,this.y=null,a==null&&t==null&&s==null?(this.x=0,this.y=0):typeof a=="number"&&typeof t=="number"&&s==null?(this.x=a,this.y=t):a.constructor.name=="Point"&&t==null&&s==null&&(s=a,this.x=s.x,this.y=s.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(a,t,s){a.constructor.name=="Point"&&t==null&&s==null?(s=a,this.setLocation(s.x,s.y)):typeof a=="number"&&typeof t=="number"&&s==null&&(parseInt(a)==a&&parseInt(t)==t?this.move(a,t):(this.x=Math.floor(a+.5),this.y=Math.floor(t+.5)))},n.prototype.move=function(a,t){this.x=a,this.y=t},n.prototype.translate=function(a,t){this.x+=a,this.y+=t},n.prototype.equals=function(a){if(a.constructor.name=="Point"){var t=a;return this.x==t.x&&this.y==t.y}return this==a},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},i.exports=n}),(function(i,u,r){function n(a,t,s,f){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&t!=null&&s!=null&&f!=null&&(this.x=a,this.y=t,this.width=s,this.height=f)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(a){this.x=a},n.prototype.getY=function(){return this.y},n.prototype.setY=function(a){this.y=a},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},i.exports=n}),(function(i,u,r){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(){}a.lastID=0,a.createID=function(t){return a.isPrimitive(t)?t:(t.uniqueID!=null||(t.uniqueID=a.getString(),a.lastID++),t.uniqueID)},a.getString=function(t){return t==null&&(t=a.lastID),"Object#"+t},a.isPrimitive=function(t){var s=typeof t>"u"?"undefined":n(t);return t==null||s!="object"&&s!="function"},i.exports=a}),(function(i,u,r){function n(g){if(Array.isArray(g)){for(var y=0,v=Array(g.length);y<g.length;y++)v[y]=g[y];return v}else return Array.from(g)}var a=r(0),t=r(7),s=r(3),f=r(1),h=r(6),l=r(5),d=r(17),c=r(29);function p(g){c.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new t(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(c.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new t(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new h(null,this.graphManager,g)},p.prototype.newNode=function(g){return new s(this.graphManager,g)},p.prototype.newEdge=function(g){return new f(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),y=0;y<g.length;y++)g[y];for(var v=this.graphManager.getRoot().getNodes(),y=0;y<v.length;y++)v[y];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof s){var y=g;if(y.getChild()!=null)for(var v=y.getChild().getNodes(),w=0;w<v.length;w++)update(v[w]);if(y.vGraphObject!=null){var m=y.vGraphObject;m.update(y)}}else if(g instanceof f){var E=g;if(E.vGraphObject!=null){var T=E.vGraphObject;T.update(E)}}else if(g instanceof h){var A=g;if(A.vGraphObject!=null){var N=A.vGraphObject;N.update(A)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new l(0,0));else{var y=new d,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){y.setWorldOrgX(g.x),y.setWorldOrgY(g.y),y.setDeviceOrgX(v.x),y.setDeviceOrgY(v.y);for(var w=this.getAllNodes(),m,E=0;E<w.length;E++)m=w[E],m.transform(y)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var y,v,w=g.getNodes(),m=0;m<w.length;m++)y=w[m],v=y.getChild(),v==null||v.getNodes().length==0?y.scatter():(this.positionNodesRandomly(v),y.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],y=!0,v=this.graphManager.getRoot().getNodes(),w=!0,m=0;m<v.length;m++)v[m].getChild()!=null&&(w=!1);if(!w)return g;var E=new Set,T=[],A=new Map,N=[];for(N=N.concat(v);N.length>0&&y;){for(T.push(N[0]);T.length>0&&y;){var q=T[0];T.splice(0,1),E.add(q);for(var S=q.getEdges(),m=0;m<S.length;m++){var L=S[m].getOtherEnd(q);if(A.get(q)!=L)if(!E.has(L))T.push(L),A.set(L,q);else{y=!1;break}}}if(!y)g=[];else{var D=[].concat(n(E));g.push(D);for(var m=0;m<D.length;m++){var O=D[m],U=N.indexOf(O);U>-1&&N.splice(U,1)}E=new Set,A=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var y=[],v=g.source,w=this.graphManager.calcLowestCommonAncestor(g.source,g.target),m=0;m<g.bendpoints.length;m++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),w.add(E);var T=this.newEdge(null);this.graphManager.add(T,v,E),y.add(E),v=E}var T=this.newEdge(null);return this.graphManager.add(T,v,g.target),this.edgeToDummyNodes.set(g,y),g.isInterGraph()?this.graphManager.remove(g):w.remove(g),y},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(n(this.edgeToDummyNodes.keys())).concat(g);for(var y=0;y<g.length;y++){var v=g[y];if(v.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(v),m=0;m<w.length;m++){var E=w[m],T=new l(E.getCenterX(),E.getCenterY()),A=v.bendpoints.get(m);A.x=T.x,A.y=T.y,E.getOwner().remove(E)}this.graphManager.add(v,v.source,v.target)}}},p.transform=function(g,y,v,w){if(v!=null&&w!=null){var m=y;if(g<=50){var E=y/v;m-=(y-E)/50*(50-g)}else{var T=y*w;m+=(T-y)/50*(g-50)}return m}else{var A,N;return g<=50?(A=9*y/500,N=y/10):(A=9*y/50,N=-8*y),A*g+N}},p.findCenterOfTree=function(g){var y=[];y=y.concat(g);var v=[],w=new Map,m=!1,E=null;(y.length==1||y.length==2)&&(m=!0,E=y[0]);for(var T=0;T<y.length;T++){var A=y[T],N=A.getNeighborsList().size;w.set(A,A.getNeighborsList().size),N==1&&v.push(A)}var q=[];for(q=q.concat(v);!m;){var S=[];S=S.concat(q),q=[];for(var T=0;T<y.length;T++){var A=y[T],L=y.indexOf(A);L>=0&&y.splice(L,1);var D=A.getNeighborsList();D.forEach(function(b){if(v.indexOf(b)<0){var _=w.get(b),x=_-1;x==1&&q.push(b),w.set(b,x)}})}v=v.concat(q),(y.length==1||y.length==2)&&(m=!0,E=y[0])}return E},p.prototype.setGraphManager=function(g){this.graphManager=g},i.exports=p}),(function(i,u,r){function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},i.exports=n}),(function(i,u,r){var n=r(5);function a(t,s){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(t){this.lworldExtX=t},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(t){this.lworldExtY=t},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},a.prototype.transformX=function(t){var s=0,f=this.lworldExtX;return f!=0&&(s=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/f),s},a.prototype.transformY=function(t){var s=0,f=this.lworldExtY;return f!=0&&(s=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/f),s},a.prototype.inverseTransformX=function(t){var s=0,f=this.ldeviceExtX;return f!=0&&(s=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/f),s},a.prototype.inverseTransformY=function(t){var s=0,f=this.ldeviceExtY;return f!=0&&(s=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/f),s},a.prototype.inverseTransformPoint=function(t){var s=new n(this.inverseTransformX(t.x),this.inverseTransformY(t.y));return s},i.exports=a}),(function(i,u,r){function n(c){if(Array.isArray(c)){for(var p=0,g=Array(c.length);p<c.length;p++)g[p]=c[p];return g}else return Array.from(c)}var a=r(15),t=r(4),s=r(0),f=r(8),h=r(9);function l(){a.call(this),this.useSmartIdealEdgeLengthCalculation=t.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=t.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=t.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=t.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=t.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*t.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=t.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=t.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=t.MAX_ITERATIONS}l.prototype=Object.create(a.prototype);for(var d in a)l[d]=a[d];l.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=t.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var c,p,g,y,v,w,m,E=this.getGraphManager().getAllEdges(),T=0;T<E.length;T++)c=E[T],p=c.idealLength,c.isInterGraph&&(y=c.getSource(),v=c.getTarget(),w=c.getSourceInLca().getEstimatedSize(),m=c.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(c.idealLength+=w+m-2*s.SIMPLE_NODE_SIZE),g=c.getLca().getInclusionTreeDepth(),c.idealLength+=p*t.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*g))},l.prototype.initSpringEmbedder=function(){var c=this.getAllNodes().length;this.incremental?(c>t.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*t.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(c-t.ADAPTATION_LOWER_NODE_LIMIT)/(t.ADAPTATION_UPPER_NODE_LIMIT-t.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-t.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=t.MAX_NODE_DISPLACEMENT_INCREMENTAL):(c>t.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(t.COOLING_ADAPTATION_FACTOR,1-(c-t.ADAPTATION_LOWER_NODE_LIMIT)/(t.ADAPTATION_UPPER_NODE_LIMIT-t.ADAPTATION_LOWER_NODE_LIMIT)*(1-t.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=t.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*t.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var c=this.getAllEdges(),p,g=0;g<c.length;g++)p=c[g],this.calcSpringForce(p,p.idealLength)},l.prototype.calcRepulsionForces=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,y,v,w,m=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%t.GRID_CALCULATION_CHECK_PERIOD==1&&c&&this.updateGrid(),E=new Set,g=0;g<m.length;g++)v=m[g],this.calculateRepulsionForceOfANode(v,E,c,p),E.add(v);else for(g=0;g<m.length;g++)for(v=m[g],y=g+1;y<m.length;y++)w=m[y],v.getOwner()==w.getOwner()&&this.calcRepulsionForce(v,w)},l.prototype.calcGravitationalForces=function(){for(var c,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)c=p[g],this.calcGravitationalForce(c)},l.prototype.moveNodes=function(){for(var c=this.getAllNodes(),p,g=0;g<c.length;g++)p=c[g],p.move()},l.prototype.calcSpringForce=function(c,p){var g=c.getSource(),y=c.getTarget(),v,w,m,E;if(this.uniformLeafNodeSizes&&g.getChild()==null&&y.getChild()==null)c.updateLengthSimple();else if(c.updateLength(),c.isOverlapingSourceAndTarget)return;v=c.getLength(),v!=0&&(w=c.edgeElasticity*(v-p),m=w*(c.lengthX/v),E=w*(c.lengthY/v),g.springForceX+=m,g.springForceY+=E,y.springForceX-=m,y.springForceY-=E)},l.prototype.calcRepulsionForce=function(c,p){var g=c.getRect(),y=p.getRect(),v=new Array(2),w=new Array(4),m,E,T,A,N,q,S;if(g.intersects(y)){f.calcSeparationAmount(g,y,v,t.DEFAULT_EDGE_LENGTH/2),q=2*v[0],S=2*v[1];var L=c.noOfChildren*p.noOfChildren/(c.noOfChildren+p.noOfChildren);c.repulsionForceX-=L*q,c.repulsionForceY-=L*S,p.repulsionForceX+=L*q,p.repulsionForceY+=L*S}else this.uniformLeafNodeSizes&&c.getChild()==null&&p.getChild()==null?(m=y.getCenterX()-g.getCenterX(),E=y.getCenterY()-g.getCenterY()):(f.getIntersection(g,y,w),m=w[2]-w[0],E=w[3]-w[1]),Math.abs(m)<t.MIN_REPULSION_DIST&&(m=h.sign(m)*t.MIN_REPULSION_DIST),Math.abs(E)<t.MIN_REPULSION_DIST&&(E=h.sign(E)*t.MIN_REPULSION_DIST),T=m*m+E*E,A=Math.sqrt(T),N=(c.nodeRepulsion/2+p.nodeRepulsion/2)*c.noOfChildren*p.noOfChildren/T,q=N*m/A,S=N*E/A,c.repulsionForceX-=q,c.repulsionForceY-=S,p.repulsionForceX+=q,p.repulsionForceY+=S},l.prototype.calcGravitationalForce=function(c){var p,g,y,v,w,m,E,T;p=c.getOwner(),g=(p.getRight()+p.getLeft())/2,y=(p.getTop()+p.getBottom())/2,v=c.getCenterX()-g,w=c.getCenterY()-y,m=Math.abs(v)+c.getWidth()/2,E=Math.abs(w)+c.getHeight()/2,c.getOwner()==this.graphManager.getRoot()?(T=p.getEstimatedSize()*this.gravityRangeFactor,(m>T||E>T)&&(c.gravitationForceX=-this.gravityConstant*v,c.gravitationForceY=-this.gravityConstant*w)):(T=p.getEstimatedSize()*this.compoundGravityRangeFactor,(m>T||E>T)&&(c.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,c.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},l.prototype.isConverged=function(){var c,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),c=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,c||p},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var c,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)c=p[g],c.noOfChildren=c.getNoOfChildren()},l.prototype.calcGrid=function(c){var p=0,g=0;p=parseInt(Math.ceil((c.getRight()-c.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((c.getBottom()-c.getTop())/this.repulsionRange));for(var y=new Array(p),v=0;v<p;v++)y[v]=new Array(g);for(var v=0;v<p;v++)for(var w=0;w<g;w++)y[v][w]=new Array;return y},l.prototype.addNodeToGrid=function(c,p,g){var y=0,v=0,w=0,m=0;y=parseInt(Math.floor((c.getRect().x-p)/this.repulsionRange)),v=parseInt(Math.floor((c.getRect().width+c.getRect().x-p)/this.repulsionRange)),w=parseInt(Math.floor((c.getRect().y-g)/this.repulsionRange)),m=parseInt(Math.floor((c.getRect().height+c.getRect().y-g)/this.repulsionRange));for(var E=y;E<=v;E++)for(var T=w;T<=m;T++)this.grid[E][T].push(c),c.setGridCoordinates(y,v,w,m)},l.prototype.updateGrid=function(){var c,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),c=0;c<g.length;c++)p=g[c],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(c,p,g,y){if(this.totalIterations%t.GRID_CALCULATION_CHECK_PERIOD==1&&g||y){var v=new Set;c.surrounding=new Array;for(var w,m=this.grid,E=c.startX-1;E<c.finishX+2;E++)for(var T=c.startY-1;T<c.finishY+2;T++)if(!(E<0||T<0||E>=m.length||T>=m[0].length)){for(var A=0;A<m[E][T].length;A++)if(w=m[E][T][A],!(c.getOwner()!=w.getOwner()||c==w)&&!p.has(w)&&!v.has(w)){var N=Math.abs(c.getCenterX()-w.getCenterX())-(c.getWidth()/2+w.getWidth()/2),q=Math.abs(c.getCenterY()-w.getCenterY())-(c.getHeight()/2+w.getHeight()/2);N<=this.repulsionRange&&q<=this.repulsionRange&&v.add(w)}}c.surrounding=[].concat(n(v))}for(E=0;E<c.surrounding.length;E++)this.calcRepulsionForce(c,c.surrounding[E])},l.prototype.calcRepulsionRange=function(){return 0},i.exports=l}),(function(i,u,r){var n=r(1),a=r(4);function t(f,h,l){n.call(this,f,h,l),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}t.prototype=Object.create(n.prototype);for(var s in n)t[s]=n[s];i.exports=t}),(function(i,u,r){var n=r(3),a=r(4);function t(f,h,l,d){n.call(this,f,h,l,d),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}t.prototype=Object.create(n.prototype);for(var s in n)t[s]=n[s];t.prototype.setGridCoordinates=function(f,h,l,d){this.startX=f,this.finishX=h,this.startY=l,this.finishY=d},i.exports=t}),(function(i,u,r){function n(a,t){this.width=0,this.height=0,a!==null&&t!==null&&(this.height=t,this.width=a)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},i.exports=n}),(function(i,u,r){var n=r(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(t,s){var f=n.createID(t);this.contains(f)||(this.map[f]=s,this.keys.push(t))},a.prototype.contains=function(t){return n.createID(t),this.map[t]!=null},a.prototype.get=function(t){var s=n.createID(t);return this.map[s]},a.prototype.keySet=function(){return this.keys},i.exports=a}),(function(i,u,r){var n=r(14);function a(){this.set={}}a.prototype.add=function(t){var s=n.createID(t);this.contains(s)||(this.set[s]=t)},a.prototype.remove=function(t){delete this.set[n.createID(t)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(t){return this.set[n.createID(t)]==t},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(t){for(var s=Object.keys(this.set),f=s.length,h=0;h<f;h++)t.push(this.set[s[h]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(t){for(var s=t.length,f=0;f<s;f++){var h=t[f];this.add(h)}},i.exports=a}),(function(i,u,r){function n(){}n.multMat=function(a,t){for(var s=[],f=0;f<a.length;f++){s[f]=[];for(var h=0;h<t[0].length;h++){s[f][h]=0;for(var l=0;l<a[0].length;l++)s[f][h]+=a[f][l]*t[l][h]}}return s},n.transpose=function(a){for(var t=[],s=0;s<a[0].length;s++){t[s]=[];for(var f=0;f<a.length;f++)t[s][f]=a[f][s]}return t},n.multCons=function(a,t){for(var s=[],f=0;f<a.length;f++)s[f]=a[f]*t;return s},n.minusOp=function(a,t){for(var s=[],f=0;f<a.length;f++)s[f]=a[f]-t[f];return s},n.dotProduct=function(a,t){for(var s=0,f=0;f<a.length;f++)s+=a[f]*t[f];return s},n.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},n.normalize=function(a){for(var t=[],s=this.mag(a),f=0;f<a.length;f++)t[f]=a[f]/s;return t},n.multGamma=function(a){for(var t=[],s=0,f=0;f<a.length;f++)s+=a[f];s*=-1/a.length;for(var h=0;h<a.length;h++)t[h]=s+a[h];return t},n.multL=function(a,t,s){for(var f=[],h=[],l=[],d=0;d<t[0].length;d++){for(var c=0,p=0;p<t.length;p++)c+=-.5*t[p][d]*a[p];h[d]=c}for(var g=0;g<s.length;g++){for(var y=0,v=0;v<s.length;v++)y+=s[g][v]*h[v];l[g]=y}for(var w=0;w<t.length;w++){for(var m=0,E=0;E<t[0].length;E++)m+=t[w][E]*l[E];f[w]=m}return f},i.exports=n}),(function(i,u,r){var n=(function(){function f(h,l){for(var d=0;d<l.length;d++){var c=l[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(h,l,d){return l&&f(h.prototype,l),d&&f(h,d),h}})();function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var t=r(11),s=(function(){function f(h,l){a(this,f),(l!==null||l!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;h instanceof t?d=h.size():d=h.length,this._quicksort(h,0,d-1)}return n(f,[{key:"_quicksort",value:function(l,d,c){if(d<c){var p=this._partition(l,d,c);this._quicksort(l,d,p),this._quicksort(l,p+1,c)}}},{key:"_partition",value:function(l,d,c){for(var p=this._get(l,d),g=d,y=c;;){for(;this.compareFunction(p,this._get(l,y));)y--;for(;this.compareFunction(this._get(l,g),p);)g++;if(g<y)this._swap(l,g,y),g++,y--;else return y}}},{key:"_get",value:function(l,d){return l instanceof t?l.get_object_at(d):l[d]}},{key:"_set",value:function(l,d,c){l instanceof t?l.set_object_at(d,c):l[d]=c}},{key:"_swap",value:function(l,d,c){var p=this._get(l,d);this._set(l,d,this._get(l,c)),this._set(l,c,p)}},{key:"_defaultCompareFunction",value:function(l,d){return d>l}}]),f})();i.exports=s}),(function(i,u,r){function n(){}n.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var t=Math.min(this.m,this.n);this.s=(function(Ce){for(var Ne=[];Ce-- >0;)Ne.push(0);return Ne})(Math.min(this.m+1,this.n)),this.U=(function(Ce){var Ne=function je(ke){if(ke.length==0)return 0;for(var $e=[],Fe=0;Fe<ke[0];Fe++)$e.push(je(ke.slice(1)));return $e};return Ne(Ce)})([this.m,t]),this.V=(function(Ce){var Ne=function je(ke){if(ke.length==0)return 0;for(var $e=[],Fe=0;Fe<ke[0];Fe++)$e.push(je(ke.slice(1)));return $e};return Ne(Ce)})([this.n,this.n]);for(var s=(function(Ce){for(var Ne=[];Ce-- >0;)Ne.push(0);return Ne})(this.n),f=(function(Ce){for(var Ne=[];Ce-- >0;)Ne.push(0);return Ne})(this.m),h=!0,l=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),c=0;c<Math.max(l,d);c++){if(c<l){this.s[c]=0;for(var p=c;p<this.m;p++)this.s[c]=n.hypot(this.s[c],a[p][c]);if(this.s[c]!==0){a[c][c]<0&&(this.s[c]=-this.s[c]);for(var g=c;g<this.m;g++)a[g][c]/=this.s[c];a[c][c]+=1}this.s[c]=-this.s[c]}for(var y=c+1;y<this.n;y++){if((function(Ce,Ne){return Ce&&Ne})(c<l,this.s[c]!==0)){for(var v=0,w=c;w<this.m;w++)v+=a[w][c]*a[w][y];v=-v/a[c][c];for(var m=c;m<this.m;m++)a[m][y]+=v*a[m][c]}s[y]=a[c][y]}if((function(Ce,Ne){return Ne})(h,c<l))for(var E=c;E<this.m;E++)this.U[E][c]=a[E][c];if(c<d){s[c]=0;for(var T=c+1;T<this.n;T++)s[c]=n.hypot(s[c],s[T]);if(s[c]!==0){s[c+1]<0&&(s[c]=-s[c]);for(var A=c+1;A<this.n;A++)s[A]/=s[c];s[c+1]+=1}if(s[c]=-s[c],(function(Ce,Ne){return Ce&&Ne})(c+1<this.m,s[c]!==0)){for(var N=c+1;N<this.m;N++)f[N]=0;for(var q=c+1;q<this.n;q++)for(var S=c+1;S<this.m;S++)f[S]+=s[q]*a[S][q];for(var L=c+1;L<this.n;L++)for(var D=-s[L]/s[c+1],O=c+1;O<this.m;O++)a[O][L]+=D*f[O]}for(var U=c+1;U<this.n;U++)this.V[U][c]=s[U]}}var b=Math.min(this.n,this.m+1);l<this.n&&(this.s[l]=a[l][l]),this.m<b&&(this.s[b-1]=0),d+1<b&&(s[d]=a[d][b-1]),s[b-1]=0;{for(var _=l;_<t;_++){for(var x=0;x<this.m;x++)this.U[x][_]=0;this.U[_][_]=1}for(var R=l-1;R>=0;R--)if(this.s[R]!==0){for(var C=R+1;C<t;C++){for(var V=0,G=R;G<this.m;G++)V+=this.U[G][R]*this.U[G][C];V=-V/this.U[R][R];for(var H=R;H<this.m;H++)this.U[H][C]+=V*this.U[H][R]}for(var $=R;$<this.m;$++)this.U[$][R]=-this.U[$][R];this.U[R][R]=1+this.U[R][R];for(var k=0;k<R-1;k++)this.U[k][R]=0}else{for(var M=0;M<this.m;M++)this.U[M][R]=0;this.U[R][R]=1}}for(var I=this.n-1;I>=0;I--){if((function(Ce,Ne){return Ce&&Ne})(I<d,s[I]!==0))for(var P=I+1;P<t;P++){for(var Y=0,B=I+1;B<this.n;B++)Y+=this.V[B][I]*this.V[B][P];Y=-Y/this.V[I+1][I];for(var F=I+1;F<this.n;F++)this.V[F][P]+=Y*this.V[F][I]}for(var X=0;X<this.n;X++)this.V[X][I]=0;this.V[I][I]=1}for(var j=b-1,J=Math.pow(2,-52),ie=Math.pow(2,-966);b>0;){var K=void 0,se=void 0;for(K=b-2;K>=-1&&K!==-1;K--)if(Math.abs(s[K])<=ie+J*(Math.abs(this.s[K])+Math.abs(this.s[K+1]))){s[K]=0;break}if(K===b-2)se=4;else{var ye=void 0;for(ye=b-1;ye>=K&&ye!==K;ye--){var te=(ye!==b?Math.abs(s[ye]):0)+(ye!==K+1?Math.abs(s[ye-1]):0);if(Math.abs(this.s[ye])<=ie+J*te){this.s[ye]=0;break}}ye===K?se=3:ye===b-1?se=1:(se=2,K=ye)}switch(K++,se){case 1:{var ne=s[b-2];s[b-2]=0;for(var he=b-2;he>=K;he--){var me=n.hypot(this.s[he],ne),we=this.s[he]/me,Te=ne/me;this.s[he]=me,he!==K&&(ne=-Te*s[he-1],s[he-1]=we*s[he-1]);for(var le=0;le<this.n;le++)me=we*this.V[le][he]+Te*this.V[le][b-1],this.V[le][b-1]=-Te*this.V[le][he]+we*this.V[le][b-1],this.V[le][he]=me}}break;case 2:{var Re=s[K-1];s[K-1]=0;for(var Ae=K;Ae<b;Ae++){var Be=n.hypot(this.s[Ae],Re),He=this.s[Ae]/Be,qe=Re/Be;this.s[Ae]=Be,Re=-qe*s[Ae],s[Ae]=He*s[Ae];for(var Pe=0;Pe<this.m;Pe++)Be=He*this.U[Pe][Ae]+qe*this.U[Pe][K-1],this.U[Pe][K-1]=-qe*this.U[Pe][Ae]+He*this.U[Pe][K-1],this.U[Pe][Ae]=Be}}break;case 3:{var Ye=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[b-1]),Math.abs(this.s[b-2])),Math.abs(s[b-2])),Math.abs(this.s[K])),Math.abs(s[K])),We=this.s[b-1]/Ye,W=this.s[b-2]/Ye,z=s[b-2]/Ye,Z=this.s[K]/Ye,ee=s[K]/Ye,Q=((W+We)*(W-We)+z*z)/2,oe=We*z*(We*z),ge=0;(function(Ce,Ne){return Ce||Ne})(Q!==0,oe!==0)&&(ge=Math.sqrt(Q*Q+oe),Q<0&&(ge=-ge),ge=oe/(Q+ge));for(var ue=(Z+We)*(Z-We)+ge,ae=Z*ee,re=K;re<b-1;re++){var pe=n.hypot(ue,ae),_e=ue/pe,be=ae/pe;re!==K&&(s[re-1]=pe),ue=_e*this.s[re]+be*s[re],s[re]=_e*s[re]-be*this.s[re],ae=be*this.s[re+1],this.s[re+1]=_e*this.s[re+1];for(var Ie=0;Ie<this.n;Ie++)pe=_e*this.V[Ie][re]+be*this.V[Ie][re+1],this.V[Ie][re+1]=-be*this.V[Ie][re]+_e*this.V[Ie][re+1],this.V[Ie][re]=pe;if(pe=n.hypot(ue,ae),_e=ue/pe,be=ae/pe,this.s[re]=pe,ue=_e*s[re]+be*this.s[re+1],this.s[re+1]=-be*s[re]+_e*this.s[re+1],ae=be*s[re+1],s[re+1]=_e*s[re+1],re<this.m-1)for(var de=0;de<this.m;de++)pe=_e*this.U[de][re]+be*this.U[de][re+1],this.U[de][re+1]=-be*this.U[de][re]+_e*this.U[de][re+1],this.U[de][re]=pe}s[b-2]=ue}break;case 4:{if(this.s[K]<=0){this.s[K]=this.s[K]<0?-this.s[K]:0;for(var fe=0;fe<=j;fe++)this.V[fe][K]=-this.V[fe][K]}for(;K<j&&!(this.s[K]>=this.s[K+1]);){var xe=this.s[K];if(this.s[K]=this.s[K+1],this.s[K+1]=xe,K<this.n-1)for(var ve=0;ve<this.n;ve++)xe=this.V[ve][K+1],this.V[ve][K+1]=this.V[ve][K],this.V[ve][K]=xe;if(K<this.m-1)for(var ce=0;ce<this.m;ce++)xe=this.U[ce][K+1],this.U[ce][K+1]=this.U[ce][K],this.U[ce][K]=xe;K++}b--}break}}var Xe={U:this.U,V:this.V,S:this.s};return Xe},n.hypot=function(a,t){var s=void 0;return Math.abs(a)>Math.abs(t)?(s=t/a,s=Math.abs(a)*Math.sqrt(1+s*s)):t!=0?(s=a/t,s=Math.abs(t)*Math.sqrt(1+s*s)):s=0,s},i.exports=n}),(function(i,u,r){var n=(function(){function s(f,h){for(var l=0;l<h.length;l++){var d=h[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,h,l){return h&&s(f.prototype,h),l&&s(f,l),f}})();function a(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}var t=(function(){function s(f,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,s),this.sequence1=f,this.sequence2=h,this.match_score=l,this.mismatch_penalty=d,this.gap_penalty=c,this.iMax=f.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.tracebackGrid[y]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[y][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(s,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var l=1;l<this.iMax;l++)this.grid[l][0]=this.grid[l-1][0]+this.gap_penalty,this.tracebackGrid[l][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var c=1;c<this.jMax;c++){var p=void 0;this.sequence1[d-1]===this.sequence2[c-1]?p=this.grid[d-1][c-1]+this.match_score:p=this.grid[d-1][c-1]+this.mismatch_penalty;var g=this.grid[d-1][c]+this.gap_penalty,y=this.grid[d][c-1]+this.gap_penalty,v=[p,g,y],w=this.arrayAllMaxIndexes(v);this.grid[d][c]=v[w[0]],this.tracebackGrid[d][c]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var l=h[0],d=this.tracebackGrid[l.pos[0]][l.pos[1]];d[0]&&h.push({pos:[l.pos[0]-1,l.pos[1]-1],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),d[1]&&h.push({pos:[l.pos[0]-1,l.pos[1]],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:"-"+l.seq2}),d[2]&&h.push({pos:[l.pos[0],l.pos[1]-1],seq1:"-"+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),l.pos[0]===0&&l.pos[1]===0&&this.alignments.push({sequence1:l.seq1,sequence2:l.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,l){for(var d=[],c=-1;(c=h.indexOf(l,c+1))!==-1;)d.push(c);return d}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),s})();i.exports=t}),(function(i,u,r){var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(4),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(5),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(25),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(6),n.LEdge=r(1),n.LGraphManager=r(7),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(27),n.Matrix=r(24),n.SVD=r(26),i.exports=n}),(function(i,u,r){function n(){this.listeners=[]}var a=n.prototype;a.addListener=function(t,s){this.listeners.push({event:t,callback:s})},a.removeListener=function(t,s){for(var f=this.listeners.length;f>=0;f--){var h=this.listeners[f];h.event===t&&h.callback===s&&this.listeners.splice(f,1)}},a.emit=function(t,s){for(var f=0;f<this.listeners.length;f++){var h=this.listeners[f];t===h.event&&h.callback(s)}},i.exports=n})])})})(Vt)),Vt.exports}var cm=Bt.exports,Id;function dm(){return Id||(Id=1,(function(e,o){(function(u,r){e.exports=r(hm())})(cm,function(i){return(()=>{var u={45:((t,s,f)=>{var h={};h.layoutBase=f(551),h.CoSEConstants=f(806),h.CoSEEdge=f(767),h.CoSEGraph=f(880),h.CoSEGraphManager=f(578),h.CoSELayout=f(765),h.CoSENode=f(991),h.ConstraintHandler=f(902),t.exports=h}),806:((t,s,f)=>{var h=f(551).FDLayoutConstants;function l(){}for(var d in h)l[d]=h[d];l.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,l.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH,l.DEFAULT_COMPONENT_SEPERATION=60,l.TILE=!0,l.TILING_PADDING_VERTICAL=10,l.TILING_PADDING_HORIZONTAL=10,l.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,l.ENFORCE_CONSTRAINTS=!0,l.APPLY_LAYOUT=!0,l.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,l.TREE_REDUCTION_ON_INCREMENTAL=!0,l.PURE_INCREMENTAL=l.DEFAULT_INCREMENTAL,t.exports=l}),767:((t,s,f)=>{var h=f(551).FDLayoutEdge;function l(c,p,g){h.call(this,c,p,g)}l.prototype=Object.create(h.prototype);for(var d in h)l[d]=h[d];t.exports=l}),880:((t,s,f)=>{var h=f(551).LGraph;function l(c,p,g){h.call(this,c,p,g)}l.prototype=Object.create(h.prototype);for(var d in h)l[d]=h[d];t.exports=l}),578:((t,s,f)=>{var h=f(551).LGraphManager;function l(c){h.call(this,c)}l.prototype=Object.create(h.prototype);for(var d in h)l[d]=h[d];t.exports=l}),765:((t,s,f)=>{var h=f(551).FDLayout,l=f(578),d=f(880),c=f(991),p=f(767),g=f(806),y=f(902),v=f(551).FDLayoutConstants,w=f(551).LayoutConstants,m=f(551).Point,E=f(551).PointD,T=f(551).DimensionD,A=f(551).Layout,N=f(551).Integer,q=f(551).IGeometry,S=f(551).LGraph,L=f(551).Transform,D=f(551).LinkedList;function O(){h.call(this),this.toBeTiled={},this.constraints={}}O.prototype=Object.create(h.prototype);for(var U in h)O[U]=h[U];O.prototype.newGraphManager=function(){var b=new l(this);return this.graphManager=b,b},O.prototype.newGraph=function(b){return new d(null,this.graphManager,b)},O.prototype.newNode=function(b){return new c(this.graphManager,b)},O.prototype.newEdge=function(b){return new p(null,null,b)},O.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},O.prototype.initSpringEmbedder=function(){h.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},O.prototype.layout=function(){var b=w.DEFAULT_CREATE_BENDS_AS_NEEDED;return b&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},O.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),x=this.nodesWithGravity.filter(function(V){return _.has(V)});this.graphManager.setAllNodesToApplyGravitation(x)}}else{var b=this.getFlatForest();if(b.length>0)this.positionNodesRadially(b);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),x=this.nodesWithGravity.filter(function(R){return _.has(R)});this.graphManager.setAllNodesToApplyGravitation(x),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(y.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},O.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var b=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(C){return b.has(C)});this.graphManager.setAllNodesToApplyGravitation(_),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var x=!this.isTreeGrowing&&!this.isGrowthFinished,R=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(x,R),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},O.prototype.getPositionsData=function(){for(var b=this.graphManager.getAllNodes(),_={},x=0;x<b.length;x++){var R=b[x].rect,C=b[x].id;_[C]={id:C,x:R.getCenterX(),y:R.getCenterY(),w:R.width,h:R.height}}return _},O.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var b=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!b;)b=this.tick();this.graphManager.updateBounds()}},O.prototype.moveNodes=function(){for(var b=this.getAllNodes(),_,x=0;x<b.length;x++)_=b[x],_.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var x=0;x<b.length;x++)_=b[x],_.move()},O.prototype.initConstraintVariables=function(){var b=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var _=this.graphManager.getAllNodes(),x=0;x<_.length;x++){var R=_[x];this.idToNodeMap.set(R.id,R)}var C=function F(X){for(var j=X.getChild().getNodes(),J,ie=0,K=0;K<j.length;K++)J=j[K],J.getChild()==null?b.fixedNodeSet.has(J.id)&&(ie+=100):ie+=F(J);return ie};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(j){b.fixedNodeSet.add(j.nodeId)});for(var _=this.graphManager.getAllNodes(),R,x=0;x<_.length;x++)if(R=_[x],R.getChild()!=null){var V=C(R);V>0&&(R.fixedNodeWeight=V)}}if(this.constraints.relativePlacementConstraint){var G=new Map,H=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(F){b.fixedNodesOnHorizontal.add(F),b.fixedNodesOnVertical.add(F)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var $=this.constraints.alignmentConstraint.vertical,x=0;x<$.length;x++)this.dummyToNodeForVerticalAlignment.set("dummy"+x,[]),$[x].forEach(function(X){G.set(X,"dummy"+x),b.dummyToNodeForVerticalAlignment.get("dummy"+x).push(X),b.fixedNodeSet.has(X)&&b.fixedNodesOnHorizontal.add("dummy"+x)});if(this.constraints.alignmentConstraint.horizontal)for(var k=this.constraints.alignmentConstraint.horizontal,x=0;x<k.length;x++)this.dummyToNodeForHorizontalAlignment.set("dummy"+x,[]),k[x].forEach(function(X){H.set(X,"dummy"+x),b.dummyToNodeForHorizontalAlignment.get("dummy"+x).push(X),b.fixedNodeSet.has(X)&&b.fixedNodesOnVertical.add("dummy"+x)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(F){var X,j,J;for(J=F.length-1;J>=2*F.length/3;J--)X=Math.floor(Math.random()*(J+1)),j=F[J],F[J]=F[X],F[X]=j;return F},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(F){if(F.left){var X=G.has(F.left)?G.get(F.left):F.left,j=G.has(F.right)?G.get(F.right):F.right;b.nodesInRelativeHorizontal.includes(X)||(b.nodesInRelativeHorizontal.push(X),b.nodeToRelativeConstraintMapHorizontal.set(X,[]),b.dummyToNodeForVerticalAlignment.has(X)?b.nodeToTempPositionMapHorizontal.set(X,b.idToNodeMap.get(b.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):b.nodeToTempPositionMapHorizontal.set(X,b.idToNodeMap.get(X).getCenterX())),b.nodesInRelativeHorizontal.includes(j)||(b.nodesInRelativeHorizontal.push(j),b.nodeToRelativeConstraintMapHorizontal.set(j,[]),b.dummyToNodeForVerticalAlignment.has(j)?b.nodeToTempPositionMapHorizontal.set(j,b.idToNodeMap.get(b.dummyToNodeForVerticalAlignment.get(j)[0]).getCenterX()):b.nodeToTempPositionMapHorizontal.set(j,b.idToNodeMap.get(j).getCenterX())),b.nodeToRelativeConstraintMapHorizontal.get(X).push({right:j,gap:F.gap}),b.nodeToRelativeConstraintMapHorizontal.get(j).push({left:X,gap:F.gap})}else{var J=H.has(F.top)?H.get(F.top):F.top,ie=H.has(F.bottom)?H.get(F.bottom):F.bottom;b.nodesInRelativeVertical.includes(J)||(b.nodesInRelativeVertical.push(J),b.nodeToRelativeConstraintMapVertical.set(J,[]),b.dummyToNodeForHorizontalAlignment.has(J)?b.nodeToTempPositionMapVertical.set(J,b.idToNodeMap.get(b.dummyToNodeForHorizontalAlignment.get(J)[0]).getCenterY()):b.nodeToTempPositionMapVertical.set(J,b.idToNodeMap.get(J).getCenterY())),b.nodesInRelativeVertical.includes(ie)||(b.nodesInRelativeVertical.push(ie),b.nodeToRelativeConstraintMapVertical.set(ie,[]),b.dummyToNodeForHorizontalAlignment.has(ie)?b.nodeToTempPositionMapVertical.set(ie,b.idToNodeMap.get(b.dummyToNodeForHorizontalAlignment.get(ie)[0]).getCenterY()):b.nodeToTempPositionMapVertical.set(ie,b.idToNodeMap.get(ie).getCenterY())),b.nodeToRelativeConstraintMapVertical.get(J).push({bottom:ie,gap:F.gap}),b.nodeToRelativeConstraintMapVertical.get(ie).push({top:J,gap:F.gap})}});else{var M=new Map,I=new Map;this.constraints.relativePlacementConstraint.forEach(function(F){if(F.left){var X=G.has(F.left)?G.get(F.left):F.left,j=G.has(F.right)?G.get(F.right):F.right;M.has(X)?M.get(X).push(j):M.set(X,[j]),M.has(j)?M.get(j).push(X):M.set(j,[X])}else{var J=H.has(F.top)?H.get(F.top):F.top,ie=H.has(F.bottom)?H.get(F.bottom):F.bottom;I.has(J)?I.get(J).push(ie):I.set(J,[ie]),I.has(ie)?I.get(ie).push(J):I.set(ie,[J])}});var P=function(X,j){var J=[],ie=[],K=new D,se=new Set,ye=0;return X.forEach(function(te,ne){if(!se.has(ne)){J[ye]=[],ie[ye]=!1;var he=ne;for(K.push(he),se.add(he),J[ye].push(he);K.length!=0;){he=K.shift(),j.has(he)&&(ie[ye]=!0);var me=X.get(he);me.forEach(function(we){se.has(we)||(K.push(we),se.add(we),J[ye].push(we))})}ye++}}),{components:J,isFixed:ie}},Y=P(M,b.fixedNodesOnHorizontal);this.componentsOnHorizontal=Y.components,this.fixedComponentsOnHorizontal=Y.isFixed;var B=P(I,b.fixedNodesOnVertical);this.componentsOnVertical=B.components,this.fixedComponentsOnVertical=B.isFixed}}},O.prototype.updateDisplacements=function(){var b=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(B){var F=b.idToNodeMap.get(B.nodeId);F.displacementX=0,F.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var _=this.constraints.alignmentConstraint.vertical,x=0;x<_.length;x++){for(var R=0,C=0;C<_[x].length;C++){if(this.fixedNodeSet.has(_[x][C])){R=0;break}R+=this.idToNodeMap.get(_[x][C]).displacementX}for(var V=R/_[x].length,C=0;C<_[x].length;C++)this.idToNodeMap.get(_[x][C]).displacementX=V}if(this.constraints.alignmentConstraint.horizontal)for(var G=this.constraints.alignmentConstraint.horizontal,x=0;x<G.length;x++){for(var H=0,C=0;C<G[x].length;C++){if(this.fixedNodeSet.has(G[x][C])){H=0;break}H+=this.idToNodeMap.get(G[x][C]).displacementY}for(var $=H/G[x].length,C=0;C<G[x].length;C++)this.idToNodeMap.get(G[x][C]).displacementY=$}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(B){if(!b.fixedNodesOnHorizontal.has(B)){var F=0;b.dummyToNodeForVerticalAlignment.has(B)?F=b.idToNodeMap.get(b.dummyToNodeForVerticalAlignment.get(B)[0]).displacementX:F=b.idToNodeMap.get(B).displacementX,b.nodeToRelativeConstraintMapHorizontal.get(B).forEach(function(X){if(X.right){var j=b.nodeToTempPositionMapHorizontal.get(X.right)-b.nodeToTempPositionMapHorizontal.get(B)-F;j<X.gap&&(F-=X.gap-j)}else{var j=b.nodeToTempPositionMapHorizontal.get(B)-b.nodeToTempPositionMapHorizontal.get(X.left)+F;j<X.gap&&(F+=X.gap-j)}}),b.nodeToTempPositionMapHorizontal.set(B,b.nodeToTempPositionMapHorizontal.get(B)+F),b.dummyToNodeForVerticalAlignment.has(B)?b.dummyToNodeForVerticalAlignment.get(B).forEach(function(X){b.idToNodeMap.get(X).displacementX=F}):b.idToNodeMap.get(B).displacementX=F}}),this.nodesInRelativeVertical.forEach(function(B){if(!b.fixedNodesOnHorizontal.has(B)){var F=0;b.dummyToNodeForHorizontalAlignment.has(B)?F=b.idToNodeMap.get(b.dummyToNodeForHorizontalAlignment.get(B)[0]).displacementY:F=b.idToNodeMap.get(B).displacementY,b.nodeToRelativeConstraintMapVertical.get(B).forEach(function(X){if(X.bottom){var j=b.nodeToTempPositionMapVertical.get(X.bottom)-b.nodeToTempPositionMapVertical.get(B)-F;j<X.gap&&(F-=X.gap-j)}else{var j=b.nodeToTempPositionMapVertical.get(B)-b.nodeToTempPositionMapVertical.get(X.top)+F;j<X.gap&&(F+=X.gap-j)}}),b.nodeToTempPositionMapVertical.set(B,b.nodeToTempPositionMapVertical.get(B)+F),b.dummyToNodeForHorizontalAlignment.has(B)?b.dummyToNodeForHorizontalAlignment.get(B).forEach(function(X){b.idToNodeMap.get(X).displacementY=F}):b.idToNodeMap.get(B).displacementY=F}});else{for(var x=0;x<this.componentsOnHorizontal.length;x++){var k=this.componentsOnHorizontal[x];if(this.fixedComponentsOnHorizontal[x])for(var C=0;C<k.length;C++)this.dummyToNodeForVerticalAlignment.has(k[C])?this.dummyToNodeForVerticalAlignment.get(k[C]).forEach(function(X){b.idToNodeMap.get(X).displacementX=0}):this.idToNodeMap.get(k[C]).displacementX=0;else{for(var M=0,I=0,C=0;C<k.length;C++)if(this.dummyToNodeForVerticalAlignment.has(k[C])){var P=this.dummyToNodeForVerticalAlignment.get(k[C]);M+=P.length*this.idToNodeMap.get(P[0]).displacementX,I+=P.length}else M+=this.idToNodeMap.get(k[C]).displacementX,I++;for(var Y=M/I,C=0;C<k.length;C++)this.dummyToNodeForVerticalAlignment.has(k[C])?this.dummyToNodeForVerticalAlignment.get(k[C]).forEach(function(X){b.idToNodeMap.get(X).displacementX=Y}):this.idToNodeMap.get(k[C]).displacementX=Y}}for(var x=0;x<this.componentsOnVertical.length;x++){var k=this.componentsOnVertical[x];if(this.fixedComponentsOnVertical[x])for(var C=0;C<k.length;C++)this.dummyToNodeForHorizontalAlignment.has(k[C])?this.dummyToNodeForHorizontalAlignment.get(k[C]).forEach(function(j){b.idToNodeMap.get(j).displacementY=0}):this.idToNodeMap.get(k[C]).displacementY=0;else{for(var M=0,I=0,C=0;C<k.length;C++)if(this.dummyToNodeForHorizontalAlignment.has(k[C])){var P=this.dummyToNodeForHorizontalAlignment.get(k[C]);M+=P.length*this.idToNodeMap.get(P[0]).displacementY,I+=P.length}else M+=this.idToNodeMap.get(k[C]).displacementY,I++;for(var Y=M/I,C=0;C<k.length;C++)this.dummyToNodeForHorizontalAlignment.has(k[C])?this.dummyToNodeForHorizontalAlignment.get(k[C]).forEach(function(K){b.idToNodeMap.get(K).displacementY=Y}):this.idToNodeMap.get(k[C]).displacementY=Y}}}},O.prototype.calculateNodesToApplyGravitationTo=function(){var b=[],_,x=this.graphManager.getGraphs(),R=x.length,C;for(C=0;C<R;C++)_=x[C],_.updateConnected(),_.isConnected||(b=b.concat(_.getNodes()));return b},O.prototype.createBendpoints=function(){var b=[];b=b.concat(this.graphManager.getAllEdges());var _=new Set,x;for(x=0;x<b.length;x++){var R=b[x];if(!_.has(R)){var C=R.getSource(),V=R.getTarget();if(C==V)R.getBendpoints().push(new E),R.getBendpoints().push(new E),this.createDummyNodesForBendpoints(R),_.add(R);else{var G=[];if(G=G.concat(C.getEdgeListToNode(V)),G=G.concat(V.getEdgeListToNode(C)),!_.has(G[0])){if(G.length>1){var H;for(H=0;H<G.length;H++){var $=G[H];$.getBendpoints().push(new E),this.createDummyNodesForBendpoints($)}}G.forEach(function(k){_.add(k)})}}}if(_.size==b.length)break}},O.prototype.positionNodesRadially=function(b){for(var _=new m(0,0),x=Math.ceil(Math.sqrt(b.length)),R=0,C=0,V=0,G=new E(0,0),H=0;H<b.length;H++){H%x==0&&(V=0,C=R,H!=0&&(C+=g.DEFAULT_COMPONENT_SEPERATION),R=0);var $=b[H],k=A.findCenterOfTree($);_.x=V,_.y=C,G=O.radialLayout($,k,_),G.y>R&&(R=Math.floor(G.y)),V=Math.floor(G.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(w.WORLD_CENTER_X-G.x/2,w.WORLD_CENTER_Y-G.y/2))},O.radialLayout=function(b,_,x){var R=Math.max(this.maxDiagonalInTree(b),g.DEFAULT_RADIAL_SEPARATION);O.branchRadialLayout(_,null,0,359,0,R);var C=S.calculateBounds(b),V=new L;V.setDeviceOrgX(C.getMinX()),V.setDeviceOrgY(C.getMinY()),V.setWorldOrgX(x.x),V.setWorldOrgY(x.y);for(var G=0;G<b.length;G++){var H=b[G];H.transform(V)}var $=new E(C.getMaxX(),C.getMaxY());return V.inverseTransformPoint($)},O.branchRadialLayout=function(b,_,x,R,C,V){var G=(R-x+1)/2;G<0&&(G+=180);var H=(G+x)%360,$=H*q.TWO_PI/360,k=C*Math.cos($),M=C*Math.sin($);b.setCenter(k,M);var I=[];I=I.concat(b.getEdges());var P=I.length;_!=null&&P--;for(var Y=0,B=I.length,F,X=b.getEdgesBetween(_);X.length>1;){var j=X[0];X.splice(0,1);var J=I.indexOf(j);J>=0&&I.splice(J,1),B--,P--}_!=null?F=(I.indexOf(X[0])+1)%B:F=0;for(var ie=Math.abs(R-x)/P,K=F;Y!=P;K=++K%B){var se=I[K].getOtherEnd(b);if(se!=_){var ye=(x+Y*ie)%360,te=(ye+ie)%360;O.branchRadialLayout(se,b,ye,te,C+V,V),Y++}}},O.maxDiagonalInTree=function(b){for(var _=N.MIN_VALUE,x=0;x<b.length;x++){var R=b[x],C=R.getDiagonal();C>_&&(_=C)}return _},O.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},O.prototype.groupZeroDegreeMembers=function(){var b=this,_={};this.memberGroups={},this.idToDummyNode={};for(var x=[],R=this.graphManager.getAllNodes(),C=0;C<R.length;C++){var V=R[C],G=V.getParent();this.getNodeDegreeWithChildren(V)===0&&(G.id==null||!this.getToBeTiled(G))&&x.push(V)}for(var C=0;C<x.length;C++){var V=x[C],H=V.getParent().id;typeof _[H]>"u"&&(_[H]=[]),_[H]=_[H].concat(V)}Object.keys(_).forEach(function($){if(_[$].length>1){var k="DummyCompound_"+$;b.memberGroups[k]=_[$];var M=_[$][0].getParent(),I=new c(b.graphManager);I.id=k,I.paddingLeft=M.paddingLeft||0,I.paddingRight=M.paddingRight||0,I.paddingBottom=M.paddingBottom||0,I.paddingTop=M.paddingTop||0,b.idToDummyNode[k]=I;var P=b.getGraphManager().add(b.newGraph(),I),Y=M.getChild();Y.add(I);for(var B=0;B<_[$].length;B++){var F=_[$][B];Y.remove(F),P.add(F)}}})},O.prototype.clearCompounds=function(){var b={},_={};this.performDFSOnCompounds();for(var x=0;x<this.compoundOrder.length;x++)_[this.compoundOrder[x].id]=this.compoundOrder[x],b[this.compoundOrder[x].id]=[].concat(this.compoundOrder[x].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[x].getChild()),this.compoundOrder[x].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(b,_)},O.prototype.clearZeroDegreeMembers=function(){var b=this,_=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(x){var R=b.idToDummyNode[x];if(_[x]=b.tileNodes(b.memberGroups[x],R.paddingLeft+R.paddingRight),R.rect.width=_[x].width,R.rect.height=_[x].height,R.setCenter(_[x].centerX,_[x].centerY),R.labelMarginLeft=0,R.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var C=R.rect.width,V=R.rect.height;R.labelWidth&&(R.labelPosHorizontal=="left"?(R.rect.x-=R.labelWidth,R.setWidth(C+R.labelWidth),R.labelMarginLeft=R.labelWidth):R.labelPosHorizontal=="center"&&R.labelWidth>C?(R.rect.x-=(R.labelWidth-C)/2,R.setWidth(R.labelWidth),R.labelMarginLeft=(R.labelWidth-C)/2):R.labelPosHorizontal=="right"&&R.setWidth(C+R.labelWidth)),R.labelHeight&&(R.labelPosVertical=="top"?(R.rect.y-=R.labelHeight,R.setHeight(V+R.labelHeight),R.labelMarginTop=R.labelHeight):R.labelPosVertical=="center"&&R.labelHeight>V?(R.rect.y-=(R.labelHeight-V)/2,R.setHeight(R.labelHeight),R.labelMarginTop=(R.labelHeight-V)/2):R.labelPosVertical=="bottom"&&R.setHeight(V+R.labelHeight))}})},O.prototype.repopulateCompounds=function(){for(var b=this.compoundOrder.length-1;b>=0;b--){var _=this.compoundOrder[b],x=_.id,R=_.paddingLeft,C=_.paddingTop,V=_.labelMarginLeft,G=_.labelMarginTop;this.adjustLocations(this.tiledMemberPack[x],_.rect.x,_.rect.y,R,C,V,G)}},O.prototype.repopulateZeroDegreeMembers=function(){var b=this,_=this.tiledZeroDegreePack;Object.keys(_).forEach(function(x){var R=b.idToDummyNode[x],C=R.paddingLeft,V=R.paddingTop,G=R.labelMarginLeft,H=R.labelMarginTop;b.adjustLocations(_[x],R.rect.x,R.rect.y,C,V,G,H)})},O.prototype.getToBeTiled=function(b){var _=b.id;if(this.toBeTiled[_]!=null)return this.toBeTiled[_];var x=b.getChild();if(x==null)return this.toBeTiled[_]=!1,!1;for(var R=x.getNodes(),C=0;C<R.length;C++){var V=R[C];if(this.getNodeDegree(V)>0)return this.toBeTiled[_]=!1,!1;if(V.getChild()==null){this.toBeTiled[V.id]=!1;continue}if(!this.getToBeTiled(V))return this.toBeTiled[_]=!1,!1}return this.toBeTiled[_]=!0,!0},O.prototype.getNodeDegree=function(b){b.id;for(var _=b.getEdges(),x=0,R=0;R<_.length;R++){var C=_[R];C.getSource().id!==C.getTarget().id&&(x=x+1)}return x},O.prototype.getNodeDegreeWithChildren=function(b){var _=this.getNodeDegree(b);if(b.getChild()==null)return _;for(var x=b.getChild().getNodes(),R=0;R<x.length;R++){var C=x[R];_+=this.getNodeDegreeWithChildren(C)}return _},O.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},O.prototype.fillCompexOrderByDFS=function(b){for(var _=0;_<b.length;_++){var x=b[_];x.getChild()!=null&&this.fillCompexOrderByDFS(x.getChild().getNodes()),this.getToBeTiled(x)&&this.compoundOrder.push(x)}},O.prototype.adjustLocations=function(b,_,x,R,C,V,G){_+=R+V,x+=C+G;for(var H=_,$=0;$<b.rows.length;$++){var k=b.rows[$];_=H;for(var M=0,I=0;I<k.length;I++){var P=k[I];P.rect.x=_,P.rect.y=x,_+=P.rect.width+b.horizontalPadding,P.rect.height>M&&(M=P.rect.height)}x+=M+b.verticalPadding}},O.prototype.tileCompoundMembers=function(b,_){var x=this;this.tiledMemberPack=[],Object.keys(b).forEach(function(R){var C=_[R];if(x.tiledMemberPack[R]=x.tileNodes(b[R],C.paddingLeft+C.paddingRight),C.rect.width=x.tiledMemberPack[R].width,C.rect.height=x.tiledMemberPack[R].height,C.setCenter(x.tiledMemberPack[R].centerX,x.tiledMemberPack[R].centerY),C.labelMarginLeft=0,C.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var V=C.rect.width,G=C.rect.height;C.labelWidth&&(C.labelPosHorizontal=="left"?(C.rect.x-=C.labelWidth,C.setWidth(V+C.labelWidth),C.labelMarginLeft=C.labelWidth):C.labelPosHorizontal=="center"&&C.labelWidth>V?(C.rect.x-=(C.labelWidth-V)/2,C.setWidth(C.labelWidth),C.labelMarginLeft=(C.labelWidth-V)/2):C.labelPosHorizontal=="right"&&C.setWidth(V+C.labelWidth)),C.labelHeight&&(C.labelPosVertical=="top"?(C.rect.y-=C.labelHeight,C.setHeight(G+C.labelHeight),C.labelMarginTop=C.labelHeight):C.labelPosVertical=="center"&&C.labelHeight>G?(C.rect.y-=(C.labelHeight-G)/2,C.setHeight(C.labelHeight),C.labelMarginTop=(C.labelHeight-G)/2):C.labelPosVertical=="bottom"&&C.setHeight(G+C.labelHeight))}})},O.prototype.tileNodes=function(b,_){var x=this.tileNodesByFavoringDim(b,_,!0),R=this.tileNodesByFavoringDim(b,_,!1),C=this.getOrgRatio(x),V=this.getOrgRatio(R),G;return V<C?G=R:G=x,G},O.prototype.getOrgRatio=function(b){var _=b.width,x=b.height,R=_/x;return R<1&&(R=1/R),R},O.prototype.calcIdealRowWidth=function(b,_){var x=g.TILING_PADDING_VERTICAL,R=g.TILING_PADDING_HORIZONTAL,C=b.length,V=0,G=0,H=0;b.forEach(function(B){V+=B.getWidth(),G+=B.getHeight(),B.getWidth()>H&&(H=B.getWidth())});var $=V/C,k=G/C,M=Math.pow(x-R,2)+4*($+R)*(k+x)*C,I=(R-x+Math.sqrt(M))/(2*($+R)),P;_?(P=Math.ceil(I),P==I&&P++):P=Math.floor(I);var Y=P*($+R)-R;return H>Y&&(Y=H),Y+=R*2,Y},O.prototype.tileNodesByFavoringDim=function(b,_,x){var R=g.TILING_PADDING_VERTICAL,C=g.TILING_PADDING_HORIZONTAL,V=g.TILING_COMPARE_BY,G={rows:[],rowWidth:[],rowHeight:[],width:0,height:_,verticalPadding:R,horizontalPadding:C,centerX:0,centerY:0};V&&(G.idealRowWidth=this.calcIdealRowWidth(b,x));var H=function(F){return F.rect.width*F.rect.height},$=function(F,X){return H(X)-H(F)};b.sort(function(B,F){var X=$;return G.idealRowWidth?(X=V,X(B.id,F.id)):X(B,F)});for(var k=0,M=0,I=0;I<b.length;I++){var P=b[I];k+=P.getCenterX(),M+=P.getCenterY()}G.centerX=k/b.length,G.centerY=M/b.length;for(var I=0;I<b.length;I++){var P=b[I];if(G.rows.length==0)this.insertNodeToRow(G,P,0,_);else if(this.canAddHorizontal(G,P.rect.width,P.rect.height)){var Y=G.rows.length-1;G.idealRowWidth||(Y=this.getShortestRowIndex(G)),this.insertNodeToRow(G,P,Y,_)}else this.insertNodeToRow(G,P,G.rows.length,_);this.shiftToLastRow(G)}return G},O.prototype.insertNodeToRow=function(b,_,x,R){var C=R;if(x==b.rows.length){var V=[];b.rows.push(V),b.rowWidth.push(C),b.rowHeight.push(0)}var G=b.rowWidth[x]+_.rect.width;b.rows[x].length>0&&(G+=b.horizontalPadding),b.rowWidth[x]=G,b.width<G&&(b.width=G);var H=_.rect.height;x>0&&(H+=b.verticalPadding);var $=0;H>b.rowHeight[x]&&($=b.rowHeight[x],b.rowHeight[x]=H,$=b.rowHeight[x]-$),b.height+=$,b.rows[x].push(_)},O.prototype.getShortestRowIndex=function(b){for(var _=-1,x=Number.MAX_VALUE,R=0;R<b.rows.length;R++)b.rowWidth[R]<x&&(_=R,x=b.rowWidth[R]);return _},O.prototype.getLongestRowIndex=function(b){for(var _=-1,x=Number.MIN_VALUE,R=0;R<b.rows.length;R++)b.rowWidth[R]>x&&(_=R,x=b.rowWidth[R]);return _},O.prototype.canAddHorizontal=function(b,_,x){if(b.idealRowWidth){var R=b.rows.length-1,C=b.rowWidth[R];return C+_+b.horizontalPadding<=b.idealRowWidth}var V=this.getShortestRowIndex(b);if(V<0)return!0;var G=b.rowWidth[V];if(G+b.horizontalPadding+_<=b.width)return!0;var H=0;b.rowHeight[V]<x&&V>0&&(H=x+b.verticalPadding-b.rowHeight[V]);var $;b.width-G>=_+b.horizontalPadding?$=(b.height+H)/(G+_+b.horizontalPadding):$=(b.height+H)/b.width,H=x+b.verticalPadding;var k;return b.width<_?k=(b.height+H)/_:k=(b.height+H)/b.width,k<1&&(k=1/k),$<1&&($=1/$),$<k},O.prototype.shiftToLastRow=function(b){var _=this.getLongestRowIndex(b),x=b.rowWidth.length-1,R=b.rows[_],C=R[R.length-1],V=C.width+b.horizontalPadding;if(b.width-b.rowWidth[x]>V&&_!=x){R.splice(-1,1),b.rows[x].push(C),b.rowWidth[_]=b.rowWidth[_]-V,b.rowWidth[x]=b.rowWidth[x]+V,b.width=b.rowWidth[instance.getLongestRowIndex(b)];for(var G=Number.MIN_VALUE,H=0;H<R.length;H++)R[H].height>G&&(G=R[H].height);_>0&&(G+=b.verticalPadding);var $=b.rowHeight[_]+b.rowHeight[x];b.rowHeight[_]=G,b.rowHeight[x]<C.height+b.verticalPadding&&(b.rowHeight[x]=C.height+b.verticalPadding);var k=b.rowHeight[_]+b.rowHeight[x];b.height+=k-$,this.shiftToLastRow(b)}},O.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},O.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},O.prototype.reduceTrees=function(){for(var b=[],_=!0,x;_;){var R=this.graphManager.getAllNodes(),C=[];_=!1;for(var V=0;V<R.length;V++)if(x=R[V],x.getEdges().length==1&&!x.getEdges()[0].isInterGraph&&x.getChild()==null){if(g.PURE_INCREMENTAL){var G=x.getEdges()[0].getOtherEnd(x),H=new T(x.getCenterX()-G.getCenterX(),x.getCenterY()-G.getCenterY());C.push([x,x.getEdges()[0],x.getOwner(),H])}else C.push([x,x.getEdges()[0],x.getOwner()]);_=!0}if(_==!0){for(var $=[],k=0;k<C.length;k++)C[k][0].getEdges().length==1&&($.push(C[k]),C[k][0].getOwner().remove(C[k][0]));b.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=b},O.prototype.growTree=function(b){for(var _=b.length,x=b[_-1],R,C=0;C<x.length;C++)R=x[C],this.findPlaceforPrunedNode(R),R[2].add(R[0]),R[2].add(R[1],R[1].source,R[1].target);b.splice(b.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},O.prototype.findPlaceforPrunedNode=function(b){var _,x,R=b[0];if(R==b[1].source?x=b[1].target:x=b[1].source,g.PURE_INCREMENTAL)R.setCenter(x.getCenterX()+b[3].getWidth(),x.getCenterY()+b[3].getHeight());else{var C=x.startX,V=x.finishX,G=x.startY,H=x.finishY,$=0,k=0,M=0,I=0,P=[$,M,k,I];if(G>0)for(var Y=C;Y<=V;Y++)P[0]+=this.grid[Y][G-1].length+this.grid[Y][G].length-1;if(V<this.grid.length-1)for(var Y=G;Y<=H;Y++)P[1]+=this.grid[V+1][Y].length+this.grid[V][Y].length-1;if(H<this.grid[0].length-1)for(var Y=C;Y<=V;Y++)P[2]+=this.grid[Y][H+1].length+this.grid[Y][H].length-1;if(C>0)for(var Y=G;Y<=H;Y++)P[3]+=this.grid[C-1][Y].length+this.grid[C][Y].length-1;for(var B=N.MAX_VALUE,F,X,j=0;j<P.length;j++)P[j]<B?(B=P[j],F=1,X=j):P[j]==B&&F++;if(F==3&&B==0)P[0]==0&&P[1]==0&&P[2]==0?_=1:P[0]==0&&P[1]==0&&P[3]==0?_=0:P[0]==0&&P[2]==0&&P[3]==0?_=3:P[1]==0&&P[2]==0&&P[3]==0&&(_=2);else if(F==2&&B==0){var J=Math.floor(Math.random()*2);P[0]==0&&P[1]==0?J==0?_=0:_=1:P[0]==0&&P[2]==0?J==0?_=0:_=2:P[0]==0&&P[3]==0?J==0?_=0:_=3:P[1]==0&&P[2]==0?J==0?_=1:_=2:P[1]==0&&P[3]==0?J==0?_=1:_=3:J==0?_=2:_=3}else if(F==4&&B==0){var J=Math.floor(Math.random()*4);_=J}else _=X;_==0?R.setCenter(x.getCenterX(),x.getCenterY()-x.getHeight()/2-v.DEFAULT_EDGE_LENGTH-R.getHeight()/2):_==1?R.setCenter(x.getCenterX()+x.getWidth()/2+v.DEFAULT_EDGE_LENGTH+R.getWidth()/2,x.getCenterY()):_==2?R.setCenter(x.getCenterX(),x.getCenterY()+x.getHeight()/2+v.DEFAULT_EDGE_LENGTH+R.getHeight()/2):R.setCenter(x.getCenterX()-x.getWidth()/2-v.DEFAULT_EDGE_LENGTH-R.getWidth()/2,x.getCenterY())}},t.exports=O}),991:((t,s,f)=>{var h=f(551).FDLayoutNode,l=f(551).IMath;function d(p,g,y,v){h.call(this,p,g,y,v)}d.prototype=Object.create(h.prototype);for(var c in h)d[c]=h[c];d.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*l.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*l.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(p,g){for(var y=this.getChild().getNodes(),v,w=0;w<y.length;w++)v=y[w],v.getChild()==null?(v.displacementX+=p,v.displacementY+=g):v.propogateDisplacementToChildren(p,g)},d.prototype.move=function(){var p=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(p){this.pred1=p},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(p){this.next=p},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(p){this.processed=p},d.prototype.isProcessed=function(){return processed},t.exports=d}),902:((t,s,f)=>{function h(y){if(Array.isArray(y)){for(var v=0,w=Array(y.length);v<y.length;v++)w[v]=y[v];return w}else return Array.from(y)}var l=f(806),d=f(551).LinkedList,c=f(551).Matrix,p=f(551).SVD;function g(){}g.handleConstraints=function(y){var v={};v.fixedNodeConstraint=y.constraints.fixedNodeConstraint,v.alignmentConstraint=y.constraints.alignmentConstraint,v.relativePlacementConstraint=y.constraints.relativePlacementConstraint;for(var w=new Map,m=new Map,E=[],T=[],A=y.getAllNodes(),N=0,q=0;q<A.length;q++){var S=A[q];S.getChild()==null&&(m.set(S.id,N++),E.push(S.getCenterX()),T.push(S.getCenterY()),w.set(S.id,S))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(W){!W.gap&&W.gap!=0&&(W.left?W.gap=l.DEFAULT_EDGE_LENGTH+w.get(W.left).getWidth()/2+w.get(W.right).getWidth()/2:W.gap=l.DEFAULT_EDGE_LENGTH+w.get(W.top).getHeight()/2+w.get(W.bottom).getHeight()/2)});var L=function(z,Z){return{x:z.x-Z.x,y:z.y-Z.y}},D=function(z){var Z=0,ee=0;return z.forEach(function(Q){Z+=E[m.get(Q)],ee+=T[m.get(Q)]}),{x:Z/z.size,y:ee/z.size}},O=function(z,Z,ee,Q,oe){function ge(de,fe){var xe=new Set(de),ve=!0,ce=!1,Xe=void 0;try{for(var Ce=fe[Symbol.iterator](),Ne;!(ve=(Ne=Ce.next()).done);ve=!0){var je=Ne.value;xe.add(je)}}catch(ke){ce=!0,Xe=ke}finally{try{!ve&&Ce.return&&Ce.return()}finally{if(ce)throw Xe}}return xe}var ue=new Map;z.forEach(function(de,fe){ue.set(fe,0)}),z.forEach(function(de,fe){de.forEach(function(xe){ue.set(xe.id,ue.get(xe.id)+1)})});var ae=new Map,re=new Map,pe=new d;ue.forEach(function(de,fe){de==0?(pe.push(fe),ee||(Z=="horizontal"?ae.set(fe,m.has(fe)?E[m.get(fe)]:Q.get(fe)):ae.set(fe,m.has(fe)?T[m.get(fe)]:Q.get(fe)))):ae.set(fe,Number.NEGATIVE_INFINITY),ee&&re.set(fe,new Set([fe]))}),ee&&oe.forEach(function(de){var fe=[];if(de.forEach(function(ce){ee.has(ce)&&fe.push(ce)}),fe.length>0){var xe=0;fe.forEach(function(ce){Z=="horizontal"?(ae.set(ce,m.has(ce)?E[m.get(ce)]:Q.get(ce)),xe+=ae.get(ce)):(ae.set(ce,m.has(ce)?T[m.get(ce)]:Q.get(ce)),xe+=ae.get(ce))}),xe=xe/fe.length,de.forEach(function(ce){ee.has(ce)||ae.set(ce,xe)})}else{var ve=0;de.forEach(function(ce){Z=="horizontal"?ve+=m.has(ce)?E[m.get(ce)]:Q.get(ce):ve+=m.has(ce)?T[m.get(ce)]:Q.get(ce)}),ve=ve/de.length,de.forEach(function(ce){ae.set(ce,ve)})}});for(var _e=function(){var fe=pe.shift(),xe=z.get(fe);xe.forEach(function(ve){if(ae.get(ve.id)<ae.get(fe)+ve.gap)if(ee&&ee.has(ve.id)){var ce=void 0;if(Z=="horizontal"?ce=m.has(ve.id)?E[m.get(ve.id)]:Q.get(ve.id):ce=m.has(ve.id)?T[m.get(ve.id)]:Q.get(ve.id),ae.set(ve.id,ce),ce<ae.get(fe)+ve.gap){var Xe=ae.get(fe)+ve.gap-ce;re.get(fe).forEach(function(Ce){ae.set(Ce,ae.get(Ce)-Xe)})}}else ae.set(ve.id,ae.get(fe)+ve.gap);ue.set(ve.id,ue.get(ve.id)-1),ue.get(ve.id)==0&&pe.push(ve.id),ee&&re.set(ve.id,ge(re.get(fe),re.get(ve.id)))})};pe.length!=0;)_e();if(ee){var be=new Set;z.forEach(function(de,fe){de.length==0&&be.add(fe)});var Ie=[];re.forEach(function(de,fe){if(be.has(fe)){var xe=!1,ve=!0,ce=!1,Xe=void 0;try{for(var Ce=de[Symbol.iterator](),Ne;!(ve=(Ne=Ce.next()).done);ve=!0){var je=Ne.value;ee.has(je)&&(xe=!0)}}catch(Fe){ce=!0,Xe=Fe}finally{try{!ve&&Ce.return&&Ce.return()}finally{if(ce)throw Xe}}if(!xe){var ke=!1,$e=void 0;Ie.forEach(function(Fe,tt){Fe.has([].concat(h(de))[0])&&(ke=!0,$e=tt)}),ke?de.forEach(function(Fe){Ie[$e].add(Fe)}):Ie.push(new Set(de))}}}),Ie.forEach(function(de,fe){var xe=Number.POSITIVE_INFINITY,ve=Number.POSITIVE_INFINITY,ce=Number.NEGATIVE_INFINITY,Xe=Number.NEGATIVE_INFINITY,Ce=!0,Ne=!1,je=void 0;try{for(var ke=de[Symbol.iterator](),$e;!(Ce=($e=ke.next()).done);Ce=!0){var Fe=$e.value,tt=void 0;Z=="horizontal"?tt=m.has(Fe)?E[m.get(Fe)]:Q.get(Fe):tt=m.has(Fe)?T[m.get(Fe)]:Q.get(Fe);var pt=ae.get(Fe);tt<xe&&(xe=tt),tt>ce&&(ce=tt),pt<ve&&(ve=pt),pt>Xe&&(Xe=pt)}}catch(Et){Ne=!0,je=Et}finally{try{!Ce&&ke.return&&ke.return()}finally{if(Ne)throw je}}var hr=(xe+ce)/2-(ve+Xe)/2,lt=!0,yt=!1,mt=void 0;try{for(var ht=de[Symbol.iterator](),Pt;!(lt=(Pt=ht.next()).done);lt=!0){var bt=Pt.value;ae.set(bt,ae.get(bt)+hr)}}catch(Et){yt=!0,mt=Et}finally{try{!lt&&ht.return&&ht.return()}finally{if(yt)throw mt}}})}return ae},U=function(z){var Z=0,ee=0,Q=0,oe=0;if(z.forEach(function(re){re.left?E[m.get(re.left)]-E[m.get(re.right)]>=0?Z++:ee++:T[m.get(re.top)]-T[m.get(re.bottom)]>=0?Q++:oe++}),Z>ee&&Q>oe)for(var ge=0;ge<m.size;ge++)E[ge]=-1*E[ge],T[ge]=-1*T[ge];else if(Z>ee)for(var ue=0;ue<m.size;ue++)E[ue]=-1*E[ue];else if(Q>oe)for(var ae=0;ae<m.size;ae++)T[ae]=-1*T[ae]},b=function(z){var Z=[],ee=new d,Q=new Set,oe=0;return z.forEach(function(ge,ue){if(!Q.has(ue)){Z[oe]=[];var ae=ue;for(ee.push(ae),Q.add(ae),Z[oe].push(ae);ee.length!=0;){ae=ee.shift();var re=z.get(ae);re.forEach(function(pe){Q.has(pe.id)||(ee.push(pe.id),Q.add(pe.id),Z[oe].push(pe.id))})}oe++}}),Z},_=function(z){var Z=new Map;return z.forEach(function(ee,Q){Z.set(Q,[])}),z.forEach(function(ee,Q){ee.forEach(function(oe){Z.get(Q).push(oe),Z.get(oe.id).push({id:Q,gap:oe.gap,direction:oe.direction})})}),Z},x=function(z){var Z=new Map;return z.forEach(function(ee,Q){Z.set(Q,[])}),z.forEach(function(ee,Q){ee.forEach(function(oe){Z.get(oe.id).push({id:Q,gap:oe.gap,direction:oe.direction})})}),Z},R=[],C=[],V=!1,G=!1,H=new Set,$=new Map,k=new Map,M=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(W){H.add(W.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(W){W.left?($.has(W.left)?$.get(W.left).push({id:W.right,gap:W.gap,direction:"horizontal"}):$.set(W.left,[{id:W.right,gap:W.gap,direction:"horizontal"}]),$.has(W.right)||$.set(W.right,[])):($.has(W.top)?$.get(W.top).push({id:W.bottom,gap:W.gap,direction:"vertical"}):$.set(W.top,[{id:W.bottom,gap:W.gap,direction:"vertical"}]),$.has(W.bottom)||$.set(W.bottom,[]))}),k=_($),M=b(k)),l.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(W,z){R[z]=[W.position.x,W.position.y],C[z]=[E[m.get(W.nodeId)],T[m.get(W.nodeId)]]}),V=!0;else if(v.alignmentConstraint)(function(){var W=0;if(v.alignmentConstraint.vertical){for(var z=v.alignmentConstraint.vertical,Z=function(ae){var re=new Set;z[ae].forEach(function(be){re.add(be)});var pe=new Set([].concat(h(re)).filter(function(be){return H.has(be)})),_e=void 0;pe.size>0?_e=E[m.get(pe.values().next().value)]:_e=D(re).x,z[ae].forEach(function(be){R[W]=[_e,T[m.get(be)]],C[W]=[E[m.get(be)],T[m.get(be)]],W++})},ee=0;ee<z.length;ee++)Z(ee);V=!0}if(v.alignmentConstraint.horizontal){for(var Q=v.alignmentConstraint.horizontal,oe=function(ae){var re=new Set;Q[ae].forEach(function(be){re.add(be)});var pe=new Set([].concat(h(re)).filter(function(be){return H.has(be)})),_e=void 0;pe.size>0?_e=E[m.get(pe.values().next().value)]:_e=D(re).y,Q[ae].forEach(function(be){R[W]=[E[m.get(be)],_e],C[W]=[E[m.get(be)],T[m.get(be)]],W++})},ge=0;ge<Q.length;ge++)oe(ge);V=!0}v.relativePlacementConstraint&&(G=!0)})();else if(v.relativePlacementConstraint){for(var I=0,P=0,Y=0;Y<M.length;Y++)M[Y].length>I&&(I=M[Y].length,P=Y);if(I<k.size/2)U(v.relativePlacementConstraint),V=!1,G=!1;else{var B=new Map,F=new Map,X=[];M[P].forEach(function(W){$.get(W).forEach(function(z){z.direction=="horizontal"?(B.has(W)?B.get(W).push(z):B.set(W,[z]),B.has(z.id)||B.set(z.id,[]),X.push({left:W,right:z.id})):(F.has(W)?F.get(W).push(z):F.set(W,[z]),F.has(z.id)||F.set(z.id,[]),X.push({top:W,bottom:z.id}))})}),U(X),G=!1;var j=O(B,"horizontal"),J=O(F,"vertical");M[P].forEach(function(W,z){C[z]=[E[m.get(W)],T[m.get(W)]],R[z]=[],j.has(W)?R[z][0]=j.get(W):R[z][0]=E[m.get(W)],J.has(W)?R[z][1]=J.get(W):R[z][1]=T[m.get(W)]}),V=!0}}if(V){for(var ie=void 0,K=c.transpose(R),se=c.transpose(C),ye=0;ye<K.length;ye++)K[ye]=c.multGamma(K[ye]),se[ye]=c.multGamma(se[ye]);var te=c.multMat(K,c.transpose(se)),ne=p.svd(te);ie=c.multMat(ne.V,c.transpose(ne.U));for(var he=0;he<m.size;he++){var me=[E[he],T[he]],we=[ie[0][0],ie[1][0]],Te=[ie[0][1],ie[1][1]];E[he]=c.dotProduct(me,we),T[he]=c.dotProduct(me,Te)}G&&U(v.relativePlacementConstraint)}}if(l.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var le={x:0,y:0};v.fixedNodeConstraint.forEach(function(W,z){var Z={x:E[m.get(W.nodeId)],y:T[m.get(W.nodeId)]},ee=W.position,Q=L(ee,Z);le.x+=Q.x,le.y+=Q.y}),le.x/=v.fixedNodeConstraint.length,le.y/=v.fixedNodeConstraint.length,E.forEach(function(W,z){E[z]+=le.x}),T.forEach(function(W,z){T[z]+=le.y}),v.fixedNodeConstraint.forEach(function(W){E[m.get(W.nodeId)]=W.position.x,T[m.get(W.nodeId)]=W.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Re=v.alignmentConstraint.vertical,Ae=function(z){var Z=new Set;Re[z].forEach(function(oe){Z.add(oe)});var ee=new Set([].concat(h(Z)).filter(function(oe){return H.has(oe)})),Q=void 0;ee.size>0?Q=E[m.get(ee.values().next().value)]:Q=D(Z).x,Z.forEach(function(oe){H.has(oe)||(E[m.get(oe)]=Q)})},Be=0;Be<Re.length;Be++)Ae(Be);if(v.alignmentConstraint.horizontal)for(var He=v.alignmentConstraint.horizontal,qe=function(z){var Z=new Set;He[z].forEach(function(oe){Z.add(oe)});var ee=new Set([].concat(h(Z)).filter(function(oe){return H.has(oe)})),Q=void 0;ee.size>0?Q=T[m.get(ee.values().next().value)]:Q=D(Z).y,Z.forEach(function(oe){H.has(oe)||(T[m.get(oe)]=Q)})},Pe=0;Pe<He.length;Pe++)qe(Pe)}v.relativePlacementConstraint&&(function(){var W=new Map,z=new Map,Z=new Map,ee=new Map,Q=new Map,oe=new Map,ge=new Set,ue=new Set;if(H.forEach(function(Ve){ge.add(Ve),ue.add(Ve)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var ae=v.alignmentConstraint.vertical,re=function(Ee){Z.set("dummy"+Ee,[]),ae[Ee].forEach(function(Le){W.set(Le,"dummy"+Ee),Z.get("dummy"+Ee).push(Le),H.has(Le)&&ge.add("dummy"+Ee)}),Q.set("dummy"+Ee,E[m.get(ae[Ee][0])])},pe=0;pe<ae.length;pe++)re(pe);if(v.alignmentConstraint.horizontal)for(var _e=v.alignmentConstraint.horizontal,be=function(Ee){ee.set("dummy"+Ee,[]),_e[Ee].forEach(function(Le){z.set(Le,"dummy"+Ee),ee.get("dummy"+Ee).push(Le),H.has(Le)&&ue.add("dummy"+Ee)}),oe.set("dummy"+Ee,T[m.get(_e[Ee][0])])},Ie=0;Ie<_e.length;Ie++)be(Ie)}var de=new Map,fe=new Map,xe=function(Ee){$.get(Ee).forEach(function(Le){var st=void 0,Ke=void 0;Le.direction=="horizontal"?(st=W.get(Ee)?W.get(Ee):Ee,W.get(Le.id)?Ke={id:W.get(Le.id),gap:Le.gap,direction:Le.direction}:Ke=Le,de.has(st)?de.get(st).push(Ke):de.set(st,[Ke]),de.has(Ke.id)||de.set(Ke.id,[])):(st=z.get(Ee)?z.get(Ee):Ee,z.get(Le.id)?Ke={id:z.get(Le.id),gap:Le.gap,direction:Le.direction}:Ke=Le,fe.has(st)?fe.get(st).push(Ke):fe.set(st,[Ke]),fe.has(Ke.id)||fe.set(Ke.id,[]))})},ve=!0,ce=!1,Xe=void 0;try{for(var Ce=$.keys()[Symbol.iterator](),Ne;!(ve=(Ne=Ce.next()).done);ve=!0){var je=Ne.value;xe(je)}}catch(Ve){ce=!0,Xe=Ve}finally{try{!ve&&Ce.return&&Ce.return()}finally{if(ce)throw Xe}}var ke=_(de),$e=_(fe),Fe=b(ke),tt=b($e),pt=x(de),hr=x(fe),lt=[],yt=[];Fe.forEach(function(Ve,Ee){lt[Ee]=[],Ve.forEach(function(Le){pt.get(Le).length==0&&lt[Ee].push(Le)})}),tt.forEach(function(Ve,Ee){yt[Ee]=[],Ve.forEach(function(Le){hr.get(Le).length==0&&yt[Ee].push(Le)})});var mt=O(de,"horizontal",ge,Q,lt),ht=O(fe,"vertical",ue,oe,yt),Pt=function(Ee){Z.get(Ee)?Z.get(Ee).forEach(function(Le){E[m.get(Le)]=mt.get(Ee)}):E[m.get(Ee)]=mt.get(Ee)},bt=!0,Et=!1,au=void 0;try{for(var cr=mt.keys()[Symbol.iterator](),iu;!(bt=(iu=cr.next()).done);bt=!0){var dr=iu.value;Pt(dr)}}catch(Ve){Et=!0,au=Ve}finally{try{!bt&&cr.return&&cr.return()}finally{if(Et)throw au}}var Yv=function(Ee){ee.get(Ee)?ee.get(Ee).forEach(function(Le){T[m.get(Le)]=ht.get(Ee)}):T[m.get(Ee)]=ht.get(Ee)},vr=!0,ou=!1,su=void 0;try{for(var gr=ht.keys()[Symbol.iterator](),uu;!(vr=(uu=gr.next()).done);vr=!0){var dr=uu.value;Yv(dr)}}catch(Ve){ou=!0,su=Ve}finally{try{!vr&&gr.return&&gr.return()}finally{if(ou)throw su}}})()}for(var Ye=0;Ye<A.length;Ye++){var We=A[Ye];We.getChild()==null&&We.setCenter(E[m.get(We.id)],T[m.get(We.id)])}},t.exports=g}),551:(t=>{t.exports=i})},r={};function n(t){var s=r[t];if(s!==void 0)return s.exports;var f=r[t]={exports:{}};return u[t](f,f.exports,n),f.exports}var a=n(45);return a})()})})(Bt)),Bt.exports}var vm=kt.exports,Sd;function gm(){return Sd||(Sd=1,(function(e,o){(function(u,r){e.exports=r(dm())})(vm,function(i){return(()=>{var u={658:(t=>{t.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var f=arguments.length,h=Array(f>1?f-1:0),l=1;l<f;l++)h[l-1]=arguments[l];return h.forEach(function(d){Object.keys(d).forEach(function(c){return s[c]=d[c]})}),s}}),548:((t,s,f)=>{var h=(function(){function c(p,g){var y=[],v=!0,w=!1,m=void 0;try{for(var E=p[Symbol.iterator](),T;!(v=(T=E.next()).done)&&(y.push(T.value),!(g&&y.length===g));v=!0);}catch(A){w=!0,m=A}finally{try{!v&&E.return&&E.return()}finally{if(w)throw m}}return y}return function(p,g){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return c(p,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=f(140).layoutBase.LinkedList,d={};d.getTopMostNodes=function(c){for(var p={},g=0;g<c.length;g++)p[c[g].id()]=!0;var y=c.filter(function(v,w){typeof v=="number"&&(v=w);for(var m=v.parent()[0];m!=null;){if(p[m.id()])return!1;m=m.parent()[0]}return!0});return y},d.connectComponents=function(c,p,g,y){var v=new l,w=new Set,m=[],E=void 0,T=void 0,A=void 0,N=!1,q=1,S=[],L=[],D=function(){var U=c.collection();L.push(U);var b=g[0],_=c.collection();_.merge(b).merge(b.descendants().intersection(p)),m.push(b),_.forEach(function(C){v.push(C),w.add(C),U.merge(C)});for(var x=function(){b=v.shift();var V=c.collection();b.neighborhood().nodes().forEach(function(k){p.intersection(b.edgesWith(k)).length>0&&V.merge(k)});for(var G=0;G<V.length;G++){var H=V[G];if(E=g.intersection(H.union(H.ancestors())),E!=null&&!w.has(E[0])){var $=E.union(E.descendants());$.forEach(function(k){v.push(k),w.add(k),U.merge(k),g.has(k)&&m.push(k)})}}};v.length!=0;)x();if(U.forEach(function(C){p.intersection(C.connectedEdges()).forEach(function(V){U.has(V.source())&&U.has(V.target())&&U.merge(V)})}),m.length==g.length&&(N=!0),!N||N&&q>1){T=m[0],A=T.connectedEdges().length,m.forEach(function(C){C.connectedEdges().length<A&&(A=C.connectedEdges().length,T=C)}),S.push(T.id());var R=c.collection();R.merge(m[0]),m.forEach(function(C){R.merge(C)}),m=[],g=g.difference(R),q++}};do D();while(!N);return y&&S.length>0&&y.set("dummy"+(y.size+1),S),L},d.relocateComponent=function(c,p,g){if(!g.fixedNodeConstraint){var y=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;if(g.quality=="draft"){var E=!0,T=!1,A=void 0;try{for(var N=p.nodeIndexes[Symbol.iterator](),q;!(E=(q=N.next()).done);E=!0){var S=q.value,L=h(S,2),D=L[0],O=L[1],U=g.cy.getElementById(D);if(U){var b=U.boundingBox(),_=p.xCoords[O]-b.w/2,x=p.xCoords[O]+b.w/2,R=p.yCoords[O]-b.h/2,C=p.yCoords[O]+b.h/2;_<y&&(y=_),x>v&&(v=x),R<w&&(w=R),C>m&&(m=C)}}}catch(k){T=!0,A=k}finally{try{!E&&N.return&&N.return()}finally{if(T)throw A}}var V=c.x-(v+y)/2,G=c.y-(m+w)/2;p.xCoords=p.xCoords.map(function(k){return k+V}),p.yCoords=p.yCoords.map(function(k){return k+G})}else{Object.keys(p).forEach(function(k){var M=p[k],I=M.getRect().x,P=M.getRect().x+M.getRect().width,Y=M.getRect().y,B=M.getRect().y+M.getRect().height;I<y&&(y=I),P>v&&(v=P),Y<w&&(w=Y),B>m&&(m=B)});var H=c.x-(v+y)/2,$=c.y-(m+w)/2;Object.keys(p).forEach(function(k){var M=p[k];M.setCenter(M.getCenterX()+H,M.getCenterY()+$)})}}},d.calcBoundingBox=function(c,p,g,y){for(var v=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=void 0,A=void 0,N=void 0,q=void 0,S=c.descendants().not(":parent"),L=S.length,D=0;D<L;D++){var O=S[D];T=p[y.get(O.id())]-O.width()/2,A=p[y.get(O.id())]+O.width()/2,N=g[y.get(O.id())]-O.height()/2,q=g[y.get(O.id())]+O.height()/2,v>T&&(v=T),w<A&&(w=A),m>N&&(m=N),E<q&&(E=q)}var U={};return U.topLeftX=v,U.topLeftY=m,U.width=w-v,U.height=E-m,U},d.calcParentsWithoutChildren=function(c,p){var g=c.collection();return p.nodes(":parent").forEach(function(y){var v=!1;y.children().forEach(function(w){w.css("display")!="none"&&(v=!0)}),v||g.merge(y)}),g},t.exports=d}),816:((t,s,f)=>{var h=f(548),l=f(140).CoSELayout,d=f(140).CoSENode,c=f(140).layoutBase.PointD,p=f(140).layoutBase.DimensionD,g=f(140).layoutBase.LayoutConstants,y=f(140).layoutBase.FDLayoutConstants,v=f(140).CoSEConstants,w=function(E,T){var A=E.cy,N=E.eles,q=N.nodes(),S=N.edges(),L=void 0,D=void 0,O=void 0,U={};E.randomize&&(L=T.nodeIndexes,D=T.xCoords,O=T.yCoords);var b=function(k){return typeof k=="function"},_=function(k,M){return b(k)?k(M):k},x=h.calcParentsWithoutChildren(A,N),R=function $(k,M,I,P){for(var Y=M.length,B=0;B<Y;B++){var F=M[B],X=null;F.intersection(x).length==0&&(X=F.children());var j=void 0,J=F.layoutDimensions({nodeDimensionsIncludeLabels:P.nodeDimensionsIncludeLabels});if(F.outerWidth()!=null&&F.outerHeight()!=null)if(P.randomize)if(!F.isParent())j=k.add(new d(I.graphManager,new c(D[L.get(F.id())]-J.w/2,O[L.get(F.id())]-J.h/2),new p(parseFloat(J.w),parseFloat(J.h))));else{var ie=h.calcBoundingBox(F,D,O,L);F.intersection(x).length==0?j=k.add(new d(I.graphManager,new c(ie.topLeftX,ie.topLeftY),new p(ie.width,ie.height))):j=k.add(new d(I.graphManager,new c(ie.topLeftX,ie.topLeftY),new p(parseFloat(J.w),parseFloat(J.h))))}else j=k.add(new d(I.graphManager,new c(F.position("x")-J.w/2,F.position("y")-J.h/2),new p(parseFloat(J.w),parseFloat(J.h))));else j=k.add(new d(this.graphManager));if(j.id=F.data("id"),j.nodeRepulsion=_(P.nodeRepulsion,F),j.paddingLeft=parseInt(F.css("padding")),j.paddingTop=parseInt(F.css("padding")),j.paddingRight=parseInt(F.css("padding")),j.paddingBottom=parseInt(F.css("padding")),P.nodeDimensionsIncludeLabels&&(j.labelWidth=F.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,j.labelHeight=F.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,j.labelPosVertical=F.css("text-valign"),j.labelPosHorizontal=F.css("text-halign")),U[F.data("id")]=j,isNaN(j.rect.x)&&(j.rect.x=0),isNaN(j.rect.y)&&(j.rect.y=0),X!=null&&X.length>0){var K=void 0;K=I.getGraphManager().add(I.newGraph(),j),$(K,X,I,P)}}},C=function(k,M,I){for(var P=0,Y=0,B=0;B<I.length;B++){var F=I[B],X=U[F.data("source")],j=U[F.data("target")];if(X&&j&&X!==j&&X.getEdgesBetween(j).length==0){var J=M.add(k.newEdge(),X,j);J.id=F.id(),J.idealLength=_(E.idealEdgeLength,F),J.edgeElasticity=_(E.edgeElasticity,F),P+=J.idealLength,Y++}}E.idealEdgeLength!=null&&(Y>0?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=P/Y:b(E.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=y.DEFAULT_EDGE_LENGTH=E.idealEdgeLength,v.MIN_REPULSION_DIST=y.MIN_REPULSION_DIST=y.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=y.DEFAULT_EDGE_LENGTH)},V=function(k,M){M.fixedNodeConstraint&&(k.constraints.fixedNodeConstraint=M.fixedNodeConstraint),M.alignmentConstraint&&(k.constraints.alignmentConstraint=M.alignmentConstraint),M.relativePlacementConstraint&&(k.constraints.relativePlacementConstraint=M.relativePlacementConstraint)};E.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=y.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(v.MAX_ITERATIONS=y.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=y.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=y.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=E.tilingCompareBy),E.quality=="proof"?g.QUALITY=2:g.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=g.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=!E.randomize,v.ANIMATE=y.ANIMATE=g.ANIMATE=E.animate,v.TILE=E.tile,v.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!E.randomize,g.DEFAULT_UNIFORM_LEAF_NODE_SIZES=E.uniformNodeDimensions,E.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),E.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),E.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),E.step=="all"&&(E.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),E.fixedNodeConstraint||E.alignmentConstraint||E.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var G=new l,H=G.newGraphManager();return R(H.addRoot(),h.getTopMostNodes(q),G,E),C(G,H,S),V(G,E),G.runLayout(),U};t.exports={coseLayout:w}}),212:((t,s,f)=>{var h=(function(){function E(T,A){for(var N=0;N<A.length;N++){var q=A[N];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(T,q.key,q)}}return function(T,A,N){return A&&E(T.prototype,A),N&&E(T,N),T}})();function l(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}var d=f(658),c=f(548),p=f(657),g=p.spectralLayout,y=f(816),v=y.coseLayout,w=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(T){return 4500},idealEdgeLength:function(T){return 50},edgeElasticity:function(T){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),m=(function(){function E(T){l(this,E),this.options=d({},w,T)}return h(E,[{key:"run",value:function(){var A=this,N=this.options,q=N.cy,S=N.eles,L=[],D=[],O=void 0,U=[];N.fixedNodeConstraint&&(!Array.isArray(N.fixedNodeConstraint)||N.fixedNodeConstraint.length==0)&&(N.fixedNodeConstraint=void 0),N.alignmentConstraint&&(N.alignmentConstraint.vertical&&(!Array.isArray(N.alignmentConstraint.vertical)||N.alignmentConstraint.vertical.length==0)&&(N.alignmentConstraint.vertical=void 0),N.alignmentConstraint.horizontal&&(!Array.isArray(N.alignmentConstraint.horizontal)||N.alignmentConstraint.horizontal.length==0)&&(N.alignmentConstraint.horizontal=void 0)),N.relativePlacementConstraint&&(!Array.isArray(N.relativePlacementConstraint)||N.relativePlacementConstraint.length==0)&&(N.relativePlacementConstraint=void 0);var b=N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint;b&&(N.tile=!1,N.packComponents=!1);var _=void 0,x=!1;if(q.layoutUtilities&&N.packComponents&&(_=q.layoutUtilities("get"),_||(_=q.layoutUtilities()),x=!0),S.nodes().length>0)if(x){var V=c.getTopMostNodes(N.eles.nodes());if(O=c.connectComponents(q,N.eles,V),O.forEach(function(te){var ne=te.boundingBox();U.push({x:ne.x1+ne.w/2,y:ne.y1+ne.h/2})}),N.randomize&&O.forEach(function(te){N.eles=te,L.push(g(N))}),N.quality=="default"||N.quality=="proof"){var G=q.collection();if(N.tile){var H=new Map,$=[],k=[],M=0,I={nodeIndexes:H,xCoords:$,yCoords:k},P=[];if(O.forEach(function(te,ne){te.edges().length==0&&(te.nodes().forEach(function(he,me){G.merge(te.nodes()[me]),he.isParent()||(I.nodeIndexes.set(te.nodes()[me].id(),M++),I.xCoords.push(te.nodes()[0].position().x),I.yCoords.push(te.nodes()[0].position().y))}),P.push(ne))}),G.length>1){var Y=G.boundingBox();U.push({x:Y.x1+Y.w/2,y:Y.y1+Y.h/2}),O.push(G),L.push(I);for(var B=P.length-1;B>=0;B--)O.splice(P[B],1),L.splice(P[B],1),U.splice(P[B],1)}}O.forEach(function(te,ne){N.eles=te,D.push(v(N,L[ne])),c.relocateComponent(U[ne],D[ne],N)})}else O.forEach(function(te,ne){c.relocateComponent(U[ne],L[ne],N)});var F=new Set;if(O.length>1){var X=[],j=S.filter(function(te){return te.css("display")=="none"});O.forEach(function(te,ne){var he=void 0;if(N.quality=="draft"&&(he=L[ne].nodeIndexes),te.nodes().not(j).length>0){var me={};me.edges=[],me.nodes=[];var we=void 0;te.nodes().not(j).forEach(function(Te){if(N.quality=="draft")if(!Te.isParent())we=he.get(Te.id()),me.nodes.push({x:L[ne].xCoords[we]-Te.boundingbox().w/2,y:L[ne].yCoords[we]-Te.boundingbox().h/2,width:Te.boundingbox().w,height:Te.boundingbox().h});else{var le=c.calcBoundingBox(Te,L[ne].xCoords,L[ne].yCoords,he);me.nodes.push({x:le.topLeftX,y:le.topLeftY,width:le.width,height:le.height})}else D[ne][Te.id()]&&me.nodes.push({x:D[ne][Te.id()].getLeft(),y:D[ne][Te.id()].getTop(),width:D[ne][Te.id()].getWidth(),height:D[ne][Te.id()].getHeight()})}),te.edges().forEach(function(Te){var le=Te.source(),Re=Te.target();if(le.css("display")!="none"&&Re.css("display")!="none")if(N.quality=="draft"){var Ae=he.get(le.id()),Be=he.get(Re.id()),He=[],qe=[];if(le.isParent()){var Pe=c.calcBoundingBox(le,L[ne].xCoords,L[ne].yCoords,he);He.push(Pe.topLeftX+Pe.width/2),He.push(Pe.topLeftY+Pe.height/2)}else He.push(L[ne].xCoords[Ae]),He.push(L[ne].yCoords[Ae]);if(Re.isParent()){var Ye=c.calcBoundingBox(Re,L[ne].xCoords,L[ne].yCoords,he);qe.push(Ye.topLeftX+Ye.width/2),qe.push(Ye.topLeftY+Ye.height/2)}else qe.push(L[ne].xCoords[Be]),qe.push(L[ne].yCoords[Be]);me.edges.push({startX:He[0],startY:He[1],endX:qe[0],endY:qe[1]})}else D[ne][le.id()]&&D[ne][Re.id()]&&me.edges.push({startX:D[ne][le.id()].getCenterX(),startY:D[ne][le.id()].getCenterY(),endX:D[ne][Re.id()].getCenterX(),endY:D[ne][Re.id()].getCenterY()})}),me.nodes.length>0&&(X.push(me),F.add(ne))}});var J=_.packComponents(X,N.randomize).shifts;if(N.quality=="draft")L.forEach(function(te,ne){var he=te.xCoords.map(function(we){return we+J[ne].dx}),me=te.yCoords.map(function(we){return we+J[ne].dy});te.xCoords=he,te.yCoords=me});else{var ie=0;F.forEach(function(te){Object.keys(D[te]).forEach(function(ne){var he=D[te][ne];he.setCenter(he.getCenterX()+J[ie].dx,he.getCenterY()+J[ie].dy)}),ie++})}}}else{var R=N.eles.boundingBox();if(U.push({x:R.x1+R.w/2,y:R.y1+R.h/2}),N.randomize){var C=g(N);L.push(C)}N.quality=="default"||N.quality=="proof"?(D.push(v(N,L[0])),c.relocateComponent(U[0],D[0],N)):c.relocateComponent(U[0],L[0],N)}var K=function(ne,he){if(N.quality=="default"||N.quality=="proof"){typeof ne=="number"&&(ne=he);var me=void 0,we=void 0,Te=ne.data("id");return D.forEach(function(Re){Te in Re&&(me={x:Re[Te].getRect().getCenterX(),y:Re[Te].getRect().getCenterY()},we=Re[Te])}),N.nodeDimensionsIncludeLabels&&(we.labelWidth&&(we.labelPosHorizontal=="left"?me.x+=we.labelWidth/2:we.labelPosHorizontal=="right"&&(me.x-=we.labelWidth/2)),we.labelHeight&&(we.labelPosVertical=="top"?me.y+=we.labelHeight/2:we.labelPosVertical=="bottom"&&(me.y-=we.labelHeight/2))),me==null&&(me={x:ne.position("x"),y:ne.position("y")}),{x:me.x,y:me.y}}else{var le=void 0;return L.forEach(function(Re){var Ae=Re.nodeIndexes.get(ne.id());Ae!=null&&(le={x:Re.xCoords[Ae],y:Re.yCoords[Ae]})}),le==null&&(le={x:ne.position("x"),y:ne.position("y")}),{x:le.x,y:le.y}}};if(N.quality=="default"||N.quality=="proof"||N.randomize){var se=c.calcParentsWithoutChildren(q,S),ye=S.filter(function(te){return te.css("display")=="none"});N.eles=S.not(ye),S.nodes().not(":parent").not(ye).layoutPositions(A,N,K),se.length>0&&se.forEach(function(te){te.position(K(te))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),E})();t.exports=m}),657:((t,s,f)=>{var h=f(548),l=f(140).layoutBase.Matrix,d=f(140).layoutBase.SVD,c=function(g){var y=g.cy,v=g.eles,w=v.nodes(),m=v.nodes(":parent"),E=new Map,T=new Map,A=new Map,N=[],q=[],S=[],L=[],D=[],O=[],U=[],b=[],_=void 0,x=1e8,R=1e-9,C=g.piTol,V=g.samplingType,G=g.nodeSeparation,H=void 0,$=function(){for(var z=0,Z=0,ee=!1;Z<H;){z=Math.floor(Math.random()*_),ee=!1;for(var Q=0;Q<Z;Q++)if(L[Q]==z){ee=!0;break}if(!ee)L[Z]=z,Z++;else continue}},k=function(z,Z,ee){for(var Q=[],oe=0,ge=0,ue=0,ae=void 0,re=[],pe=0,_e=1,be=0;be<_;be++)re[be]=x;for(Q[ge]=z,re[z]=0;ge>=oe;){ue=Q[oe++];for(var Ie=N[ue],de=0;de<Ie.length;de++)ae=T.get(Ie[de]),re[ae]==x&&(re[ae]=re[ue]+1,Q[++ge]=ae);O[ue][Z]=re[ue]*G}if(ee){for(var fe=0;fe<_;fe++)O[fe][Z]<D[fe]&&(D[fe]=O[fe][Z]);for(var xe=0;xe<_;xe++)D[xe]>pe&&(pe=D[xe],_e=xe)}return _e},M=function(z){var Z=void 0;if(z){Z=Math.floor(Math.random()*_);for(var Q=0;Q<_;Q++)D[Q]=x;for(var oe=0;oe<H;oe++)L[oe]=Z,Z=k(Z,oe,z)}else{$();for(var ee=0;ee<H;ee++)k(L[ee],ee,z)}for(var ge=0;ge<_;ge++)for(var ue=0;ue<H;ue++)O[ge][ue]*=O[ge][ue];for(var ae=0;ae<H;ae++)U[ae]=[];for(var re=0;re<H;re++)for(var pe=0;pe<H;pe++)U[re][pe]=O[L[pe]][re]},I=function(){for(var z=d.svd(U),Z=z.S,ee=z.U,Q=z.V,oe=Z[0]*Z[0]*Z[0],ge=[],ue=0;ue<H;ue++){ge[ue]=[];for(var ae=0;ae<H;ae++)ge[ue][ae]=0,ue==ae&&(ge[ue][ae]=Z[ue]/(Z[ue]*Z[ue]+oe/(Z[ue]*Z[ue])))}b=l.multMat(l.multMat(Q,ge),l.transpose(ee))},P=function(){for(var z=void 0,Z=void 0,ee=[],Q=[],oe=[],ge=[],ue=0;ue<_;ue++)ee[ue]=Math.random(),Q[ue]=Math.random();ee=l.normalize(ee),Q=l.normalize(Q);for(var ae=R,re=R,pe=void 0;;){for(var _e=0;_e<_;_e++)oe[_e]=ee[_e];if(ee=l.multGamma(l.multL(l.multGamma(oe),O,b)),z=l.dotProduct(oe,ee),ee=l.normalize(ee),ae=l.dotProduct(oe,ee),pe=Math.abs(ae/re),pe<=1+C&&pe>=1)break;re=ae}for(var be=0;be<_;be++)oe[be]=ee[be];for(re=R;;){for(var Ie=0;Ie<_;Ie++)ge[Ie]=Q[Ie];if(ge=l.minusOp(ge,l.multCons(oe,l.dotProduct(oe,ge))),Q=l.multGamma(l.multL(l.multGamma(ge),O,b)),Z=l.dotProduct(ge,Q),Q=l.normalize(Q),ae=l.dotProduct(ge,Q),pe=Math.abs(ae/re),pe<=1+C&&pe>=1)break;re=ae}for(var de=0;de<_;de++)ge[de]=Q[de];q=l.multCons(oe,Math.sqrt(Math.abs(z))),S=l.multCons(ge,Math.sqrt(Math.abs(Z)))};h.connectComponents(y,v,h.getTopMostNodes(w),E),m.forEach(function(W){h.connectComponents(y,v,h.getTopMostNodes(W.descendants().intersection(v)),E)});for(var Y=0,B=0;B<w.length;B++)w[B].isParent()||T.set(w[B].id(),Y++);var F=!0,X=!1,j=void 0;try{for(var J=E.keys()[Symbol.iterator](),ie;!(F=(ie=J.next()).done);F=!0){var K=ie.value;T.set(K,Y++)}}catch(W){X=!0,j=W}finally{try{!F&&J.return&&J.return()}finally{if(X)throw j}}for(var se=0;se<T.size;se++)N[se]=[];m.forEach(function(W){for(var z=W.children().intersection(v);z.nodes(":childless").length==0;)z=z.nodes()[0].children().intersection(v);var Z=0,ee=z.nodes(":childless")[0].connectedEdges().length;z.nodes(":childless").forEach(function(Q,oe){Q.connectedEdges().length<ee&&(ee=Q.connectedEdges().length,Z=oe)}),A.set(W.id(),z.nodes(":childless")[Z].id())}),w.forEach(function(W){var z=void 0;W.isParent()?z=T.get(A.get(W.id())):z=T.get(W.id()),W.neighborhood().nodes().forEach(function(Z){v.intersection(W.edgesWith(Z)).length>0&&(Z.isParent()?N[z].push(A.get(Z.id())):N[z].push(Z.id()))})});var ye=function(z){var Z=T.get(z),ee=void 0;E.get(z).forEach(function(Q){y.getElementById(Q).isParent()?ee=A.get(Q):ee=Q,N[Z].push(ee),N[T.get(ee)].push(z)})},te=!0,ne=!1,he=void 0;try{for(var me=E.keys()[Symbol.iterator](),we;!(te=(we=me.next()).done);te=!0){var Te=we.value;ye(Te)}}catch(W){ne=!0,he=W}finally{try{!te&&me.return&&me.return()}finally{if(ne)throw he}}_=T.size;var le=void 0;if(_>2){H=_<g.sampleSize?_:g.sampleSize;for(var Re=0;Re<_;Re++)O[Re]=[];for(var Ae=0;Ae<H;Ae++)b[Ae]=[];return g.quality=="draft"||g.step=="all"?(M(V),I(),P(),le={nodeIndexes:T,xCoords:q,yCoords:S}):(T.forEach(function(W,z){q.push(y.getElementById(z).position("x")),S.push(y.getElementById(z).position("y"))}),le={nodeIndexes:T,xCoords:q,yCoords:S}),le}else{var Be=T.keys(),He=y.getElementById(Be.next().value),qe=He.position(),Pe=He.outerWidth();if(q.push(qe.x),S.push(qe.y),_==2){var Ye=y.getElementById(Be.next().value),We=Ye.outerWidth();q.push(qe.x+Pe/2+We/2+g.idealEdgeLength),S.push(qe.y)}return le={nodeIndexes:T,xCoords:q,yCoords:S},le}};t.exports={spectralLayout:c}}),579:((t,s,f)=>{var h=f(212),l=function(c){c&&c("layout","fcose",h)};typeof cytoscape<"u"&&l(cytoscape),t.exports=l}),140:(t=>{t.exports=i})},r={};function n(t){var s=r[t];if(s!==void 0)return s.exports;var f=r[t]={exports:{}};return u[t](f,f.exports,n),f.exports}var a=n(579);return a})()})})(kt)),kt.exports}var pm=gm();const ym=Gs(pm);var Xt={exports:{}},mm=Xt.exports,qd;function bm(){return qd||(qd=1,(function(e,o){(function(u,r){e.exports=r(Bv())})(mm,function(i){return(function(){var u={632:(function(t){t.exports=i})},r={};function n(t){var s=r[t];if(s!==void 0)return s.exports;var f=r[t]={exports:{}};return u[t](f,f.exports,n),f.exports}(function(){n.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(s,{a:s}),s}})(),(function(){n.d=function(t,s){for(var f in s)n.o(s,f)&&!n.o(t,f)&&Object.defineProperty(t,f,{enumerable:!0,get:s[f]})}})(),(function(){n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}})();var a={};return(function(){n.d(a,{default:function(){return q}});var t=n(632),s=n.n(t);function f(S){for(var L=arguments.length,D=new Array(L>1?L-1:0),O=1;O<L;O++)D[O-1]=arguments[O];return D.forEach(function(U){Object.keys(U).forEach(function(b){return S[b]=U[b]})}),S}var h=Object.assign!=null?Object.assign.bind(Object):f,l={nodeDimensionsIncludeLabels:!1,fit:!0,padding:20,animate:!1,animateFilter:function(){return!0},animationDuration:500,animationEasing:void 0,transform:function(L,D){return D},ready:void 0,stop:void 0,nodeLayoutOptions:void 0,elk:{algorithm:void 0},priority:function(){return null}},d=l;function c(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function p(S,L){for(var D=0;D<L.length;D++){var O=L[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}function g(S,L,D){return L&&p(S.prototype,L),Object.defineProperty(S,"prototype",{writable:!1}),S}var y={},v=function(L,D){for(var O=L.layoutDimensions(D),U=L.parent(),b=L.scratch("elk"),_={x:b.x,y:b.y};U.nonempty();){var x=U.scratch("elk");_.x+=x.x,_.y+=x.y,U=U.parent()}return _.x+=O.w/2,_.y+=O.h/2,_},w=function(L,D){var O={_cyEle:L,id:L.id()};if(D.nodeLayoutOptions&&(O.layoutOptions=D.nodeLayoutOptions(L)),!L.isParent()){var U=L.layoutDimensions(D),b=L.position();O.x=b.x-U.w/2,O.y=b.y-U.h/2,O.width=U.w,O.height=U.h}return L.scratch("elk",O),O},m=function(L){var D={_cyEle:L,id:L.id(),source:L.data("source"),target:L.data("target")};return L.scratch("elk",D),D},E=function(L,D,O){for(var U=[],b=[],_={},x={id:"root",children:[],edges:[]},R=0;R<L.length;R++){var C=L[R],V=w(C,O);U.push(V),_[C.id()]=V}for(var G=0;G<D.length;G++){var H=D[G],$=m(H);b.push($),_[H.id()]=$}for(var k=0;k<U.length;k++){var M=U[k],I=M._cyEle;if(!I.isChild())x.children.push(M);else{var P=I.parent(),Y=_[P.id()],B=Y.children=Y.children||[];B.push(M)}}for(var F=0;F<b.length;F++){var X=b[F];x.edges.push(X)}return x},T=(function(){function S(L){c(this,S);var D=L.elk,O=L.cy;this.options=h({},d,L),this.options.elk=h({aspectRatio:O.width()/O.height()},d.elk,D,y)}return g(S,[{key:"run",value:function(){var D=this,O=this.options,U=O.eles,b=U.nodes(),_=U.edges(),x=new(s()),R=E(b,_,O);return R.layoutOptions=O.elk,x.layout(R).then(function(){b.filter(function(C){return!C.isParent()}).layoutPositions(D,O,function(C){return v(C,O)})}),this}},{key:"stop",value:function(){return this}},{key:"destroy",value:function(){return this}}]),S})(),A=T,N=function(L){L&&L("layout","elk",A)};typeof cytoscape<"u"&&N(cytoscape);var q=N})(),a=a.default,a})()})})(Xt)),Xt.exports}var Em=bm();const wm=Gs(Em);function Oe(e){return typeof document>"u"?"":getComputedStyle(document.documentElement).getPropertyValue(e).trim()}const Me={primary:()=>Oe("--color-primary"),primary50:()=>Oe("--color-primary-50"),primaryHover:()=>Oe("--color-primary-hover"),border:()=>Oe("--color-border"),textPrimary:()=>Oe("--color-text-primary"),textSecondary:()=>Oe("--color-text-secondary"),textTertiary:()=>Oe("--color-text-tertiary"),background:()=>Oe("--color-background"),surface:()=>Oe("--color-surface"),success:()=>Oe("--color-success-500"),error:()=>Oe("--color-error-500"),info:()=>Oe("--color-info-500"),neutral500:()=>Oe("--color-neutral-500")},Se={person:Oe("--color-primary-500"),personBorder:Oe("--color-primary-600"),system:Oe("--color-neutral-900"),systemBorder:Oe("--color-neutral-700"),container:Me.background(),containerBorder:Oe("--color-neutral-700"),component:Oe("--color-neutral-100"),componentBorder:Oe("--color-neutral-400"),database:Me.background(),databaseBorder:Oe("--color-neutral-600"),edge:Me.neutral500(),edgeActive:Me.info(),textDark:Me.textPrimary(),textLight:"#ffffff"};function Ge(e,o,i){try{const u=e.data("metadata");if(!u||!Array.isArray(u))return i;const r=u.find(a=>a&&a.key===o);if(!r)return i;const n=r.value;return n!=null&&n!==""?n:i}catch{return i}}function Tm(e){const o=e.data("label")||"",i=e.data("type"),u=7.5,r=i==="person"?100:i==="system"?110:120,n=o.length*u,a=Math.min(n,r);let t=0;switch(i){case"person":t=24;break;case"system":t=66;break;case"container":{const f=Ge(e,"style.icon","");t=f&&typeof f=="string"&&f!==""?52:24;break}case"datastore":case"queue":t=24;break;default:t=24}return Math.max(i==="system"?120:80,a+t)}function Cm(e){const o=e.data("label")||"",i=e.data("type"),u=7.5,r=i==="person"?100:i==="system"?110:120,n=16,a=o.split(" ");let t=1,s=0;for(const l of a){const d=l.length*u;s+d>r?(t++,s=d):s+=d+u}let f=0;switch(i){case"person":f=56;break;case"system":f=32;break;case"container":case"datastore":case"queue":f=24;break;default:f=24}return Math.max(i==="person"?70:i==="system"?50:40,t*n+f)}function ut(e){const o=e.replace(/\s+/g," ").trim();return`data:image/svg+xml,${encodeURIComponent(o)}`}function nu(){const e=ut('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>'),o=ut('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line><line x1="7" y1="8" x2="7" y2="8.01"></line><line x1="12" y1="8" x2="12" y2="8.01"></line><line x1="17" y1="8" x2="17" y2="8.01"></line><line x1="7" y1="12" x2="17" y2="12"></line></svg>'),i=ut('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>');return{personIcon:e,systemIcon:o,containerIcon:i}}function Dt(e,o,i){try{const u=i(e,"style.icon","");if(!u||typeof u!="string")return o&&o!==""?o:"none";const r=nu();switch(u){case"person":return r.personIcon||o||"none";case"system":return r.systemIcon||o||"none";case"container":return r.containerIcon||o||"none";case"database":return ut('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path></svg>')||o||"none";case"cloud":return ut('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path></svg>')||o||"none";case"server":return ut('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg>')||o||"none";case"mobile":return ut('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>')||o||"none";case"browser":return ut('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>')||o||"none";default:return o&&o!==""?o:"none"}}catch{return o&&o!==""?o:"none"}}function xm(){return{selector:"node",style:{"text-valign":"center","text-halign":"center","text-wrap":"wrap","text-max-width":120,"font-family":"Inter, system-ui, sans-serif","font-size":12,"font-weight":500,"border-width":2,"overlay-opacity":0,"transition-property":"background-color, border-color, text-rotation","transition-duration":300,width:e=>Tm(e),height:e=>Cm(e),label:"data(label)","text-overflow-wrap":"anywhere"}}}function Nm(){const e=nu();return{selector:'node[type="person"]',style:{"background-color":o=>Ge(o,"style.color",Se.person)||Se.person,"border-color":Se.personBorder,color:Se.textLight,label:"data(label)",shape:o=>Ge(o,"style.shape","round-rectangle")||"round-rectangle",padding:12,"text-max-width":100,"background-image":o=>Dt(o,e.personIcon,Ge)||e.personIcon,"background-width":"20px","background-height":"20px","background-position-x":"50%","background-position-y":"20%","background-repeat":"no-repeat","text-valign":"center","text-halign":"center","text-margin-y":14,"text-margin-x":0,"text-background-padding":"2px","font-weight":600,"font-size":11}}}function _m(){const e=nu();return{selector:'node[type="system"]',style:{"background-color":o=>Ge(o,"style.color",Se.system)||Se.system,"border-color":Se.systemBorder,color:Se.textLight,label:"data(label)",shape:o=>Ge(o,"style.shape","round-rectangle")||"round-rectangle",padding:16,"padding-left":50,"padding-right":16,"padding-top":16,"padding-bottom":16,"text-max-width":110,"background-image":o=>Dt(o,e.systemIcon,Ge)||e.systemIcon,"background-width":"18px","background-height":"18px","background-position-x":"16px","background-position-y":"50%","background-repeat":"no-repeat","text-halign":"left","text-valign":"center","text-margin-x":0,"text-margin-y":0,"font-size":14,"font-weight":700,"text-transform":"uppercase"}}}function Rm(){return{selector:'node[type="container"]',style:{"background-color":e=>Ge(e,"style.color",Se.container)||Se.container,"border-color":Se.containerBorder,color:Se.textDark,label:"data(label)",shape:e=>Ge(e,"style.shape","round-rectangle")||"round-rectangle",padding:12,"padding-left":e=>{const o=Ge(e,"style.icon","");return o&&typeof o=="string"&&o!==""?40:12},"padding-right":12,"padding-top":12,"padding-bottom":12,"text-max-width":120,"background-image":e=>{const o=Ge(e,"style.icon","");return!o||typeof o!="string"?"none":Dt(e,"",Ge)},"background-width":"16px","background-height":"16px","background-position-x":"12px","background-position-y":"50%","background-repeat":"no-repeat","text-halign":e=>{const o=Ge(e,"style.icon","");return o&&typeof o=="string"&&o!==""?"left":"center"},"text-valign":"center","text-margin-x":e=>{const o=Ge(e,"style.icon","");return o&&typeof o=="string"&&o!==""?8:0},"text-margin-y":0}}}function Am(){return{selector:'node[type="datastore"]',style:{"background-color":e=>Ge(e,"style.color",Se.database)||Se.database,"border-color":Se.databaseBorder,color:Se.textDark,label:"data(label)",shape:e=>Ge(e,"style.shape","barrel")||"barrel",padding:12,"padding-left":12,"padding-right":12,"padding-top":12,"padding-bottom":12,"text-max-width":120,"border-width":2,"background-image":e=>{const o=Dt(e,"",Ge);return o&&o!==""?o:"none"},"background-width":"16px","background-height":"16px","background-position-x":"50%","background-position-y":"30%","background-repeat":"no-repeat","text-halign":"center","text-valign":"center","text-margin-y":8,"text-margin-x":0}}}function Lm(){return{selector:'node[type="queue"]',style:{"background-color":e=>Ge(e,"style.color",Se.container)||Se.container,"border-color":Se.containerBorder,color:Se.textDark,label:"data(label)",shape:e=>Ge(e,"style.shape","round-rectangle")||"round-rectangle",padding:12,"padding-left":12,"padding-right":12,"padding-top":12,"padding-bottom":12,"text-max-width":120,"background-image":e=>{const o=Dt(e,"",Ge);return o&&o!==""?o:"none"},"background-width":"16px","background-height":"16px","background-position-x":"50%","background-position-y":"30%","background-repeat":"no-repeat","text-halign":"center","text-valign":"center","text-margin-y":8,"text-margin-x":0}}}function Om(){return{selector:"edge",style:{width:2,"line-color":Me.neutral500(),"target-arrow-color":Me.neutral500(),"target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)","font-size":"10px",color:Se.edge,"text-background-color":Me.background(),"text-background-opacity":1,"text-background-padding":"2px","text-background-shape":"round-rectangle","text-border-opacity":0,"text-rotation":"autorotate","arrow-scale":1.2,opacity:.95}}}function Mm(){return[{selector:"node:selected",style:{"border-width":4,"border-color":Se.edgeActive,"border-opacity":1,"background-opacity":1}},{selector:"edge:selected",style:{"line-color":Se.edgeActive,"target-arrow-color":Se.edgeActive,color:Se.edgeActive,width:3,opacity:1}},{selector:"node:active",style:{"overlay-opacity":.2}}]}function Im(){return[{selector:":parent",style:{"background-color":Me.surface(),"border-color":Me.border(),"border-width":1,"border-style":"dashed",label:"data(label)","text-valign":"top","text-halign":"center","text-margin-y":-10,color:Me.textTertiary(),"font-size":12,"font-weight":600,padding:24,"text-transform":"uppercase"}},{selector:".collapsed",style:{"background-color":Me.border(),"border-style":"dashed",label:"data(label)","text-valign":"center","text-halign":"center",width:60,height:60}}]}function Sm(){return[{selector:'node[type="requirement"]',style:{display:"none"}},{selector:'node[type="adr"]',style:{display:"none"}}]}function qm(){return[xm(),Nm(),_m(),Rm(),Am(),Lm(),...Sm(),...Im(),Om(),...Mm()]}async function Dm(e){const o=e.getBoundingClientRect();o.width>0&&o.height>0||await new Promise(i=>{let u=!1;const r=()=>{const n=e.getBoundingClientRect();n.width>0&&n.height>0&&!u&&(u=!0,i())};if(typeof ResizeObserver<"u"){const n=new ResizeObserver(()=>r());n.observe(e),r(),setTimeout(()=>{u||(n.disconnect(),i())},2e3)}else{let n=0;const a=20,t=setInterval(()=>{n++,r(),(u||n>=a)&&(clearInterval(t),i())},100)}})}function Pm(e,o){return e?{name:"preset",fit:!0,padding:50,animate:!0,animationDuration:500}:{name:o&&["dagre","cose","fcose","elk"].includes(o)?o:"dagre",rankDir:"TB",nodeSep:50,rankSep:100,padding:50,animate:!0,animationDuration:500,fit:!0}}function Fm(e,o,i){let u=0;const r=5;return()=>{if(!e||e.destroyed())return;const n=o.getBoundingClientRect();if(rt.debug("Layout stopped, container dimensions",{width:n.width,height:n.height}),n.width>0&&n.height>0)e.fit(void 0,80),e.off("layoutstop",i);else{if(u++,u>=r){rt.warn("Container still has zero dimensions after max retries, giving up"),e.off("layoutstop",i);return}rt.warn(`Container still has zero dimensions at layoutstop, will retry (${u}/${r})`),setTimeout(()=>{if(e&&!e.destroyed()){const a=o.getBoundingClientRect();a.width>0&&a.height>0&&(e.fit(void 0,80),e.off("layoutstop",i))}},200)}}}function Gm(e,o){const i=o.getBoundingClientRect();if(i.width>0&&i.height>0){e.fit(void 0,80);return}rt.warn("Container has zero dimensions, will retry fit after delay");let u=0;const r=5,n=()=>{if(!e||e.destroyed())return;u++;const a=o.getBoundingClientRect();a.width>0&&a.height>0?e.fit(void 0,80):u<r?(rt.warn(`Container still has zero dimensions, retrying (${u}/${r})`),setTimeout(n,200)):rt.warn("Container still has zero dimensions after max retries, giving up")};setTimeout(n,200)}function Um(e,o){return e.png({output:"base64uri",full:!0,bg:Me.background(),scale:o?.scale||2})}function Dd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Hm(e,o){const i=o?.scale||1,u=e.elements().boundingBox(),r=u.w*i,n=u.h*i,a=u.x1,t=u.y1;let s=`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${n}" viewBox="0 0 ${u.w} ${u.h}">`;return s+="<defs>",s+='<style type="text/css"><![CDATA[',s+=`.node-label { font-family: system-ui, sans-serif; font-size: 12px; fill: ${Me.textPrimary()}; }`,s+=`.edge-label { font-family: system-ui, sans-serif; font-size: 10px; fill: ${Me.neutral500()}; }`,s+="]]></style>",s+=`<marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><polygon points="0 0, 10 3, 0 6" fill="${Me.neutral500()}"/></marker>`,s+="</defs>",s+=`<rect x="0" y="0" width="${u.w}" height="${u.h}" fill="${Me.background()}"/>`,e.edges().forEach(l=>{const d=l.source(),c=l.target(),p=d.position(),g=c.position(),y={x:p.x-a,y:p.y-t},v={x:g.x-a,y:g.y-t},w=v.x-y.x,m=v.y-y.y,E=Math.sqrt(w*w+m*m),T=Math.min(E*.3,50),A=y.x+w*.5,N=y.y-T,q=v.x-w*.5,S=v.y-T,L=`M ${y.x} ${y.y} C ${A} ${N}, ${q} ${S}, ${v.x} ${v.y}`;s+=`<path d="${L}" stroke="${Me.neutral500()}" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>`;const D=l.data("label");if(D){const O=(y.x+v.x)/2,U=(y.y+v.y)/2-T/2;s+=`<text x="${O}" y="${U}" text-anchor="middle" class="edge-label">${Dd(D)}</text>`}}),e.nodes().forEach(l=>{const d=l.position(),c={x:d.x-a,y:d.y-t},p=l.data(),g=l.width(),y=l.height(),v=p.type||"node",m={person:{bg:Oe("--color-primary-500"),border:Oe("--color-primary-600"),text:"#ffffff"},system:{bg:Oe("--color-neutral-900"),border:Oe("--color-neutral-700"),text:"#ffffff"},container:{bg:Me.background(),border:Oe("--color-neutral-700"),text:Me.textPrimary()},datastore:{bg:Me.background(),border:Oe("--color-neutral-600"),text:Me.textPrimary()},queue:{bg:Me.background(),border:Oe("--color-neutral-700"),text:Me.textPrimary()}}[v]||{bg:Me.background(),border:Me.neutral500(),text:Me.textPrimary()},E=v==="person"?g/2:8;s+=`<rect x="${c.x-g/2}" y="${c.y-y/2}" width="${g}" height="${y}" rx="${E}" fill="${m.bg}" stroke="${m.border}" stroke-width="2"/>`;const T=p.label||p.id;T&&(s+=`<text x="${c.x}" y="${c.y}" text-anchor="middle" dominant-baseline="middle" class="node-label" fill="${m.text}">${Dd(T)}</text>`)}),s+="</svg>",s}function Ym(e,o,i){const u=[];if(e.persons)for(const r of e.persons)i.add(r.id),u.push({data:{id:r.id,label:r.label||r.id,type:"person",metadata:r.metadata},position:o(r.id)});if(e.systems)for(const r of e.systems){if(i.add(r.id),u.push({data:{id:r.id,label:r.label||r.id,type:"system",metadata:r.metadata}}),r.containers)for(const n of r.containers){const a=`${r.id}.${n.id}`;if(i.add(a),u.push({data:{id:a,label:n.label||n.id,type:"container",parent:r.id,metadata:n.metadata},position:o(a)}),n.components)for(const t of n.components){const s=`${r.id}.${n.id}.${t.id}`;i.add(s),u.push({data:{id:s,label:t.label||t.id,type:"component",parent:`${r.id}.${n.id}`,metadata:t.metadata},position:o(s)})}}if(r.datastores)for(const n of r.datastores){const a=`${r.id}.${n.id}`;i.add(a),u.push({data:{id:a,label:n.label||n.id,type:"datastore",parent:r.id,metadata:n.metadata},position:o(a)})}if(r.queues)for(const n of r.queues){const a=`${r.id}.${n.id}`;i.add(a),u.push({data:{id:a,label:n.label||n.id,type:"queue",parent:r.id,metadata:n.metadata},position:o(a)})}}if(e.containers){for(const r of e.containers)if(i.add(r.id),u.push({data:{id:r.id,label:r.label||r.id,type:"container",metadata:r.metadata},position:o(r.id)}),r.components)for(const n of r.components){const a=`${r.id}.${n.id}`;i.add(a),u.push({data:{id:a,label:n.label||n.id,type:"component",parent:r.id,metadata:n.metadata},position:o(a)})}}if(e.datastores)for(const r of e.datastores)i.add(r.id),u.push({data:{id:r.id,label:r.label||r.id,type:"datastore",metadata:r.metadata},position:o(r.id)});if(e.queues)for(const r of e.queues)i.add(r.id),u.push({data:{id:r.id,label:r.label||r.id,type:"queue",metadata:r.metadata}});if(e.requirements)for(const r of e.requirements)i.add(r.id),u.push({data:{id:r.id,label:r.title||r.id,type:"requirement"},position:o(r.id)});if(e.adrs)for(const r of e.adrs)i.add(r.id),u.push({data:{id:r.id,label:r.title||r.id,type:"adr"},position:o(r.id)});if(e.deployment)for(const r of e.deployment)i.add(r.id),u.push({data:{id:r.id,label:r.label||r.id,type:"deployment"},position:o(r.id)});return u}function km(e,o){const i=[];if(e.relations)for(const u of e.relations){const r=o(u.from),n=o(u.to);r&&n&&i.push({data:{id:`${r}-${n}`,source:r,target:n,label:u.label||u.verb||""},group:"edges"})}return i}function Bm(e,o){const i=[];if(e.systems){for(const u of e.systems)if(u.relations)for(const r of u.relations){const n=`${u.id}.${r.from}`,a=`${u.id}.${r.to}`;o.has(n)&&o.has(a)&&i.push({data:{id:`${n}-${a}`,source:n,target:a,label:r.label||r.verb||""},group:"edges"})}}return i}function Vm(e,o,i){if(i.has(e))return e;if(o?.systems)for(const u of o.systems){const r=`${u.id}.${e}`;if(i.has(r))return r;if(u.containers)for(const n of u.containers){if(n.id===e)return`${u.id}.${e}`;if(n.components){for(const a of n.components)if(a.id===e)return`${u.id}.${n.id}.${e}`}}}return null}const Ut=24;function Xm(e){return{x:Math.round(e.x/Ut)*Ut,y:Math.round(e.y/Ut)*Ut}}function Wm(e,o,i){const u=a=>{const t=a.target;o.onSelect&&o.onSelect(t.id())},r=()=>{e.$("node:selected").length===0&&o.onSelect&&o.onSelect(null)};e.on("select","node",u),e.on("unselect","node",r);const n=a=>{const t=a.target,s=t.position(),f=Xm(s);t.position(f),i?.metadata&&(i.metadata.layout||(i.metadata.layout={}),i.metadata.layout[t.id()]={x:f.x,y:f.y,width:t.width(),height:t.height()},o.onDragFree&&o.onDragFree(t.id(),f))};return e.on("dragfree","node",n),()=>{e.off("select","node",u),e.off("unselect","node",r),e.off("dragfree","node",n)}}function Pd(e){const o={};return e.nodes().forEach(i=>{const u=i.data("id"),r=i.position(),n=i.width(),a=i.height();o[u]={x:Math.round(r.x),y:Math.round(r.y),width:Math.round(n),height:Math.round(a)}}),o}function ot(e){return e.data("metadata")}function Lt(e,o){return e.startsWith(o+".")?e.slice(o.length+1):e}function lr(e,o){return e.systems?.find(i=>i.id===o)}function zm(e,o){const i=e.data();o.persons||(o.persons=[]),o.persons.push({id:i.id,label:i.label,metadata:ot(e)})}function $m(e,o){const i=e.data();o.systems||(o.systems=[]),o.systems.push({id:i.id,label:i.label,metadata:ot(e)})}function jm(e,o){const i=e.data();o.requirements||(o.requirements=[]),o.requirements.push({id:i.id,title:i.label,metadata:ot(e)})}function Km(e,o){const i=e.data();o.adrs||(o.adrs=[]),o.adrs.push({id:i.id,title:i.label,metadata:ot(e)})}function Zm(e,o){const i=e.data();o.deployment||(o.deployment=[]),o.deployment.push({id:i.id,label:i.label,metadata:ot(e)})}function Qm(e,o,i){const u=o.data(),r=ot(o);if(u.parent&&e.getElementById(u.parent).data("type")==="system"){const n=lr(i,u.parent);if(n){n.containers||(n.containers=[]);const a=Lt(u.id,u.parent);n.containers.push({id:a,label:u.label,metadata:r})}}else i.containers||(i.containers=[]),i.containers.push({id:u.id,label:u.label,metadata:r})}function Jm(e,o,i){const u=o.data(),r=ot(o);if(u.parent&&e.getElementById(u.parent).data("type")==="system"){const n=lr(i,u.parent);if(n){n.datastores||(n.datastores=[]);const a=Lt(u.id,u.parent);n.datastores.push({id:a,label:u.label,metadata:r})}}else i.datastores||(i.datastores=[]),i.datastores.push({id:u.id,label:u.label,metadata:r})}function e0(e,o,i){const u=o.data(),r=ot(o);if(u.parent&&e.getElementById(u.parent).data("type")==="system"){const n=lr(i,u.parent);if(n){n.queues||(n.queues=[]);const a=Lt(u.id,u.parent);n.queues.push({id:a,label:u.label,metadata:r})}}else i.queues||(i.queues=[]),i.queues.push({id:u.id,label:u.label,metadata:r})}function t0(e,o,i){const u=o.data(),r=ot(o);if(!u.parent)return;const n=e.getElementById(u.parent);if(n.data("type")!=="container")return;const a=n.data("parent");if(!a)return;const t=lr(i,a);if(!t||!t.containers)return;const s=Lt(n.data("id"),a),f=t.containers.find(l=>l.id===s);if(!f)return;f.components||(f.components=[]);const h=Lt(u.id,n.id());f.components.push({id:h,label:u.label,metadata:r})}function r0(e,o){e.nodes().forEach(i=>{switch(i.data("type")){case"person":zm(i,o);break;case"system":$m(i,o);break;case"container":Qm(e,i,o);break;case"component":t0(e,i,o);break;case"datastore":Jm(e,i,o);break;case"queue":e0(e,i,o);break;case"requirement":jm(i,o);break;case"adr":Km(i,o);break;case"deployment":Zm(i,o);break}})}function n0(e,o){e.edges().forEach(i=>{const u=i.data(),r=u.source,n=u.target,a=u.label,t=e.getElementById(r),s=t.data("type");let f=!1;if(s==="system"||s==="container"||s==="component"||s==="datastore"||s==="queue"){let h=s==="system"?r:t.data("parent");h&&e.getElementById(h).data("type")==="container"&&(h=e.getElementById(h).data("parent"));const l=o.systems?.find(d=>d.id===h);if(l){l.relations||(l.relations=[]);const d=r===h?".":r.startsWith(h+".")?r.slice(h.length+1):r;let c=n;n.startsWith(h+".")&&(c=n.slice(h.length+1)),l.relations.push({from:d,to:c,label:a}),f=!0}}f||(o.relations||(o.relations=[]),o.relations.push({from:r,to:n,label:a}))})}const Fd=500,Gd=.25,Ds=1;function Uv(e,o){const i=e.getElementById(o);i.length!==0&&(i.data("collapsed",!0),i.addClass("collapsed"),i.descendants().style("display","none"))}function Hv(e,o){const i=e.getElementById(o);i.length!==0&&(i.data("collapsed",!1),i.removeClass("collapsed"),i.descendants().style("display","element"))}function Ud(e,o){e.$(`node[type="${o}"]`).forEach(u=>{Uv(e,u.id())})}function Ps(e,o){e.$(`node[type="${o}"]`).forEach(u=>{Hv(e,u.id())})}function Fs(e,o){return o.containerId?e.startsWith(o.containerId+".")||e===o.containerId:o.systemId?e===o.systemId||e.startsWith(o.systemId+"."):!1}function a0(e,o){e.elements().style("opacity",Ds),!(!o||!o.systemId&&!o.containerId)&&(e.nodes().forEach(i=>{const u=i.id(),r=Fs(u,o)?Ds:Gd;i.style("opacity",r)}),e.edges().forEach(i=>{const u=i.source().id(),r=i.target().id(),n=Fs(u,o),a=Fs(r,o),t=n||a?Ds:Gd;i.style("opacity",t)}))}function i0(e,o){if(o)return e.getElementById(o);const i=e.$("node:selected");return i.length===1?i[0]:null}typeof window<"u"&&(Ht.use(fm),Ht.use(ym),window.ELK=window.ELK||Vv,Ht.use(wm));class o0{container;cy=null;data;onSelect;focus;layoutStopHandler=null;eventCleanup=null;constructor(o){rt.info("SrujaViewer initialized (@sruja/viewer)"),this.container=o.container,this.data=o.data,this.onSelect=o.onSelect}async init(){this.cy&&this.destroy();const o=typeof this.container=="string"?document.querySelector(this.container):this.container;if(!o)throw new Error(`Container not found: ${this.container}`);const i=o,u=i.getBoundingClientRect();(u.width===0||u.height===0)&&(rt.debug("Container has zero dimensions, waiting for resize...",{width:u.width,height:u.height,display:window.getComputedStyle(i).display,visibility:window.getComputedStyle(i).visibility}),await Dm(i));const r=this.data?this.convertToCytoscape(this.data):[],n=this.data?.metadata,a=!!(n&&n.layout),t=r.some(d=>d.position!==void 0),s=a&&t,f=n&&typeof n.layoutEngine=="string"?n.layoutEngine:"",h=Pm(s,f);this.cy=Ht({container:o,elements:r,style:qm(),layout:h,minZoom:.1,maxZoom:3,boxSelectionEnabled:!0,autoungrabify:!1,userZoomingEnabled:!0,userPanningEnabled:!0}),this.eventCleanup=Wm(this.cy,{onSelect:this.onSelect},this.data);const l=o.getBoundingClientRect();if(rt.debug("Container dimensions at init",{width:l.width,height:l.height}),this.layoutStopHandler&&this.cy&&this.cy.off("layoutstop",this.layoutStopHandler),s)Gm(this.cy,o);else{this.cy.fit();const d=Fm(this.cy,o,()=>{this.cy&&(this.cy.off("layoutstop",d),this.layoutStopHandler=null)});this.layoutStopHandler=d,this.cy.on("layoutstop",d)}}async load(o){this.data=o,this.layoutStopHandler&&this.cy&&(this.cy.off("layoutstop",this.layoutStopHandler),this.layoutStopHandler=null),this.cy&&(this.cy.destroy(),this.cy=null),await this.init()}get cyInstance(){return this.cy}destroy(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null),this.layoutStopHandler&&this.cy&&(this.cy.off("layoutstop",this.layoutStopHandler),this.layoutStopHandler=null),this.cy&&(this.cy.destroy(),this.cy=null)}reset(){if(!this.cy)return;const o=this.cy;o.elements().unselect(),o.elements().removeClass("highlight"),o.elements().removeClass("scenario-highlight"),o.elements().style("background-color",""),o.elements().style("border-color",""),o.elements().style("border-width",""),o.edges().style("line-color","#94a3b8"),o.edges().style("target-arrow-color","#94a3b8"),o.edges().style("width","2"),o.elements().style("opacity",1),o.fit(void 0,80)}convertToCytoscape(o){const i=o.architecture||{},u=o.metadata?.layout||{},r=new Set,a=Ym(i,f=>u[f]?{x:u[f].x,y:u[f].y}:void 0,r),s=[...km(i,f=>Vm(f,i,r)),...Bm(i,r)];return[...a,...s]}addNode(o,i,u,r){if(!this.cy)return;let n=i.replace(/\s+/g,"");u&&(n=`${u}.${n}`);let a=n,t=1;for(;this.cy.getElementById(a).length>0;)a=`${n}${t}`,t++;const s={group:"nodes",data:{id:a,label:i,type:o,parent:u,...r}};this.cy.add(s);try{const f={name:"fcose",animate:!0,animationDuration:Fd,fit:!1,randomize:!1,nodeDimensionsIncludeLabels:!0};this.cy.layout(f).run()}catch(f){rt.warn("Layout failed in addNode",{error:f instanceof Error?f.message:String(f)})}}removeSelected(){if(!this.cy)return;const o=this.cy.$(":selected");o.length>0&&o.remove()}selectNode(o){if(!this.cy)return;const i=this.cy.getElementById(o);i.length>0&&(i.ancestors().forEach(u=>{u.data("collapsed")&&(u.data("collapsed",!1),u.removeClass("collapsed"),u.children().style("display","element"))}),this.cy.elements().unselect(),i.select(),this.cy.animate({fit:{eles:i,padding:50},duration:Fd}))}toggleCollapse(o){if(!this.cy)return;const i=i0(this.cy,o);if(!i||i.length===0||i.children().length===0)return;i.data("collapsed")?Hv(this.cy,i.id()):Uv(this.cy,i.id())}setLevel(o){if(!this.cy)return;const i=this.cy;i.batch(()=>{o===1?Ud(i,"system"):o===2?(Ps(i,"system"),Ud(i,"container")):o===3&&(Ps(i,"system"),Ps(i,"container"))})}setFocus(o){this.cy&&(this.focus=o,a0(this.cy,o||{}))}addEdge(o,i,u){this.cy&&this.cy.add({group:"edges",data:{source:o,target:i,label:u}})}exportPNG(o){return this.cy?Um(this.cy,o):""}exportSVG(o){return this.cy?Hm(this.cy,o):""}toJSON(){if(!this.cy)return this.data||{};const o={architecture:{},metadata:{name:"",version:"",generated:"",layout:{}},navigation:{levels:[]}},i=Pd(this.cy);return o.metadata.layout=i,r0(this.cy,o.architecture),n0(this.cy,o.architecture),o}getLayout(){return this.cy?Pd(this.cy):{}}}function s0(e){return new o0(e)}function u0({data:e,onSelect:o,className:i,style:u}){const r=Gt.useRef(null),n=Gt.useRef(null);return Gt.useEffect(()=>{if(!r.current)return;const a=s0({container:r.current,data:e,onSelect:o});return n.current=a,a.init(),()=>{a.destroy(),n.current=null}},[]),Gt.useEffect(()=>{n.current&&n.current.load(e)},[e]),kv.jsx("div",{ref:r,className:i,style:{width:"100%",height:"100%",...u||{}}})}u0.__docgenInfo={description:"",methods:[],displayName:"SrujaViewerView",props:{data:{required:!0,tsType:{name:"ArchitectureJSON"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string | null) => void",signature:{arguments:[{type:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},name:"id"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""}}};export{u0 as S};
