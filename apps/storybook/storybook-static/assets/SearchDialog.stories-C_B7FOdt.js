import{a as s,j as r}from"./iframe-CLHqt8sP.js";import{S as h}from"./SearchBar-DOqKo0pP.js";import{h as S,z as x}from"./dialog-BXVKZr_5.js";import"./preload-helper-PPVm8Dsz.js";import"./combobox-CkWSAl-G.js";import"./useFocusRing-4vPDgUpM.js";import"./index-DRowAfMf.js";import"./index-dLArjxyT.js";import"./use-resolve-button-type-DhPqIc8n.js";import"./keyboard-DOqIamXD.js";import"./use-sync-refs-v6ctzwoA.js";import"./use-by-comparator-Brosz9J5.js";import"./form-fields-Djd7uIxW.js";import"./hidden-CeoxBUgT.js";import"./floating-2JlZ9ldt.js";import"./element-movement-D0iZG3pA.js";import"./bugs-ByA1MTr8.js";import"./portal-CRTDVjVw.js";import"./focus-management-DE1YMz3g.js";import"./use-inert-others-D6T4iGKN.js";import"./use-event-listener-CbHIemfg.js";import"./open-closed-B--VY9yg.js";import"./use-tree-walker-D3zlMO2p.js";import"./active-element-history-BLsi1N3R.js";import"./description-ezvdKXnU.js";import"./frozen-CSHtb0Sm.js";import"./label-TZAP9ERS.js";import"./use-tab-direction-H-bZp2mB.js";import"./transition-Bjg5DtQF.js";import"./close-provider-CmZQmh2t.js";function u({isOpen:n,onClose:e,fetchResults:t,onSelect:l,verticalOffset:m,badge:d}){const[o,g]=s.useState(""),[f,p]=s.useState([]),[b,c]=s.useState(!1);return s.useEffect(()=>{let i=!0;return(async()=>{if(o.trim()===""){p([]);return}c(!0);try{const y=await t(o);i&&p(y)}finally{i&&c(!1)}})(),()=>{i=!1}},[o]),r.jsxs(S,{open:n,onClose:e,className:"relative z-[9999]",children:[r.jsx("div",{className:"fixed inset-0 bg-black/40",style:{zIndex:9998,position:"fixed",top:0,left:0,right:0,bottom:0}}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",style:{zIndex:9999,position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:m?"flex-start":"center",justifyContent:"center",padding:"1rem",paddingTop:m||void 0},children:r.jsx(x,{className:"w-full max-w-xl",style:{position:"relative",zIndex:1e4,margin:"0 auto",width:"100%",maxWidth:"42rem"},children:r.jsx(h,{query:o,onQueryChange:g,results:f,loading:b,onSelect:i=>{l(i),e()},badge:d})})})]})}u.__docgenInfo={description:"",methods:[],displayName:"SearchDialog",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},fetchResults:{required:!0,tsType:{name:"signature",type:"function",raw:"(q: string) => Promise<SearchItem[]>",signature:{arguments:[{type:{name:"string"},name:"q"}],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string
  label: string
  subLabel?: string
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"subLabel",value:{name:"string",required:!1}}]}}],raw:"SearchItem[]"}],raw:"Promise<SearchItem[]>"}}},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: SearchItem | null) => void",signature:{arguments:[{type:{name:"union",raw:"SearchItem | null",elements:[{name:"signature",type:"object",raw:`{
  id: string
  label: string
  subLabel?: string
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"subLabel",value:{name:"string",required:!1}}]}},{name:"null"}]},name:"item"}],return:{name:"void"}}},description:""},verticalOffset:{required:!1,tsType:{name:"string"},description:""},badge:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ee={title:"Search/SearchDialog",component:u,tags:["autodocs"]},v=[{id:"api",label:"API Service",subLabel:"WebApp"},{id:"db",label:"Database",subLabel:"WebApp"},{id:"user",label:"End User",subLabel:"Actor"}];async function w(n){await new Promise(t=>setTimeout(t,200));const e=n.trim().toLowerCase();return e?v.filter(t=>t.label.toLowerCase().includes(e)||(t.subLabel||"").toLowerCase().includes(e)):[]}const a=()=>{const[n,e]=s.useState(!0),[t,l]=s.useState(null);return r.jsxs("div",{children:[r.jsx("button",{onClick:()=>e(!0),children:"Open"}),r.jsx(u,{isOpen:n,onClose:()=>e(!1),fetchResults:w,onSelect:l}),r.jsxs("div",{style:{marginTop:8},children:["Selected: ",t?t.label:"None"]})]})};a.__docgenInfo={description:"",methods:[],displayName:"Basic"};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:`() => {
  const [open, setOpen] = useState(true);
  const [sel, setSel] = useState<SearchItem | null>(null);
  return <div>
      <button onClick={() => setOpen(true)}>Open</button>
      <SearchDialog isOpen={open} onClose={() => setOpen(false)} fetchResults={fetchResults} onSelect={setSel} />
      <div style={{
      marginTop: 8
    }}>Selected: {sel ? sel.label : 'None'}</div>
    </div>;
}`,...a.parameters?.docs?.source}}};const te=["Basic"];export{a as Basic,te as __namedExportsOrder,ee as default};
