import{a as c,R as d}from"./iframe-CLHqt8sP.js";import{f as v,s as y}from"./hidden-CeoxBUgT.js";import{l as m,t as i}from"./keyboard-DOqIamXD.js";import{o as f}from"./use-sync-refs-v6ctzwoA.js";import{s as b}from"./portal-CRTDVjVw.js";function q({defaultContainers:t=[],portals:r,mainTreeNode:l}={}){let s=f(()=>{var u,n;let a=m(l),o=[];for(let e of t)e!==null&&(i(e)?o.push(e):"current"in e&&i(e.current)&&o.push(e.current));if(r!=null&&r.current)for(let e of r.current)o.push(e);for(let e of(u=a?.querySelectorAll("html > *, body > *"))!=null?u:[])e!==document.body&&e!==document.head&&i(e)&&e.id!=="headlessui-portal-root"&&(l&&(e.contains(l)||e.contains((n=l?.getRootNode())==null?void 0:n.host))||o.some(h=>e.contains(h))||o.push(e));return o});return{resolveContainers:s,contains:f(u=>s().some(n=>n.contains(u)))}}let p=c.createContext(null);function A({children:t,node:r}){let[l,s]=c.useState(null),u=k(r??l);return d.createElement(p.Provider,{value:u},t,u===null&&d.createElement(v,{features:y.Hidden,ref:n=>{var a,o;if(n){for(let e of(o=(a=m(n))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(e!==document.body&&e!==document.head&&i(e)&&e!=null&&e.contains(n)){s(e);break}}}}))}function k(t=null){var r;return(r=c.useContext(p))!=null?r:t}var w=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(w||{});function B(){let t=c.useRef(0);return b(!0,"keydown",r=>{r.key==="Tab"&&(t.current=r.shiftKey?1:0)},!0),t}export{q as S,w as a,A as j,B as u,k as x};
